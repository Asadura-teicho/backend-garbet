(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[6807],{72206:function(e,t,n){Promise.resolve().then(n.bind(n,89217))},89217:function(e,t,n){"use strict";n.r(t);var a=n(57437),s=n(2265),r=n(61396),i=n.n(r),l=n(24033),d=n(96666),c=n(28707),o=n(62385),x=n(66209),m=n(24215);t.default=function(){var e,t,n;(0,l.usePathname)();let[r,h]=(0,s.useState)(""),[u,b]=(0,s.useState)("Status"),[g,p]=(0,s.useState)("Date Range"),[f,w]=(0,s.useState)([]),[j,v]=(0,s.useState)(!1),[N,k]=(0,s.useState)(""),[y,z]=(0,s.useState)(1),[S,C]=(0,s.useState)(1),[A,E]=(0,s.useState)(0),[D,R]=(0,s.useState)([]),[B,_]=(0,s.useState)(!1),[I,F]=(0,s.useState)(!1),[M,T]=(0,s.useState)(""),[W,O]=(0,s.useState)(""),[L,P]=(0,s.useState)(null),[U,G]=(0,s.useState)(""),[Z,J]=(0,s.useState)(""),[Y,$]=(0,s.useState)(""),[V,K]=(0,s.useState)(!1);(0,s.useEffect)(()=>{X()},[y,u,Z,Y]);let X=async()=>{v(!0),k("");try{let e={page:y,limit:50};r&&(e.search=r),u&&"Status"!==u&&(e.status=u.toLowerCase()),Z&&(e.startDate=Z),Y&&(e.endDate=Y);let t=await o.Sb.getBets(e);w(t.data.bets||[]),C(t.data.totalPages||1),E(t.data.total||0)}catch(n){var e,t;k((null===(t=n.response)||void 0===t?void 0:null===(e=t.data)||void 0===e?void 0:e.message)||"Bahisler y\xfcklenirken bir hata oluştu"),m.cM.apiError("/admin/bets",n)}finally{v(!1)}},q=e=>{switch(e){case"won":return"bg-green-500/20 text-green-400";case"lost":return"bg-red-500/20 text-red-400";case"pending":return"bg-yellow-500/20 text-yellow-400";case"cancelled":case"refunded":return"bg-blue-500/20 text-blue-400";default:return"bg-gray-500/20 text-gray-400"}},H=e=>{switch(e){case"won":return"Won";case"lost":return"Lost";case"pending":return"Pending";case"cancelled":return"Cancelled";case"refunded":return"Refunded";default:return e}},Q=e=>{var t;return e.match?"".concat(e.match.teamA||e.match.homeTeam||""," vs ").concat(e.match.teamB||e.match.awayTeam||""):e.marketName||(null===(t=e.match)||void 0===t?void 0:t.matchName)||"N/A"},ee=e=>{R(t=>t.includes(e)?t.filter(t=>t!==e):[...t,e])},et=e=>{P(e),T(""),O(e.potentialWin||""),_(!0)},en=async()=>{if(M&&L)try{let e={status:M};"won"===M&&W&&(e.winAmount=parseFloat(W)),await o.Sb.settleBet(L._id,e),G("Bet settled successfully"),_(!1),P(null),T(""),O(""),X()}catch(n){var e,t;k((null===(t=n.response)||void 0===t?void 0:null===(e=t.data)||void 0===e?void 0:e.message)||"Failed to settle bet"),m.cM.apiError("/admin/bets/settle",n)}},ea=async()=>{if(M&&0!==D.length)try{await o.Sb.bulkSettleBets({betIds:D,status:M}),G("Successfully settled ".concat(D.length," bets")),R([]),F(!1),T(""),X()}catch(n){var e,t;k((null===(t=n.response)||void 0===t?void 0:null===(e=t.data)||void 0===e?void 0:e.message)||"Failed to settle bets"),m.cM.apiError("/admin/bets/bulk-settle",n)}},es=async()=>{try{let e={};r&&(e.search=r),u&&"Status"!==u&&(e.status=u.toLowerCase()),Z&&(e.startDate=Z),Y&&(e.endDate=Y);let t=await o.Sb.exportBets(e),n=new Blob([t.data],{type:"text/csv;charset=utf-8;"}),a=document.createElement("a"),s=URL.createObjectURL(n);a.setAttribute("href",s),a.setAttribute("download","bets-export-".concat(new Date().toISOString().split("T")[0],".csv")),a.style.visibility="hidden",document.body.appendChild(a),a.click(),document.body.removeChild(a),G("Bets exported successfully")}catch(n){var e,t;k((null===(t=n.response)||void 0===t?void 0:null===(e=t.data)||void 0===e?void 0:e.message)||"Failed to export bets"),m.cM.apiError("/admin/bets/export",n)}};return(0,a.jsx)(d.Z,{children:(0,a.jsxs)("div",{className:"flex min-h-screen w-full bg-background-dark",children:[(0,a.jsx)(c.Z,{}),(0,a.jsx)("main",{className:"flex-1 p-4 sm:p-6 lg:p-8 ml-0 lg:ml-64",children:(0,a.jsxs)("div",{className:"w-full max-w-7xl mx-auto",children:[(0,a.jsxs)("div",{className:"flex flex-wrap justify-between items-center gap-4 mb-6",children:[(0,a.jsx)("h1",{className:"text-zinc-900 dark:text-white text-4xl font-black leading-tight tracking-[-0.033em]",children:"Betting Management"}),(0,a.jsxs)("div",{className:"flex items-center gap-2",children:[D.length>0&&(0,a.jsxs)(a.Fragment,{children:[(0,a.jsxs)("button",{onClick:()=>F(!0),className:"flex items-center justify-center gap-2 overflow-hidden rounded-lg h-10 px-4 bg-yellow-500 text-white text-sm font-bold leading-normal tracking-[0.015em] hover:bg-yellow-600 transition-colors",children:[(0,a.jsx)("span",{className:"material-symbols-outlined text-lg",children:"gavel"}),(0,a.jsxs)("span",{className:"truncate",children:["Bulk Settle (",D.length,")"]})]}),(0,a.jsx)("button",{onClick:()=>R([]),className:"flex items-center justify-center gap-2 overflow-hidden rounded-lg h-10 px-4 bg-gray-500 text-white text-sm font-bold leading-normal tracking-[0.015em] hover:bg-gray-600 transition-colors",children:(0,a.jsx)("span",{className:"truncate",children:"Clear Selection"})})]}),(0,a.jsxs)("button",{onClick:es,className:"flex items-center justify-center gap-2 overflow-hidden rounded-lg h-10 px-4 bg-green-500 text-white text-sm font-bold leading-normal tracking-[0.015em] hover:bg-green-600 transition-colors",children:[(0,a.jsx)("span",{className:"material-symbols-outlined text-lg",children:"download"}),(0,a.jsx)("span",{className:"truncate",children:"Export CSV"})]})]})]}),N&&(0,a.jsx)("div",{className:"mb-4 rounded-lg bg-red-500/20 border border-red-500/50 p-4",children:(0,a.jsx)("p",{className:"text-sm text-red-400",children:N})}),U&&(0,a.jsx)("div",{className:"mb-4 rounded-lg bg-green-500/20 border border-green-500/50 p-4",children:(0,a.jsx)("p",{className:"text-sm text-green-400",children:U})}),(0,a.jsx)("div",{className:"bg-white dark:bg-[#111718] p-4 rounded-xl shadow-sm mb-6",children:(0,a.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-4",children:[(0,a.jsx)("div",{className:"md:col-span-2",children:(0,a.jsx)("label",{className:"flex flex-col min-w-40 h-12 w-full",children:(0,a.jsxs)("div",{className:"flex w-full flex-1 items-stretch rounded-lg h-full",children:[(0,a.jsx)("div",{className:"text-[#9cb5ba] flex border-none bg-zinc-100 dark:bg-[#283639] items-center justify-center pl-4 rounded-l-lg border-r-0",children:(0,a.jsx)("span",{className:"material-symbols-outlined",children:"search"})}),(0,a.jsx)("input",{className:"form-input flex w-full min-w-0 flex-1 resize-none overflow-hidden rounded-r-lg text-zinc-900 dark:text-white focus:outline-0 focus:ring-2 focus:ring-[#0dccf2] border-none bg-zinc-100 dark:bg-[#283639] h-full placeholder:text-[#9cb5ba] px-4 pl-2 text-base font-normal leading-normal",placeholder:"Search by Bet ID, User...",value:r,onChange:e=>{h(e.target.value),z(1)},onKeyDown:e=>{"Enter"===e.key&&X()},type:"text"})]})})}),(0,a.jsx)("div",{children:(0,a.jsxs)("select",{value:u,onChange:e=>{b(e.target.value),z(1)},className:"flex h-12 w-full items-center justify-between gap-x-2 rounded-lg bg-zinc-100 dark:bg-[#283639] px-4 hover:bg-zinc-200 dark:hover:bg-[#1b2527] transition-colors text-zinc-900 dark:text-white text-sm font-medium leading-normal focus:outline-none focus:ring-2 focus:ring-[#0dccf2]",children:[(0,a.jsx)("option",{value:"Status",children:"Status: All"}),(0,a.jsx)("option",{value:"pending",children:"Pending"}),(0,a.jsx)("option",{value:"won",children:"Won"}),(0,a.jsx)("option",{value:"lost",children:"Lost"}),(0,a.jsx)("option",{value:"cancelled",children:"Cancelled"}),(0,a.jsx)("option",{value:"refunded",children:"Refunded"})]})}),V?(0,a.jsxs)("div",{className:"flex gap-2 items-center",children:[(0,a.jsx)("input",{type:"date",value:Z,onChange:e=>J(e.target.value),className:"h-12 rounded-lg bg-zinc-100 dark:bg-[#283639] px-4 text-zinc-900 dark:text-white text-sm border border-zinc-200 dark:border-[#3b5054] focus:outline-none focus:ring-2 focus:ring-[#0dccf2]",placeholder:"Start Date"}),(0,a.jsx)("input",{type:"date",value:Y,onChange:e=>$(e.target.value),className:"h-12 rounded-lg bg-zinc-100 dark:bg-[#283639] px-4 text-zinc-900 dark:text-white text-sm border border-zinc-200 dark:border-[#3b5054] focus:outline-none focus:ring-2 focus:ring-[#0dccf2]",placeholder:"End Date"}),(0,a.jsx)("button",{onClick:()=>{K(!1),J(""),$("")},className:"h-12 w-12 rounded-lg bg-zinc-100 dark:bg-[#283639] hover:bg-zinc-200 dark:hover:bg-[#1b2527] flex items-center justify-center transition-colors",children:(0,a.jsx)("span",{className:"material-symbols-outlined text-zinc-500 dark:text-white",children:"close"})})]}):(0,a.jsx)("div",{children:(0,a.jsxs)("button",{onClick:()=>K(!0),className:"flex h-12 w-full items-center justify-between gap-x-2 rounded-lg bg-zinc-100 dark:bg-[#283639] px-4 hover:bg-zinc-200 dark:hover:bg-[#1b2527] transition-colors",children:[(0,a.jsx)("p",{className:"text-zinc-900 dark:text-white text-sm font-medium leading-normal",children:"Date Range"}),(0,a.jsx)("span",{className:"material-symbols-outlined text-zinc-500 dark:text-white",children:"expand_more"})]})})]})}),(0,a.jsx)("div",{className:"overflow-hidden rounded-xl border border-zinc-200 dark:border-[#3b5054] bg-white dark:bg-[#111718] shadow-sm",children:(0,a.jsx)("div",{className:"overflow-x-auto",children:(0,a.jsxs)("table",{className:"w-full text-sm",children:[(0,a.jsx)("thead",{className:"bg-zinc-50 dark:bg-[#1b2527]",children:(0,a.jsxs)("tr",{children:[(0,a.jsx)("th",{className:"px-6 py-4 text-left text-zinc-600 dark:text-white font-medium",children:(0,a.jsx)("input",{type:"checkbox",checked:D.length===f.filter(e=>"pending"===e.status).length&&f.filter(e=>"pending"===e.status).length>0,onChange:()=>{D.length===f.length&&f.length>0?R([]):R(f.filter(e=>"pending"===e.status).map(e=>e._id))},className:"rounded border-zinc-300 dark:border-white/20 bg-transparent"})}),(0,a.jsx)("th",{className:"px-6 py-4 text-left text-zinc-600 dark:text-white font-medium",children:"Bet ID"}),(0,a.jsx)("th",{className:"px-6 py-4 text-left text-zinc-600 dark:text-white font-medium",children:"User"}),(0,a.jsx)("th",{className:"px-6 py-4 text-left text-zinc-600 dark:text-white font-medium",children:"Match"}),(0,a.jsx)("th",{className:"px-6 py-4 text-left text-zinc-600 dark:text-white font-medium",children:"Selection"}),(0,a.jsx)("th",{className:"px-6 py-4 text-left text-zinc-600 dark:text-white font-medium",children:"Odds"}),(0,a.jsx)("th",{className:"px-6 py-4 text-left text-zinc-600 dark:text-white font-medium",children:"Stake"}),(0,a.jsx)("th",{className:"px-6 py-4 text-left text-zinc-600 dark:text-white font-medium",children:"Potential Win"}),(0,a.jsx)("th",{className:"px-6 py-4 text-left text-zinc-600 dark:text-white font-medium",children:"Status"}),(0,a.jsx)("th",{className:"px-6 py-4 text-left text-zinc-600 dark:text-white font-medium",children:"Date/Time"}),(0,a.jsx)("th",{className:"px-6 py-4 text-right text-zinc-600 dark:text-[#9cb5ba] font-medium",children:"Actions"})]})}),(0,a.jsx)("tbody",{className:"divide-y divide-zinc-200 dark:divide-t-[#3b5054]",children:j?(0,a.jsx)("tr",{children:(0,a.jsx)("td",{colSpan:11,className:"px-6 py-8 text-center text-zinc-600 dark:text-[#9cb5ba]",children:"Y\xfckleniyor..."})}):0===f.length?(0,a.jsx)("tr",{children:(0,a.jsx)("td",{colSpan:11,className:"px-6 py-8 text-center text-zinc-600 dark:text-[#9cb5ba]",children:"Bahis bulunamadı."})}):f.map(e=>{var t,n,s,r;return(0,a.jsxs)("tr",{className:"hover:bg-zinc-50 dark:hover:bg-[#1b2527]/50 transition-colors",children:[(0,a.jsx)("td",{className:"px-6 py-4 whitespace-nowrap",children:"pending"===e.status&&(0,a.jsx)("input",{type:"checkbox",checked:D.includes(e._id),onChange:()=>ee(e._id),className:"rounded border-zinc-300 dark:border-white/20 bg-transparent"})}),(0,a.jsxs)("td",{className:"px-6 py-4 whitespace-nowrap font-mono text-zinc-600 dark:text-[#9cb5ba]",children:[e._id.toString().substring(0,8),"..."]}),(0,a.jsx)("td",{className:"px-6 py-4 whitespace-nowrap",children:(0,a.jsx)(i(),{href:"/admin/users?search=".concat((null===(t=e.user)||void 0===t?void 0:t.username)||(null===(n=e.user)||void 0===n?void 0:n.email)||""),className:"font-medium text-zinc-900 dark:text-white hover:text-[#0dccf2] dark:hover:text-[#0dccf2] transition-colors",children:(null===(s=e.user)||void 0===s?void 0:s.username)||(null===(r=e.user)||void 0===r?void 0:r.email)||"N/A"})}),(0,a.jsx)("td",{className:"px-6 py-4 whitespace-nowrap text-zinc-600 dark:text-[#9cb5ba]",children:(0,a.jsxs)("div",{className:"flex flex-col",children:[(0,a.jsx)("span",{className:"font-medium text-zinc-900 dark:text-white",children:Q(e)}),(0,a.jsx)("span",{className:"text-xs text-zinc-500 dark:text-[#9cb5ba]",children:e.marketName||e.marketType||""})]})}),(0,a.jsx)("td",{className:"px-6 py-4 whitespace-nowrap text-zinc-900 dark:text-white",children:(0,a.jsxs)("div",{className:"flex flex-col",children:[(0,a.jsx)("span",{className:"font-medium",children:e.selection||"N/A"}),(0,a.jsx)("span",{className:"text-xs text-zinc-500 dark:text-[#9cb5ba]",children:e.marketType||""})]})}),(0,a.jsx)("td",{className:"px-6 py-4 whitespace-nowrap text-zinc-900 dark:text-white font-medium",children:e.odds?"@".concat(e.odds.toFixed(2)):"N/A"}),(0,a.jsx)("td",{className:"px-6 py-4 whitespace-nowrap text-zinc-900 dark:text-white font-medium",children:(0,x.dN)(e.stake)}),(0,a.jsx)("td",{className:"px-6 py-4 whitespace-nowrap text-zinc-900 dark:text-white font-medium",children:"won"===e.status?(0,x.dN)(e.winAmount||e.potentialWin):(0,x.dN)(e.potentialWin||0)}),(0,a.jsx)("td",{className:"px-6 py-4 whitespace-nowrap",children:(0,a.jsx)("span",{className:"inline-flex items-center px-3 py-1 rounded-full text-xs font-medium ".concat(q(e.status)),children:H(e.status)})}),(0,a.jsx)("td",{className:"px-6 py-4 whitespace-nowrap text-zinc-600 dark:text-[#9cb5ba]",children:(0,x.p6)(e.createdAt)}),(0,a.jsx)("td",{className:"px-6 py-4 whitespace-nowrap text-right",children:(0,a.jsxs)("div",{className:"flex items-center justify-end gap-2",children:["pending"===e.status&&(0,a.jsx)("button",{onClick:()=>et(e),className:"text-yellow-500 hover:text-yellow-600 transition-colors",title:"Settle Bet",children:(0,a.jsx)("span",{className:"material-symbols-outlined",children:"gavel"})}),(0,a.jsx)("button",{onClick:()=>{},className:"text-zinc-500 dark:text-[#9cb5ba] hover:text-[#0dccf2] dark:hover:text-[#0dccf2] transition-colors",title:"More Actions",children:(0,a.jsx)("span",{className:"material-symbols-outlined",children:"more_vert"})})]})})]},e._id)})})]})})}),S>1&&(0,a.jsxs)("div",{className:"flex items-center justify-between mt-6",children:[(0,a.jsxs)("p",{className:"text-sm text-zinc-600 dark:text-[#9cb5ba]",children:["Showing page ",y," of ",S," (Total: ",A," bets)"]}),(0,a.jsxs)("div",{className:"flex items-center gap-2",children:[(0,a.jsx)("button",{onClick:()=>z(Math.max(1,y-1)),disabled:1===y,className:"flex items-center justify-center h-9 w-9 rounded-lg bg-zinc-100 dark:bg-[#111718] text-zinc-900 dark:text-white hover:bg-zinc-200 dark:hover:bg-[#0dccf2]/20 transition-colors disabled:opacity-50 disabled:cursor-not-allowed",children:(0,a.jsx)("span",{className:"material-symbols-outlined text-xl",children:"chevron_left"})}),[...Array(Math.min(5,S))].map((e,t)=>{let n=t+1;return(0,a.jsx)("button",{onClick:()=>z(n),className:"flex items-center justify-center h-9 w-9 rounded-lg text-sm font-medium transition-colors ".concat(y===n?"bg-[#0dccf2] text-white":"bg-zinc-100 dark:bg-[#111718] text-zinc-900 dark:text-white hover:bg-zinc-200 dark:hover:bg-[#0dccf2]/20"),children:n},n)}),S>5&&(0,a.jsx)("span",{className:"text-zinc-600 dark:text-white",children:"..."}),S>5&&(0,a.jsx)("button",{onClick:()=>z(S),className:"flex items-center justify-center h-9 w-9 rounded-lg text-sm font-medium transition-colors ".concat(y===S?"bg-[#0dccf2] text-white":"bg-zinc-100 dark:bg-[#111718] text-zinc-900 dark:text-white hover:bg-zinc-200 dark:hover:bg-[#0dccf2]/20"),children:S}),(0,a.jsx)("button",{onClick:()=>z(Math.min(S,y+1)),disabled:y===S,className:"flex items-center justify-center h-9 w-9 rounded-lg bg-zinc-100 dark:bg-[#111718] text-zinc-900 dark:text-white hover:bg-zinc-200 dark:hover:bg-[#0dccf2]/20 transition-colors disabled:opacity-50 disabled:cursor-not-allowed",children:(0,a.jsx)("span",{className:"material-symbols-outlined text-xl",children:"chevron_right"})})]})]}),B&&L&&(0,a.jsx)("div",{className:"fixed inset-0 bg-black/50 flex items-center justify-center z-50",children:(0,a.jsxs)("div",{className:"bg-white dark:bg-[#111718] rounded-xl p-6 max-w-md w-full mx-4 border border-zinc-200 dark:border-white/10",children:[(0,a.jsx)("h3",{className:"text-zinc-900 dark:text-white text-xl font-bold mb-4",children:"Settle Bet"}),(0,a.jsxs)("div",{className:"mb-4 space-y-2",children:[(0,a.jsxs)("div",{className:"bg-zinc-100 dark:bg-[#1b2527] rounded-lg p-3",children:[(0,a.jsx)("p",{className:"text-zinc-600 dark:text-white/70 text-xs mb-1",children:"Bet ID"}),(0,a.jsxs)("p",{className:"text-zinc-900 dark:text-white font-mono text-sm",children:[L._id.toString().substring(0,12),"..."]})]}),(0,a.jsxs)("div",{className:"bg-zinc-100 dark:bg-[#1b2527] rounded-lg p-3",children:[(0,a.jsx)("p",{className:"text-zinc-600 dark:text-white/70 text-xs mb-1",children:"User"}),(0,a.jsx)("p",{className:"text-zinc-900 dark:text-white text-sm font-medium",children:(null===(e=L.user)||void 0===e?void 0:e.username)||(null===(t=L.user)||void 0===t?void 0:t.email)||"N/A"})]}),(0,a.jsxs)("div",{className:"bg-zinc-100 dark:bg-[#1b2527] rounded-lg p-3",children:[(0,a.jsx)("p",{className:"text-zinc-600 dark:text-white/70 text-xs mb-1",children:"Match"}),(0,a.jsx)("p",{className:"text-zinc-900 dark:text-white text-sm",children:Q(L)})]}),(0,a.jsxs)("div",{className:"bg-zinc-100 dark:bg-[#1b2527] rounded-lg p-3",children:[(0,a.jsx)("p",{className:"text-zinc-600 dark:text-white/70 text-xs mb-1",children:"Selection"}),(0,a.jsx)("p",{className:"text-zinc-900 dark:text-white text-sm font-medium",children:L.selection||"N/A"}),(0,a.jsxs)("p",{className:"text-zinc-500 dark:text-white/50 text-xs mt-1",children:["Odds: @",(null===(n=L.odds)||void 0===n?void 0:n.toFixed(2))||"N/A"]})]}),(0,a.jsxs)("div",{className:"grid grid-cols-2 gap-2",children:[(0,a.jsxs)("div",{className:"bg-zinc-100 dark:bg-[#1b2527] rounded-lg p-3",children:[(0,a.jsx)("p",{className:"text-zinc-600 dark:text-white/70 text-xs mb-1",children:"Stake"}),(0,a.jsx)("p",{className:"text-zinc-900 dark:text-white text-sm font-bold",children:(0,x.dN)(L.stake)})]}),(0,a.jsxs)("div",{className:"bg-zinc-100 dark:bg-[#1b2527] rounded-lg p-3",children:[(0,a.jsx)("p",{className:"text-zinc-600 dark:text-white/70 text-xs mb-1",children:"Potential Win"}),(0,a.jsx)("p",{className:"text-zinc-900 dark:text-white text-sm font-bold",children:(0,x.dN)(L.potentialWin)})]})]})]}),(0,a.jsxs)("div",{className:"mb-4",children:[(0,a.jsx)("label",{className:"block text-zinc-600 dark:text-white/70 text-sm mb-2 font-medium",children:"Settlement Status *"}),(0,a.jsxs)("div",{className:"grid grid-cols-2 gap-2",children:[(0,a.jsx)("button",{type:"button",onClick:()=>{T("won"),O(L.potentialWin||"")},className:"h-12 rounded-lg border-2 transition-all ".concat("won"===M?"border-green-500 bg-green-500/20 text-green-400":"border-zinc-200 dark:border-white/10 bg-zinc-100 dark:bg-white/5 text-zinc-900 dark:text-white hover:border-green-500/50"),children:"✓ Won"}),(0,a.jsx)("button",{type:"button",onClick:()=>T("lost"),className:"h-12 rounded-lg border-2 transition-all ".concat("lost"===M?"border-red-500 bg-red-500/20 text-red-400":"border-zinc-200 dark:border-white/10 bg-zinc-100 dark:bg-white/5 text-zinc-900 dark:text-white hover:border-red-500/50"),children:"✗ Lost"}),(0,a.jsx)("button",{type:"button",onClick:()=>T("cancelled"),className:"h-12 rounded-lg border-2 transition-all ".concat("cancelled"===M?"border-yellow-500 bg-yellow-500/20 text-yellow-400":"border-zinc-200 dark:border-white/10 bg-zinc-100 dark:bg-white/5 text-zinc-900 dark:text-white hover:border-yellow-500/50"),children:"⊘ Cancelled"}),(0,a.jsx)("button",{type:"button",onClick:()=>T("refunded"),className:"h-12 rounded-lg border-2 transition-all ".concat("refunded"===M?"border-blue-500 bg-blue-500/20 text-blue-400":"border-zinc-200 dark:border-white/10 bg-zinc-100 dark:bg-white/5 text-zinc-900 dark:text-white hover:border-blue-500/50"),children:"↻ Refunded"})]})]}),"won"===M&&(0,a.jsxs)("div",{className:"mb-4",children:[(0,a.jsx)("label",{className:"block text-zinc-600 dark:text-white/70 text-sm mb-2",children:"Win Amount"}),(0,a.jsx)("input",{type:"number",value:W,onChange:e=>O(e.target.value),min:"0",step:"0.01",className:"w-full h-12 rounded-lg bg-zinc-100 dark:bg-white/5 border border-zinc-200 dark:border-white/10 text-zinc-900 dark:text-white px-4 focus:outline-none focus:ring-2 focus:ring-[#0dccf2]/50",placeholder:"Enter win amount"})]}),(0,a.jsxs)("div",{className:"flex gap-3",children:[(0,a.jsx)("button",{onClick:en,disabled:!M,className:"flex-1 px-4 py-2 bg-[#0dccf2] text-white rounded-lg hover:bg-[#0dccf2]/90 transition-colors disabled:opacity-50 disabled:cursor-not-allowed",children:"Settle Bet"}),(0,a.jsx)("button",{onClick:()=>{_(!1),P(null),T(""),O("")},className:"flex-1 px-4 py-2 bg-gray-500 text-white rounded-lg hover:bg-gray-600 transition-colors",children:"Cancel"})]})]})}),I&&(0,a.jsx)("div",{className:"fixed inset-0 bg-black/50 flex items-center justify-center z-50",children:(0,a.jsxs)("div",{className:"bg-white dark:bg-[#111718] rounded-xl p-6 max-w-md w-full mx-4 border border-zinc-200 dark:border-white/10",children:[(0,a.jsx)("h3",{className:"text-zinc-900 dark:text-white text-xl font-bold mb-4",children:"Bulk Settle Bets"}),(0,a.jsx)("div",{className:"mb-4",children:(0,a.jsxs)("p",{className:"text-zinc-600 dark:text-white/70 text-sm mb-4",children:["Settle ",(0,a.jsx)("span",{className:"font-bold text-zinc-900 dark:text-white",children:D.length})," selected bet(s)"]})}),(0,a.jsxs)("div",{className:"mb-4",children:[(0,a.jsx)("label",{className:"block text-zinc-600 dark:text-white/70 text-sm mb-2",children:"Settlement Status"}),(0,a.jsxs)("select",{value:M,onChange:e=>T(e.target.value),className:"w-full h-12 rounded-lg bg-zinc-100 dark:bg-white/5 border border-zinc-200 dark:border-white/10 text-zinc-900 dark:text-white px-4 focus:outline-none focus:ring-2 focus:ring-[#0dccf2]/50",children:[(0,a.jsx)("option",{value:"",children:"Select Status"}),(0,a.jsx)("option",{value:"won",children:"Won"}),(0,a.jsx)("option",{value:"lost",children:"Lost"}),(0,a.jsx)("option",{value:"cancelled",children:"Cancelled"}),(0,a.jsx)("option",{value:"refunded",children:"Refunded"})]})]}),(0,a.jsxs)("div",{className:"flex gap-3",children:[(0,a.jsxs)("button",{onClick:ea,disabled:!M,className:"flex-1 px-4 py-2 bg-[#0dccf2] text-white rounded-lg hover:bg-[#0dccf2]/90 transition-colors disabled:opacity-50 disabled:cursor-not-allowed",children:["Settle ",D.length," Bets"]}),(0,a.jsx)("button",{onClick:()=>{F(!1),T("")},className:"flex-1 px-4 py-2 bg-gray-500 text-white rounded-lg hover:bg-gray-600 transition-colors",children:"Cancel"})]})]})})]})})]})})}},96666:function(e,t,n){"use strict";n.d(t,{Z:function(){return l}});var a=n(57437),s=n(2265),r=n(24033),i=n(87300);function l(e){let{children:t}=e,n=(0,r.useRouter)(),l=(0,r.usePathname)(),[d,c]=(0,s.useState)(!1),[o,x]=(0,s.useState)(!0);return((0,s.useEffect)(()=>{(()=>{if(!(0,i.$8)()){let e=encodeURIComponent(l||"/admin");n.push("/auth/login?next=".concat(e));return}if(!(0,i.GJ)()){n.push("/dashboard");return}c(!0),x(!1)})()},[n,l]),o)?(0,a.jsx)("div",{className:"flex min-h-screen w-full items-center justify-center bg-background-dark",children:(0,a.jsxs)("div",{className:"flex flex-col items-center gap-4",children:[(0,a.jsx)("div",{className:"size-8 animate-spin rounded-full border-4 border-[#0dccf2] border-t-transparent"}),(0,a.jsx)("p",{className:"text-white/70 text-sm",children:"Verifying access..."})]})}):d?(0,a.jsx)(a.Fragment,{children:t}):null}},28707:function(e,t,n){"use strict";n.d(t,{Z:function(){return c}});var a=n(57437),s=n(2265),r=n(61396),i=n.n(r),l=n(24033),d=n(96299);function c(){let{t:e}=(0,d.$)(),t=(0,l.usePathname)(),[n,r]=(0,s.useState)(!1),c=[{id:"dashboard",label:e("admin.dashboard"),icon:"dashboard",href:"/admin"},{id:"users",label:e("admin.users"),icon:"group",href:"/admin/users"},{id:"kyc",label:e("admin.kyc"),icon:"badge",href:"/admin/kyc"},{id:"games",label:e("admin.games"),icon:"gamepad",href:"/admin/games"},{id:"betting",label:e("admin.betting"),icon:"sports_soccer",href:"/admin/betting"},{id:"promotions",label:e("admin.promotions"),icon:"campaign",href:"/admin/promotions"},{id:"deposits",label:e("admin.deposits"),icon:"arrow_downward",href:"/admin/deposits"},{id:"withdrawals",label:e("admin.withdrawals"),icon:"arrow_upward",href:"/admin/withdrawals"},{id:"tournaments",label:e("admin.tournaments"),icon:"emoji_events",href:"/admin/tournaments"},{id:"content",label:e("admin.content"),icon:"wysiwyg",href:"/admin/content"}];return(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)("button",{onClick:()=>r(!n),className:"lg:hidden fixed top-4 left-4 z-[60] p-2 bg-background-dark border border-surface rounded-lg text-white hover:bg-white/10 transition-colors","aria-label":"Toggle sidebar",children:(0,a.jsx)("span",{className:"material-symbols-outlined",children:n?"close":"menu"})}),n&&(0,a.jsx)("div",{className:"lg:hidden fixed inset-0 bg-black/50 z-[55]",onClick:()=>r(!1)}),(0,a.jsxs)("aside",{className:"fixed left-0 top-0 h-screen w-64 flex flex-col bg-background-dark border-r border-surface p-4 z-50 transition-transform duration-300 ".concat(n?"translate-x-0":"-translate-x-full lg:translate-x-0"),children:[(0,a.jsxs)("div",{className:"flex items-center gap-3 mb-8 px-2",children:[(0,a.jsx)("div",{className:"flex h-10 w-10 items-center justify-center rounded-lg bg-primary",children:(0,a.jsx)("span",{className:"material-symbols-outlined text-black",children:"casino"})}),(0,a.jsxs)("div",{className:"flex flex-col",children:[(0,a.jsx)("h1",{className:"text-base font-bold text-white",children:e("admin.title")}),(0,a.jsx)("p",{className:"text-sm text-gray-400",children:e("admin.management")})]})]}),(0,a.jsx)("nav",{className:"flex flex-col gap-2",children:c.map(e=>(0,a.jsxs)(i(),{href:e.href,onClick:()=>r(!1),className:"flex items-center gap-3 rounded-lg px-3 py-2 text-sm font-medium transition-colors ".concat(t===e.href||"dashboard"===e.id&&"/admin"===t?"bg-primary/20 text-primary":"text-gray-300 hover:bg-white/10"),children:[(0,a.jsx)("span",{className:"material-symbols-outlined",children:e.icon}),(0,a.jsx)("p",{children:e.label})]},e.id))}),(0,a.jsxs)("div",{className:"mt-auto",children:[(0,a.jsxs)(i(),{href:"/admin/settings",onClick:()=>r(!1),className:"flex items-center gap-3 rounded-lg px-3 py-2 text-gray-300 hover:bg-white/10 transition-colors",children:[(0,a.jsx)("span",{className:"material-symbols-outlined",children:"settings"}),(0,a.jsx)("p",{className:"text-sm font-medium",children:e("admin.settings")})]}),(0,a.jsxs)("button",{onClick:()=>{localStorage.removeItem("token"),localStorage.removeItem("user"),localStorage.removeItem("isAdmin"),localStorage.removeItem("adminEmail"),window.location.href="/auth/login"},className:"mt-2 flex w-full items-center gap-3 rounded-lg px-3 py-2 text-gray-300 hover:bg-red-500/20 hover:text-red-400 transition-colors",children:[(0,a.jsx)("span",{className:"material-symbols-outlined",children:"logout"}),(0,a.jsx)("p",{className:"text-sm font-medium",children:e("admin.logout")})]})]})]})]})}},87300:function(e,t,n){"use strict";n.d(t,{$8:function(){return r},GJ:function(){return i},My:function(){return l},kS:function(){return d},ts:function(){return a}});let a=()=>{try{let e=localStorage.getItem("user");return e?JSON.parse(e):null}catch(e){return null}},s=()=>localStorage.getItem("token"),r=()=>!!s(),i=()=>{let e=a();return!!e&&["admin","super_admin","operator"].includes(e.role)},l=e=>["admin","super_admin","operator"].includes(e)?"/admin":"/dashboard",d=()=>{localStorage.removeItem("token"),localStorage.removeItem("user"),localStorage.removeItem("isAdmin"),localStorage.removeItem("adminEmail"),window.location.href="/"}},66209:function(e,t,n){"use strict";n.d(t,{X6:function(){return l},dN:function(){return i},o0:function(){return s},p6:function(){return a}});let a=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(!e)return"N/A";try{let n=new Date(e);if(isNaN(n.getTime()))return"N/A";let a={day:"2-digit",month:"2-digit",year:"numeric",...t};return n.toLocaleDateString("tr-TR",a)}catch(e){return console.error("Error formatting date:",e),"N/A"}},s=e=>{if(!e)return"N/A";try{let t=new Date(e);if(isNaN(t.getTime()))return"N/A";return t.toLocaleDateString("tr-TR",{day:"2-digit",month:"2-digit",year:"numeric",hour:"2-digit",minute:"2-digit"})}catch(e){return console.error("Error formatting date time:",e),"N/A"}},r=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"TRY",n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"tr-TR";if(null==e)return r(0,t,n);try{let a="string"==typeof e?parseFloat(e):e;if(isNaN(a))return r(0,t,n);return new Intl.NumberFormat(n,{style:"currency",currency:t,minimumFractionDigits:2,maximumFractionDigits:2}).format(a)}catch(n){return console.error("Error formatting currency:",n),"".concat(e," ").concat(t)}},i=e=>r(e,"TRY","tr-TR"),l=e=>{if(null==e)return"0%";try{let t="string"==typeof e?parseFloat(e):e;if(isNaN(t))return"0%";if(t>0)return"+".concat(t.toFixed(1),"%");if(t<0)return"".concat(t.toFixed(1),"%");return"0%"}catch(e){return console.error("Error formatting change:",e),"0%"}}},24215:function(e,t,n){"use strict";n.d(t,{cM:function(){return i}});let a={DEBUG:"debug",INFO:"info",WARN:"warn",ERROR:"error"};class s{formatMessage(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null,a=new Date().toISOString(),s="[".concat(a,"] [").concat(e.toUpperCase(),"]");return n?{prefix:s,message:t,data:n}:{prefix:s,message:t}}debug(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;if(!this.isDevelopment)return;let n=this.formatMessage(a.DEBUG,e,t);t?console.log(n.prefix,n.message,n.data):console.log(n.prefix,n.message)}info(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,n=this.formatMessage(a.INFO,e,t);t?console.info(n.prefix,n.message,n.data):console.info(n.prefix,n.message)}warn(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,n=this.formatMessage(a.WARN,e,t);t?console.warn(n.prefix,n.message,n.data):console.warn(n.prefix,n.message)}error(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,n=this.formatMessage(a.ERROR,e,t);t?(console.error(n.prefix,n.message,t),this.isDevelopment):console.error(n.prefix,n.message)}apiError(e,t){var n,a,s,r;this.error("API Error [".concat(e,"]"),{endpoint:e,status:null==t?void 0:null===(n=t.response)||void 0===n?void 0:n.status,message:(null==t?void 0:null===(s=t.response)||void 0===s?void 0:null===(a=s.data)||void 0===a?void 0:a.message)||(null==t?void 0:t.message),data:null==t?void 0:null===(r=t.response)||void 0===r?void 0:r.data})}constructor(){this.isDevelopment=!1}}let r=new s,i={debug:(e,t)=>r.debug(e,t),info:(e,t)=>r.info(e,t),warn:(e,t)=>r.warn(e,t),error:(e,t)=>r.error(e,t),apiError:(e,t)=>r.apiError(e,t)}},24033:function(e,t,n){e.exports=n(15313)}},function(e){e.O(0,[1176,4829,2385,6299,2971,4938,1744],function(){return e(e.s=72206)}),_N_E=e.O()}]);