(()=>{var e={};e.id=7114,e.ids=[7114],e.modules={47849:e=>{"use strict";e.exports=require("next/dist/client/components/action-async-storage.external")},55403:e=>{"use strict";e.exports=require("next/dist/client/components/request-async-storage.external")},94749:e=>{"use strict";e.exports=require("next/dist/client/components/static-generation-async-storage.external")},20399:e=>{"use strict";e.exports=require("next/dist/compiled/next-server/app-page.runtime.prod.js")},25528:e=>{"use strict";e.exports=require("next/dist\\client\\components\\action-async-storage.external.js")},91877:e=>{"use strict";e.exports=require("next/dist\\client\\components\\request-async-storage.external.js")},25319:e=>{"use strict";e.exports=require("next/dist\\client\\components\\static-generation-async-storage.external.js")},39491:e=>{"use strict";e.exports=require("assert")},6113:e=>{"use strict";e.exports=require("crypto")},82361:e=>{"use strict";e.exports=require("events")},57147:e=>{"use strict";e.exports=require("fs")},13685:e=>{"use strict";e.exports=require("http")},85158:e=>{"use strict";e.exports=require("http2")},95687:e=>{"use strict";e.exports=require("https")},22037:e=>{"use strict";e.exports=require("os")},71017:e=>{"use strict";e.exports=require("path")},12781:e=>{"use strict";e.exports=require("stream")},76224:e=>{"use strict";e.exports=require("tty")},57310:e=>{"use strict";e.exports=require("url")},73837:e=>{"use strict";e.exports=require("util")},59796:e=>{"use strict";e.exports=require("zlib")},19612:(e,t,s)=>{"use strict";s.r(t),s.d(t,{GlobalError:()=>i.a,__next_app__:()=>m,originalPathname:()=>x,pages:()=>c,routeModule:()=>u,tree:()=>d});var a=s(50482),r=s(69108),l=s(62563),i=s.n(l),n=s(68300),o={};for(let e in n)0>["default","tree","pages","GlobalError","originalPathname","__next_app__","routeModule"].indexOf(e)&&(o[e]=()=>n[e]);s.d(t,o);let d=["",{children:["admin",{children:["withdrawals",{children:["__PAGE__",{},{page:[()=>Promise.resolve().then(s.bind(s,47271)),"W:\\garbet\\Frontend\\app\\admin\\withdrawals\\page.js"]}]},{}]},{}]},{layout:[()=>Promise.resolve().then(s.bind(s,69847)),"W:\\garbet\\Frontend\\app\\layout.js"],error:[()=>Promise.resolve().then(s.bind(s,60826)),"W:\\garbet\\Frontend\\app\\error.js"],"not-found":[()=>Promise.resolve().then(s.bind(s,46178)),"W:\\garbet\\Frontend\\app\\not-found.js"]}],c=["W:\\garbet\\Frontend\\app\\admin\\withdrawals\\page.js"],x="/admin/withdrawals/page",m={require:s,loadChunk:()=>Promise.resolve()},u=new a.AppPageRouteModule({definition:{kind:r.x.APP_PAGE,page:"/admin/withdrawals/page",pathname:"/admin/withdrawals",bundlePath:"",filename:"",appPaths:[]},userland:{loaderTree:d}})},86986:(e,t,s)=>{Promise.resolve().then(s.bind(s,51574))},51574:(e,t,s)=>{"use strict";s.r(t),s.d(t,{default:()=>m});var a=s(95344),r=s(3729);s(20783);var l=s(22254),i=s(21475),n=s(24774),o=s(94913),d=s(36846),c=s(19747),x=s(90797);let m=function(){let{t:e}=(0,c.$)();(0,l.usePathname)();let[t,s]=(0,r.useState)(""),[m,u]=(0,r.useState)("pending"),[h,p]=(0,r.useState)(1),[g,b]=(0,r.useState)(!1),[f,w]=(0,r.useState)(""),[j,N]=(0,r.useState)([]),[v,y]=(0,r.useState)(1),[k,S]=(0,r.useState)(0),[C,A]=(0,r.useState)(null),[E,_]=(0,r.useState)(!1),[B,F]=(0,r.useState)(""),[R,q]=(0,r.useState)([]),[P,I]=(0,r.useState)(!1),[D,$]=(0,r.useState)(""),[U,M]=(0,r.useState)(""),[W,T]=(0,r.useState)(""),[z,H]=(0,r.useState)(""),[O,G]=(0,r.useState)(""),[L,Z]=(0,r.useState)(!1),[J,V]=(0,r.useState)("all"),[X,Y]=(0,r.useState)(!1),[K,Q]=(0,r.useState)(!1),[ee,et]=(0,r.useState)(null),[es,ea]=(0,r.useState)({iban:"",ibanHolderName:"",bankName:""}),[er,el]=(0,r.useState)({amount:"",type:"add",description:""});(0,r.useEffect)(()=>{ei()},[m,h,z,O,J]);let ei=async()=>{b(!0),w("");try{let e={status:"Status: All"===m?void 0:m,page:h,limit:50};z&&(e.startDate=z),O&&(e.endDate=O),J&&"all"!==J&&(e.paymentMethod=J);let t=await n.Sb.getWithdrawalPool(e);N(t.data.withdrawals||[]),y(t.data.totalPages||1),S(t.data.total||0)}catch(e){w(e.response?.data?.message||"Failed to load withdrawals"),d.cM.apiError("/admin/withdrawals",e)}finally{b(!1)}},en=e=>{switch(e){case"approved":return"bg-green-500/20 text-green-400";case"pending":return"bg-yellow-500/20 text-yellow-400";case"rejected":return"bg-red-500/20 text-red-400";default:return"bg-gray-500/20 text-gray-400"}},eo=e=>({pending:"Beklemede",approved:"Onaylandı",rejected:"Reddedildi"})[e]||e,ed=async e=>{try{await n.Sb.approveWithdrawal(e,{adminNotes:B}),T("Withdrawal approved successfully"),_(!1),F(""),ei()}catch(e){w(e.response?.data?.message||"Failed to approve withdrawal")}},ec=async e=>{try{await n.Sb.rejectWithdrawal(e,{reason:U}),T("Withdrawal rejected successfully"),_(!1),M(""),ei()}catch(e){w(e.response?.data?.message||"Failed to reject withdrawal")}},ex=async()=>{if(D&&0!==R.length)try{"approve"===D?(await n.Sb.bulkApproveWithdrawals({withdrawalIds:R}),T(`Successfully approved ${R.length} withdrawals`)):"reject"===D&&(await n.Sb.bulkRejectWithdrawals({withdrawalIds:R,reason:U}),T(`Successfully rejected ${R.length} withdrawals`)),I(!1),q([]),$(""),M(""),ei()}catch(e){w(e.response?.data?.message||"Failed to perform bulk action")}},em=async()=>{if(ee&&es.iban)try{await n.Sb.updateUserIban(ee,es),T("IBAN updated successfully"),Y(!1),ea({iban:"",ibanHolderName:"",bankName:""}),ei()}catch(e){w(e.response?.data?.message||"Failed to update IBAN")}},eu=async()=>{if(ee&&er.amount)try{await n.Sb.updateUserBalance(ee,{amount:parseFloat(er.amount),type:er.type,description:er.description}),T("Balance updated successfully"),Q(!1),el({amount:"",type:"add",description:""}),ei()}catch(e){w(e.response?.data?.message||"Failed to update balance")}},eh=j.filter(e=>"pending"===e.status).reduce((e,t)=>e+(parseFloat(t.amount)||0),0),ep=j.filter(e=>{if(t){let s=t.toLowerCase(),a=e.user?.username?.toLowerCase()||"",r=e.user?.email?.toLowerCase()||"",l=(e._id||e.id||"").toString().toLowerCase();return a.includes(s)||r.includes(s)||l.includes(s)}return!0});return a.jsx(i.Z,{children:(0,a.jsxs)("div",{className:"flex min-h-screen w-full bg-background-dark",children:[a.jsx(x.Z,{}),a.jsx("main",{className:"flex-1 p-6 lg:p-10 bg-background-light dark:bg-background-dark ml-0 lg:ml-64",children:(0,a.jsxs)("div",{className:"flex flex-col w-full max-w-7xl mx-auto",children:[(0,a.jsxs)("div",{className:"flex flex-wrap justify-between gap-3 mb-6",children:[a.jsx("p",{className:"text-black dark:text-white text-4xl font-black leading-tight tracking-[-0.033em] min-w-72",children:e("admin.withdrawalManagement")}),(0,a.jsxs)("div",{className:"flex items-center gap-2",children:[R.length>0&&(0,a.jsxs)(a.Fragment,{children:[(0,a.jsxs)("button",{onClick:()=>I(!0),className:"flex items-center justify-center gap-2 overflow-hidden rounded-lg h-10 px-4 bg-yellow-500 text-white text-sm font-bold leading-normal tracking-[0.015em] hover:bg-yellow-600 transition-colors",children:[a.jsx("span",{className:"material-symbols-outlined text-lg",children:"check_circle"}),(0,a.jsxs)("span",{className:"truncate",children:["Bulk Action (",R.length,")"]})]}),a.jsx("button",{onClick:()=>q([]),className:"flex items-center justify-center gap-2 overflow-hidden rounded-lg h-10 px-4 bg-gray-500 text-white text-sm font-bold leading-normal tracking-[0.015em] hover:bg-gray-600 transition-colors",children:a.jsx("span",{className:"truncate",children:"Clear"})})]}),(0,a.jsxs)("button",{onClick:()=>{let e=["ID,User,Amount,IBAN,Status,Date",...j.map(e=>[e._id||e.id,e.user?.username||e.user?.email||"N/A",e.amount,e.iban||"N/A",e.status,(0,o.p6)(e.createdAt)].join(","))].join("\n"),t=new Blob([e],{type:"text/csv"}),s=window.URL.createObjectURL(t),a=document.createElement("a");a.href=s,a.download=`withdrawals_${new Date().toISOString().split("T")[0]}.csv`,a.click()},className:"flex items-center justify-center gap-2 overflow-hidden rounded-lg h-10 px-4 bg-green-500 text-white text-sm font-bold leading-normal tracking-[0.015em] hover:bg-green-600 transition-colors",children:[a.jsx("span",{className:"material-symbols-outlined text-lg",children:"download"}),a.jsx("span",{className:"truncate",children:"Export CSV"})]})]})]}),f&&a.jsx("div",{className:"mb-4 rounded-lg bg-red-500/20 border border-red-500/50 p-4",children:a.jsx("p",{className:"text-sm text-red-400",children:f})}),W&&a.jsx("div",{className:"mb-4 rounded-lg bg-green-500/20 border border-green-500/50 p-4",children:a.jsx("p",{className:"text-sm text-green-400",children:W})}),(0,a.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4 mb-6",children:[(0,a.jsxs)("div",{className:"flex flex-col gap-2 rounded-xl p-6 bg-white/5 border border-white/10",children:[a.jsx("p",{className:"text-white/70 text-base font-medium leading-normal",children:"Total Pending Withdrawals"}),(0,a.jsxs)("p",{className:"text-white tracking-light text-2xl font-bold leading-tight",children:["₺",eh.toFixed(2)]})]}),(0,a.jsxs)("div",{className:"flex flex-col gap-2 rounded-xl p-6 bg-white/5 border border-white/10",children:[a.jsx("p",{className:"text-white/70 text-base font-medium leading-normal",children:"Total Records"}),a.jsx("p",{className:"text-white tracking-light text-2xl font-bold leading-tight",children:k})]})]}),(0,a.jsxs)("div",{className:"bg-[#1E1E2B]/50 dark:bg-black/20 rounded-xl border border-white/10",children:[(0,a.jsxs)("div",{className:"p-4 flex flex-col lg:flex-row gap-4",children:[a.jsx("div",{className:"flex-grow",children:a.jsx("label",{className:"flex flex-col min-w-40 h-12 w-full",children:(0,a.jsxs)("div",{className:"flex w-full flex-1 items-stretch rounded-lg h-full",children:[a.jsx("div",{className:"text-white/50 flex border-none bg-white/5 items-center justify-center pl-4 rounded-l-lg border-r-0",children:a.jsx("span",{className:"material-symbols-outlined",children:"search"})}),a.jsx("input",{className:"form-input flex w-full min-w-0 flex-1 resize-none overflow-hidden rounded-lg text-white focus:outline-0 focus:ring-2 focus:ring-[#0dccf2]/50 border-none bg-white/5 h-full placeholder:text-white/50 px-4 rounded-l-none border-l-0 pl-2 text-base font-normal leading-normal",placeholder:"Search by username, email, or ID...",value:t,onChange:e=>s(e.target.value),type:"text"})]})})}),(0,a.jsxs)("div",{className:"flex items-center gap-4 flex-wrap",children:[(0,a.jsxs)("div",{className:"relative",children:[(0,a.jsxs)("select",{className:"appearance-none form-select h-12 w-full lg:w-40 rounded-lg bg-white/5 border-none text-white focus:ring-2 focus:ring-[#0dccf2]/50 pl-4 pr-10",value:m,onChange:e=>{u(e.target.value),p(1)},children:[a.jsx("option",{value:"Status: All",className:"bg-[#1E1E2B] text-white",children:"Status: All"}),a.jsx("option",{value:"pending",className:"bg-[#1E1E2B] text-white",children:"Pending"}),a.jsx("option",{value:"approved",className:"bg-[#1E1E2B] text-white",children:"Approved"}),a.jsx("option",{value:"rejected",className:"bg-[#1E1E2B] text-white",children:"Rejected"})]}),a.jsx("span",{className:"material-symbols-outlined text-white/50 absolute right-3 top-1/2 -translate-y-1/2 pointer-events-none",children:"expand_more"})]}),L?(0,a.jsxs)("div",{className:"flex gap-2 items-center",children:[a.jsx("input",{type:"date",value:z,onChange:e=>H(e.target.value),className:"h-12 rounded-lg bg-white/5 px-4 text-white text-sm border border-white/10 focus:outline-none focus:ring-2 focus:ring-[#0dccf2]/50"}),a.jsx("input",{type:"date",value:O,onChange:e=>G(e.target.value),className:"h-12 rounded-lg bg-white/5 px-4 text-white text-sm border border-white/10 focus:outline-none focus:ring-2 focus:ring-[#0dccf2]/50"}),a.jsx("button",{onClick:()=>{Z(!1),H(""),G("")},className:"h-12 w-12 rounded-lg bg-white/5 hover:bg-white/10 flex items-center justify-center transition-colors",children:a.jsx("span",{className:"material-symbols-outlined text-white/50",children:"close"})})]}):(0,a.jsxs)("button",{onClick:()=>Z(!0),className:"h-12 px-4 rounded-lg bg-white/5 hover:bg-white/10 text-white text-sm font-medium flex items-center gap-2 transition-colors",children:[a.jsx("span",{className:"material-symbols-outlined",children:"calendar_today"}),"Date Range"]})]})]}),a.jsx("div",{className:"px-4 py-3",children:a.jsx("div",{className:"flex overflow-hidden rounded-xl border border-[#3b5054] bg-[#111718]",children:g?a.jsx("div",{className:"flex items-center justify-center w-full py-12",children:a.jsx("div",{className:"size-8 animate-spin rounded-full border-4 border-[#0dccf2] border-t-transparent"})}):0===ep.length?a.jsx("div",{className:"text-center w-full py-12",children:a.jsx("p",{className:"text-gray-400",children:"No withdrawals found"})}):(0,a.jsxs)("table",{className:"w-full",children:[a.jsx("thead",{children:(0,a.jsxs)("tr",{className:"bg-[#1b2527]",children:[a.jsx("th",{className:"px-4 py-3 text-left text-white text-sm font-medium",children:a.jsx("input",{type:"checkbox",checked:R.length===ep.filter(e=>"pending"===e.status).length&&ep.filter(e=>"pending"===e.status).length>0,onChange:e=>{e.target.checked?q(ep.filter(e=>"pending"===e.status).map(e=>e._id||e.id)):q([])},className:"rounded border-white/20 bg-transparent"})}),a.jsx("th",{className:"px-4 py-3 text-left text-white text-sm font-medium",children:"User"}),a.jsx("th",{className:"px-4 py-3 text-left text-white text-sm font-medium",children:"Amount"}),a.jsx("th",{className:"px-4 py-3 text-left text-white text-sm font-medium",children:"IBAN"}),a.jsx("th",{className:"px-4 py-3 text-left text-white text-sm font-medium",children:"Status"}),a.jsx("th",{className:"px-4 py-3 text-left text-white text-sm font-medium",children:"Date"}),a.jsx("th",{className:"px-4 py-3 text-left text-white text-sm font-medium",children:"Actions"})]})}),a.jsx("tbody",{children:ep.map(e=>(0,a.jsxs)("tr",{className:"border-t border-t-[#3b5054] hover:bg-[#1b2527]/50 transition-colors",children:[a.jsx("td",{className:"h-[72px] px-4 py-2",children:"pending"===e.status&&a.jsx("input",{type:"checkbox",checked:R.includes(e._id||e.id),onChange:t=>{t.target.checked?q([...R,e._id||e.id]):q(R.filter(t=>t!==(e._id||e.id)))},className:"rounded border-white/20 bg-transparent"})}),a.jsx("td",{className:"h-[72px] px-4 py-2 text-white text-sm font-normal",children:e.user?.username||e.user?.email||"N/A"}),(0,a.jsxs)("td",{className:"h-[72px] px-4 py-2 text-white text-sm font-normal",children:["₺",parseFloat(e.amount||0).toFixed(2)]}),a.jsx("td",{className:"h-[72px] px-4 py-2 text-white text-sm font-normal",children:e.iban?`${e.iban.substring(0,12)}...`:"N/A"}),a.jsx("td",{className:"h-[72px] px-4 py-2",children:a.jsx("span",{className:`inline-flex items-center justify-center rounded-full text-xs font-semibold px-3 py-1 ${en(e.status)}`,children:eo(e.status)})}),a.jsx("td",{className:"h-[72px] px-4 py-2 text-[#9cb5ba] text-sm font-normal",children:(0,o.p6)(e.createdAt)}),a.jsx("td",{className:"h-[72px] px-4 py-2",children:a.jsx("div",{className:"flex items-center gap-2",children:"pending"===e.status&&(0,a.jsxs)(a.Fragment,{children:[a.jsx("button",{onClick:()=>{A(e),_(!0)},className:"p-2 text-green-400 hover:text-green-300 hover:bg-[#283639] rounded-md transition-colors",title:"Approve",children:a.jsx("span",{className:"material-symbols-outlined text-xl",children:"check_circle"})}),a.jsx("button",{onClick:()=>{A(e),_(!0)},className:"p-2 text-red-400 hover:text-red-300 hover:bg-[#283639] rounded-md transition-colors",title:"Reject",children:a.jsx("span",{className:"material-symbols-outlined text-xl",children:"cancel"})}),a.jsx("button",{onClick:()=>{et(e.user?._id||e.user),ea({iban:e.iban||e.user?.iban||"",ibanHolderName:e.ibanHolderName||e.user?.ibanHolderName||"",bankName:e.bankName||e.user?.bankName||""}),Y(!0)},className:"p-2 text-blue-400 hover:text-blue-300 hover:bg-[#283639] rounded-md transition-colors",title:"Edit IBAN",children:a.jsx("span",{className:"material-symbols-outlined text-xl",children:"account_balance"})}),a.jsx("button",{onClick:()=>{et(e.user?._id||e.user),el({amount:"",type:"add",description:""}),Q(!0)},className:"p-2 text-purple-400 hover:text-purple-300 hover:bg-[#283639] rounded-md transition-colors",title:"Update Balance",children:a.jsx("span",{className:"material-symbols-outlined text-xl",children:"account_balance_wallet"})})]})})})]},e._id||e.id))})]})})}),v>1&&(0,a.jsxs)("div",{className:"px-4 py-4 flex items-center justify-between border-t border-[#3b5054]",children:[(0,a.jsxs)("p",{className:"text-[#9cb5ba] text-sm",children:["Showing ",(h-1)*50+1," to ",Math.min(50*h,k)," of ",k," results"]}),(0,a.jsxs)("div",{className:"flex items-center gap-2",children:[a.jsx("button",{onClick:()=>p(Math.max(1,h-1)),disabled:1===h,className:"px-4 py-2 rounded-lg bg-white/5 text-white hover:bg-white/10 disabled:opacity-50 disabled:cursor-not-allowed transition-colors",children:"Previous"}),(0,a.jsxs)("span",{className:"text-white text-sm px-4",children:["Page ",h," of ",v]}),a.jsx("button",{onClick:()=>p(Math.min(v,h+1)),disabled:h===v,className:"px-4 py-2 rounded-lg bg-white/5 text-white hover:bg-white/10 disabled:opacity-50 disabled:cursor-not-allowed transition-colors",children:"Next"})]})]})]})]})}),E&&C&&a.jsx("div",{className:"fixed inset-0 bg-black/50 flex items-center justify-center z-50",children:(0,a.jsxs)("div",{className:"bg-[#1E1E2B] rounded-xl p-6 max-w-md w-full mx-4 border border-white/10",children:[a.jsx("h3",{className:"text-white text-xl font-bold mb-4",children:"Approve or Reject Withdrawal"}),(0,a.jsxs)("div",{className:"space-y-4",children:[(0,a.jsxs)("div",{children:[(0,a.jsxs)("p",{className:"text-white/70 text-sm mb-1",children:["User: ",C.user?.username||C.user?.email]}),(0,a.jsxs)("p",{className:"text-white/70 text-sm mb-1",children:["Amount: ₺",parseFloat(C.amount||0).toFixed(2)]}),(0,a.jsxs)("p",{className:"text-white/70 text-sm mb-4",children:["IBAN: ",C.iban||"N/A"]})]}),(0,a.jsxs)("div",{children:[a.jsx("label",{className:"block text-white/70 text-sm mb-2",children:"Admin Notes (optional)"}),a.jsx("textarea",{value:B,onChange:e=>F(e.target.value),className:"w-full rounded-lg bg-white/5 border border-white/10 text-white px-4 py-2 focus:outline-none focus:ring-2 focus:ring-[#0dccf2]/50",rows:3})]}),(0,a.jsxs)("div",{children:[a.jsx("label",{className:"block text-white/70 text-sm mb-2",children:"Rejection Reason (if rejecting)"}),a.jsx("textarea",{value:U,onChange:e=>M(e.target.value),className:"w-full rounded-lg bg-white/5 border border-white/10 text-white px-4 py-2 focus:outline-none focus:ring-2 focus:ring-[#0dccf2]/50",rows:3})]}),(0,a.jsxs)("div",{className:"flex gap-3",children:[a.jsx("button",{onClick:()=>ed(C._id||C.id),className:"flex-1 px-4 py-2 bg-green-500 text-white rounded-lg hover:bg-green-600 transition-colors",children:"Approve"}),a.jsx("button",{onClick:()=>ec(C._id||C.id),className:"flex-1 px-4 py-2 bg-red-500 text-white rounded-lg hover:bg-red-600 transition-colors",children:"Reject"}),a.jsx("button",{onClick:()=>{_(!1),A(null),F(""),M("")},className:"px-4 py-2 bg-white/5 text-white rounded-lg hover:bg-white/10 transition-colors",children:"Close"})]})]})]})}),X&&a.jsx("div",{className:"fixed inset-0 bg-black/50 flex items-center justify-center z-50",children:(0,a.jsxs)("div",{className:"bg-[#1E1E2B] rounded-xl p-6 max-w-md w-full mx-4 border border-white/10",children:[a.jsx("h3",{className:"text-white text-xl font-bold mb-4",children:"Update User IBAN"}),(0,a.jsxs)("div",{className:"space-y-4",children:[(0,a.jsxs)("div",{children:[a.jsx("label",{className:"block text-white/70 text-sm mb-2",children:"IBAN *"}),a.jsx("input",{type:"text",value:es.iban,onChange:e=>ea({...es,iban:e.target.value}),className:"w-full h-12 rounded-lg bg-white/5 border border-white/10 text-white px-4 focus:outline-none focus:ring-2 focus:ring-[#0dccf2]/50",required:!0})]}),(0,a.jsxs)("div",{children:[a.jsx("label",{className:"block text-white/70 text-sm mb-2",children:"IBAN Holder Name"}),a.jsx("input",{type:"text",value:es.ibanHolderName,onChange:e=>ea({...es,ibanHolderName:e.target.value}),className:"w-full h-12 rounded-lg bg-white/5 border border-white/10 text-white px-4 focus:outline-none focus:ring-2 focus:ring-[#0dccf2]/50"})]}),(0,a.jsxs)("div",{children:[a.jsx("label",{className:"block text-white/70 text-sm mb-2",children:"Bank Name"}),a.jsx("input",{type:"text",value:es.bankName,onChange:e=>ea({...es,bankName:e.target.value}),className:"w-full h-12 rounded-lg bg-white/5 border border-white/10 text-white px-4 focus:outline-none focus:ring-2 focus:ring-[#0dccf2]/50"})]}),(0,a.jsxs)("div",{className:"flex gap-3",children:[a.jsx("button",{onClick:em,className:"flex-1 px-4 py-2 bg-[#0dccf2] text-white rounded-lg hover:bg-[#0dccf2]/90 transition-colors",children:"Update"}),a.jsx("button",{onClick:()=>{Y(!1),ea({iban:"",ibanHolderName:"",bankName:""})},className:"px-4 py-2 bg-white/5 text-white rounded-lg hover:bg-white/10 transition-colors",children:"Cancel"})]})]})]})}),K&&a.jsx("div",{className:"fixed inset-0 bg-black/50 flex items-center justify-center z-50",children:(0,a.jsxs)("div",{className:"bg-[#1E1E2B] rounded-xl p-6 max-w-md w-full mx-4 border border-white/10",children:[a.jsx("h3",{className:"text-white text-xl font-bold mb-4",children:"Update User Balance"}),(0,a.jsxs)("div",{className:"space-y-4",children:[(0,a.jsxs)("div",{children:[a.jsx("label",{className:"block text-white/70 text-sm mb-2",children:"Amount *"}),a.jsx("input",{type:"number",value:er.amount,onChange:e=>el({...er,amount:e.target.value}),className:"w-full h-12 rounded-lg bg-white/5 border border-white/10 text-white px-4 focus:outline-none focus:ring-2 focus:ring-[#0dccf2]/50",required:!0,min:"0",step:"0.01"})]}),(0,a.jsxs)("div",{children:[a.jsx("label",{className:"block text-white/70 text-sm mb-2",children:"Type *"}),(0,a.jsxs)("select",{value:er.type,onChange:e=>el({...er,type:e.target.value}),className:"w-full h-12 rounded-lg bg-white/5 border border-white/10 text-white px-4 focus:outline-none focus:ring-2 focus:ring-[#0dccf2]/50",children:[a.jsx("option",{value:"add",className:"bg-[#1E1E2B] text-white",children:"Add (Credit)"}),a.jsx("option",{value:"subtract",className:"bg-[#1E1E2B] text-white",children:"Subtract (Debit)"})]})]}),(0,a.jsxs)("div",{children:[a.jsx("label",{className:"block text-white/70 text-sm mb-2",children:"Description"}),a.jsx("textarea",{value:er.description,onChange:e=>el({...er,description:e.target.value}),className:"w-full rounded-lg bg-white/5 border border-white/10 text-white px-4 py-2 focus:outline-none focus:ring-2 focus:ring-[#0dccf2]/50",rows:3})]}),(0,a.jsxs)("div",{className:"flex gap-3",children:[a.jsx("button",{onClick:eu,className:"flex-1 px-4 py-2 bg-[#0dccf2] text-white rounded-lg hover:bg-[#0dccf2]/90 transition-colors",children:"Update"}),a.jsx("button",{onClick:()=>{Q(!1),el({amount:"",type:"add",description:""})},className:"px-4 py-2 bg-white/5 text-white rounded-lg hover:bg-white/10 transition-colors",children:"Cancel"})]})]})]})}),P&&a.jsx("div",{className:"fixed inset-0 bg-black/50 flex items-center justify-center z-50",children:(0,a.jsxs)("div",{className:"bg-[#1E1E2B] rounded-xl p-6 max-w-md w-full mx-4 border border-white/10",children:[(0,a.jsxs)("h3",{className:"text-white text-xl font-bold mb-4",children:["Bulk Action for ",a.jsx("span",{className:"font-bold text-white",children:R.length})," selected withdrawal(s)"]}),(0,a.jsxs)("div",{className:"space-y-4",children:[(0,a.jsxs)("div",{children:[a.jsx("label",{className:"block text-white/70 text-sm mb-2",children:"Action"}),(0,a.jsxs)("select",{value:D,onChange:e=>$(e.target.value),className:"w-full h-12 rounded-lg bg-white/5 border border-white/10 text-white px-4 focus:outline-none focus:ring-2 focus:ring-[#0dccf2]/50",children:[a.jsx("option",{value:"",className:"bg-[#1E1E2B] text-white",children:"Select Action"}),a.jsx("option",{value:"approve",className:"bg-[#1E1E2B] text-white",children:"Approve All"}),a.jsx("option",{value:"reject",className:"bg-[#1E1E2B] text-white",children:"Reject All"})]})]}),"reject"===D&&(0,a.jsxs)("div",{children:[a.jsx("label",{className:"block text-white/70 text-sm mb-2",children:"Rejection Reason"}),a.jsx("textarea",{value:U,onChange:e=>M(e.target.value),className:"w-full rounded-lg bg-white/5 border border-white/10 text-white px-4 py-2 focus:outline-none focus:ring-2 focus:ring-[#0dccf2]/50",rows:3})]}),(0,a.jsxs)("div",{className:"flex gap-3",children:[a.jsx("button",{onClick:ex,disabled:!D,className:"flex-1 px-4 py-2 bg-[#0dccf2] text-white rounded-lg hover:bg-[#0dccf2]/90 transition-colors disabled:opacity-50",children:"Execute"}),a.jsx("button",{onClick:()=>{I(!1),$(""),M("")},className:"px-4 py-2 bg-white/5 text-white rounded-lg hover:bg-white/10 transition-colors",children:"Cancel"})]})]})]})})]})})}},21475:(e,t,s)=>{"use strict";s.d(t,{Z:()=>n});var a=s(95344),r=s(3729),l=s(22254),i=s(2324);function n({children:e}){let t=(0,l.useRouter)(),s=(0,l.usePathname)(),[n,o]=(0,r.useState)(!1),[d,c]=(0,r.useState)(!0);return((0,r.useEffect)(()=>{(()=>{if(!(0,i.$8)()){let e=encodeURIComponent(s||"/admin");t.push(`/auth/login?next=${e}`);return}if(!(0,i.GJ)()){t.push("/dashboard");return}o(!0),c(!1)})()},[t,s]),d)?a.jsx("div",{className:"flex min-h-screen w-full items-center justify-center bg-background-dark",children:(0,a.jsxs)("div",{className:"flex flex-col items-center gap-4",children:[a.jsx("div",{className:"size-8 animate-spin rounded-full border-4 border-[#0dccf2] border-t-transparent"}),a.jsx("p",{className:"text-white/70 text-sm",children:"Verifying access..."})]})}):n?a.jsx(a.Fragment,{children:e}):null}},90797:(e,t,s)=>{"use strict";s.d(t,{Z:()=>d});var a=s(95344),r=s(3729),l=s(20783),i=s.n(l),n=s(22254),o=s(19747);function d(){let{t:e}=(0,o.$)(),t=(0,n.usePathname)(),[s,l]=(0,r.useState)(!1),d=[{id:"dashboard",label:e("admin.dashboard"),icon:"dashboard",href:"/admin"},{id:"users",label:e("admin.users"),icon:"group",href:"/admin/users"},{id:"kyc",label:e("admin.kyc"),icon:"badge",href:"/admin/kyc"},{id:"games",label:e("admin.games"),icon:"gamepad",href:"/admin/games"},{id:"betting",label:e("admin.betting"),icon:"sports_soccer",href:"/admin/betting"},{id:"promotions",label:e("admin.promotions"),icon:"campaign",href:"/admin/promotions"},{id:"deposits",label:e("admin.deposits"),icon:"arrow_downward",href:"/admin/deposits"},{id:"withdrawals",label:e("admin.withdrawals"),icon:"arrow_upward",href:"/admin/withdrawals"},{id:"tournaments",label:e("admin.tournaments"),icon:"emoji_events",href:"/admin/tournaments"},{id:"content",label:e("admin.content"),icon:"wysiwyg",href:"/admin/content"}];return(0,a.jsxs)(a.Fragment,{children:[a.jsx("button",{onClick:()=>l(!s),className:"lg:hidden fixed top-4 left-4 z-[60] p-2 bg-background-dark border border-surface rounded-lg text-white hover:bg-white/10 transition-colors","aria-label":"Toggle sidebar",children:a.jsx("span",{className:"material-symbols-outlined",children:s?"close":"menu"})}),s&&a.jsx("div",{className:"lg:hidden fixed inset-0 bg-black/50 z-[55]",onClick:()=>l(!1)}),(0,a.jsxs)("aside",{className:`fixed left-0 top-0 h-screen w-64 flex flex-col bg-background-dark border-r border-surface p-4 z-50 transition-transform duration-300 ${s?"translate-x-0":"-translate-x-full lg:translate-x-0"}`,children:[(0,a.jsxs)("div",{className:"flex items-center gap-3 mb-8 px-2",children:[a.jsx("div",{className:"flex h-10 w-10 items-center justify-center rounded-lg bg-primary",children:a.jsx("span",{className:"material-symbols-outlined text-black",children:"casino"})}),(0,a.jsxs)("div",{className:"flex flex-col",children:[a.jsx("h1",{className:"text-base font-bold text-white",children:e("admin.title")}),a.jsx("p",{className:"text-sm text-gray-400",children:e("admin.management")})]})]}),a.jsx("nav",{className:"flex flex-col gap-2",children:d.map(e=>(0,a.jsxs)(i(),{href:e.href,onClick:()=>l(!1),className:`flex items-center gap-3 rounded-lg px-3 py-2 text-sm font-medium transition-colors ${t===e.href||"dashboard"===e.id&&"/admin"===t?"bg-primary/20 text-primary":"text-gray-300 hover:bg-white/10"}`,children:[a.jsx("span",{className:"material-symbols-outlined",children:e.icon}),a.jsx("p",{children:e.label})]},e.id))}),(0,a.jsxs)("div",{className:"mt-auto",children:[(0,a.jsxs)(i(),{href:"/admin/settings",onClick:()=>l(!1),className:"flex items-center gap-3 rounded-lg px-3 py-2 text-gray-300 hover:bg-white/10 transition-colors",children:[a.jsx("span",{className:"material-symbols-outlined",children:"settings"}),a.jsx("p",{className:"text-sm font-medium",children:e("admin.settings")})]}),(0,a.jsxs)("button",{onClick:()=>{localStorage.removeItem("token"),localStorage.removeItem("user"),localStorage.removeItem("isAdmin"),localStorage.removeItem("adminEmail"),window.location.href="/auth/login"},className:"mt-2 flex w-full items-center gap-3 rounded-lg px-3 py-2 text-gray-300 hover:bg-red-500/20 hover:text-red-400 transition-colors",children:[a.jsx("span",{className:"material-symbols-outlined",children:"logout"}),a.jsx("p",{className:"text-sm font-medium",children:e("admin.logout")})]})]})]})]})}},22254:(e,t,s)=>{e.exports=s(14767)},2324:(e,t,s)=>{"use strict";s.d(t,{$8:()=>l,GJ:()=>i,My:()=>n,kS:()=>o,ts:()=>a});let a=()=>null,r=()=>null,l=()=>!!r(),i=()=>{let e=a();return!!e&&["admin","super_admin","operator"].includes(e.role)},n=e=>["admin","super_admin","operator"].includes(e)?"/admin":"/dashboard",o=()=>{}},94913:(e,t,s)=>{"use strict";s.d(t,{X6:()=>n,dN:()=>i,o0:()=>r,p6:()=>a});let a=(e,t={})=>{if(!e)return"N/A";try{let s=new Date(e);if(isNaN(s.getTime()))return"N/A";let a={day:"2-digit",month:"2-digit",year:"numeric",...t};return s.toLocaleDateString("tr-TR",a)}catch(e){return console.error("Error formatting date:",e),"N/A"}},r=e=>{if(!e)return"N/A";try{let t=new Date(e);if(isNaN(t.getTime()))return"N/A";return t.toLocaleDateString("tr-TR",{day:"2-digit",month:"2-digit",year:"numeric",hour:"2-digit",minute:"2-digit"})}catch(e){return console.error("Error formatting date time:",e),"N/A"}},l=(e,t="TRY",s="tr-TR")=>{if(null==e)return l(0,t,s);try{let a="string"==typeof e?parseFloat(e):e;if(isNaN(a))return l(0,t,s);return new Intl.NumberFormat(s,{style:"currency",currency:t,minimumFractionDigits:2,maximumFractionDigits:2}).format(a)}catch(s){return console.error("Error formatting currency:",s),`${e} ${t}`}},i=e=>l(e,"TRY","tr-TR"),n=e=>{if(null==e)return"0%";try{let t="string"==typeof e?parseFloat(e):e;if(isNaN(t))return"0%";if(t>0)return`+${t.toFixed(1)}%`;if(t<0)return`${t.toFixed(1)}%`;return"0%"}catch(e){return console.error("Error formatting change:",e),"0%"}}},36846:(e,t,s)=>{"use strict";s.d(t,{cM:()=>i});let a={DEBUG:"debug",INFO:"info",WARN:"warn",ERROR:"error"};class r{constructor(){this.isDevelopment=!1}formatMessage(e,t,s=null){let a=new Date().toISOString(),r=`[${a}] [${e.toUpperCase()}]`;return s?{prefix:r,message:t,data:s}:{prefix:r,message:t}}debug(e,t=null){if(!this.isDevelopment)return;let s=this.formatMessage(a.DEBUG,e,t);t?console.log(s.prefix,s.message,s.data):console.log(s.prefix,s.message)}info(e,t=null){let s=this.formatMessage(a.INFO,e,t);t?console.info(s.prefix,s.message,s.data):console.info(s.prefix,s.message)}warn(e,t=null){let s=this.formatMessage(a.WARN,e,t);t?console.warn(s.prefix,s.message,s.data):console.warn(s.prefix,s.message)}error(e,t=null){let s=this.formatMessage(a.ERROR,e,t);t?(console.error(s.prefix,s.message,t),this.isDevelopment):console.error(s.prefix,s.message)}apiError(e,t){this.error(`API Error [${e}]`,{endpoint:e,status:t?.response?.status,message:t?.response?.data?.message||t?.message,data:t?.response?.data})}}let l=new r,i={debug:(e,t)=>l.debug(e,t),info:(e,t)=>l.info(e,t),warn:(e,t)=>l.warn(e,t),error:(e,t)=>l.error(e,t),apiError:(e,t)=>l.apiError(e,t)}},47271:(e,t,s)=>{"use strict";s.r(t),s.d(t,{$$typeof:()=>l,__esModule:()=>r,default:()=>i});let a=(0,s(86843).createProxy)(String.raw`W:\garbet\Frontend\app\admin\withdrawals\page.js`),{__esModule:r,$$typeof:l}=a,i=a.default}};var t=require("../../../webpack-runtime.js");t.C(e);var s=e=>t(t.s=e),a=t.X(0,[1263,9069],()=>s(19612));module.exports=a})();