(()=>{var e={};e.id=7299,e.ids=[7299],e.modules={47849:e=>{"use strict";e.exports=require("next/dist/client/components/action-async-storage.external")},55403:e=>{"use strict";e.exports=require("next/dist/client/components/request-async-storage.external")},94749:e=>{"use strict";e.exports=require("next/dist/client/components/static-generation-async-storage.external")},20399:e=>{"use strict";e.exports=require("next/dist/compiled/next-server/app-page.runtime.prod.js")},25528:e=>{"use strict";e.exports=require("next/dist\\client\\components\\action-async-storage.external.js")},91877:e=>{"use strict";e.exports=require("next/dist\\client\\components\\request-async-storage.external.js")},25319:e=>{"use strict";e.exports=require("next/dist\\client\\components\\static-generation-async-storage.external.js")},39491:e=>{"use strict";e.exports=require("assert")},6113:e=>{"use strict";e.exports=require("crypto")},82361:e=>{"use strict";e.exports=require("events")},57147:e=>{"use strict";e.exports=require("fs")},13685:e=>{"use strict";e.exports=require("http")},85158:e=>{"use strict";e.exports=require("http2")},95687:e=>{"use strict";e.exports=require("https")},22037:e=>{"use strict";e.exports=require("os")},71017:e=>{"use strict";e.exports=require("path")},12781:e=>{"use strict";e.exports=require("stream")},76224:e=>{"use strict";e.exports=require("tty")},57310:e=>{"use strict";e.exports=require("url")},73837:e=>{"use strict";e.exports=require("util")},59796:e=>{"use strict";e.exports=require("zlib")},64738:(e,t,r)=>{"use strict";r.r(t),r.d(t,{GlobalError:()=>i.a,__next_app__:()=>m,originalPathname:()=>u,pages:()=>d,routeModule:()=>x,tree:()=>c});var s=r(50482),a=r(69108),n=r(62563),i=r.n(n),l=r(68300),o={};for(let e in l)0>["default","tree","pages","GlobalError","originalPathname","__next_app__","routeModule"].indexOf(e)&&(o[e]=()=>l[e]);r.d(t,o);let c=["",{children:["admin",{children:["ibans",{children:["__PAGE__",{},{page:[()=>Promise.resolve().then(r.bind(r,34700)),"W:\\garbet\\Frontend\\app\\admin\\ibans\\page.js"]}]},{}]},{}]},{layout:[()=>Promise.resolve().then(r.bind(r,69847)),"W:\\garbet\\Frontend\\app\\layout.js"],error:[()=>Promise.resolve().then(r.bind(r,60826)),"W:\\garbet\\Frontend\\app\\error.js"],"not-found":[()=>Promise.resolve().then(r.bind(r,46178)),"W:\\garbet\\Frontend\\app\\not-found.js"]}],d=["W:\\garbet\\Frontend\\app\\admin\\ibans\\page.js"],u="/admin/ibans/page",m={require:r,loadChunk:()=>Promise.resolve()},x=new s.AppPageRouteModule({definition:{kind:a.x.APP_PAGE,page:"/admin/ibans/page",pathname:"/admin/ibans",bundlePath:"",filename:"",appPaths:[]},userland:{loaderTree:c}})},68148:(e,t,r)=>{Promise.resolve().then(r.bind(r,83570))},83570:(e,t,r)=>{"use strict";r.r(t),r.d(t,{default:()=>x});var s=r(95344),a=r(3729),n=r(22254),i=r(20783),l=r.n(i),o=r(21475),c=r(24774),d=r(36846),u=r(94913);function m(){(0,n.useRouter)();let[e,t]=(0,a.useState)([]),[r,i]=(0,a.useState)(!0),[o,m]=(0,a.useState)(""),[x,p]=(0,a.useState)(""),[g,h]=(0,a.useState)(1),[b,f]=(0,a.useState)(1),[N,y]=(0,a.useState)("all"),[j,v]=(0,a.useState)(!1),[k,w]=(0,a.useState)(null),[A,I]=(0,a.useState)({bankName:"",accountHolder:"",ibanNumber:"",isActive:!0});(0,a.useEffect)(()=>{S()},[g,N]);let S=async()=>{i(!0),m("");try{let e={page:g,limit:20};"all"!==N&&(e.isActive="active"===N);let r=await c.X$.getIbans(e);t(r.data.ibans||[]),f(r.data.pagination?.totalPages||1)}catch(e){m(e.response?.data?.message||"Failed to load IBANs"),d.cM.apiError("/ibans",e)}finally{i(!1)}},q=e=>{w(e),I({bankName:e.bankName,accountHolder:e.accountHolder,ibanNumber:e.ibanNumber,isActive:e.isActive}),v(!0)},B=async e=>{e.preventDefault(),m(""),p("");try{k?(await c.X$.updateIban(k.id,A),p("IBAN updated successfully")):(await c.X$.createIban(A),p("IBAN created successfully")),v(!1),S(),setTimeout(()=>p(""),3e3)}catch(e){m(e.response?.data?.message||"Failed to save IBAN"),d.cM.apiError(k?"/ibans/update":"/ibans/create",e)}},E=async e=>{if(confirm("Are you sure you want to delete this IBAN?"))try{await c.X$.deleteIban(e),p("IBAN deleted successfully"),S(),setTimeout(()=>p(""),3e3)}catch(e){m(e.response?.data?.message||"Failed to delete IBAN"),d.cM.apiError("/ibans/delete",e)}},_=async e=>{try{await c.X$.toggleIbanStatus(e),p("IBAN status updated"),S(),setTimeout(()=>p(""),3e3)}catch(e){m(e.response?.data?.message||"Failed to toggle IBAN status"),d.cM.apiError("/ibans/toggle",e)}};return(0,s.jsxs)("div",{className:"flex h-screen bg-background-light dark:bg-background-dark font-display",children:[(0,s.jsxs)("aside",{className:"flex w-64 flex-col bg-background-dark border-r border-surface p-4",children:[(0,s.jsxs)("div",{className:"flex items-center gap-3 mb-8 px-2",children:[s.jsx("div",{className:"flex h-10 w-10 items-center justify-center rounded-lg bg-primary",children:s.jsx("span",{className:"material-symbols-outlined text-black",children:"casino"})}),(0,s.jsxs)("div",{className:"flex flex-col",children:[s.jsx("h1",{className:"text-base font-bold text-white",children:"Casino Admin"}),s.jsx("p",{className:"text-sm text-gray-400",children:"Management"})]})]}),s.jsx("nav",{className:"flex flex-col gap-2",children:[{id:"dashboard",label:"Dashboard",icon:"dashboard",href:"/admin"},{id:"users",label:"Users",icon:"group",href:"/admin/users"},{id:"games",label:"Games",icon:"casino",href:"/admin/games"},{id:"deposits",label:"Deposits",icon:"arrow_downward",href:"/admin/deposits"},{id:"withdrawals",label:"Withdrawals",icon:"arrow_upward",href:"/admin/withdrawals"},{id:"tournaments",label:"Tournaments",icon:"emoji_events",href:"/admin/tournaments"},{id:"ibans",label:"IBAN Management",icon:"account_balance",href:"/admin/ibans"},{id:"settings",label:"Settings",icon:"settings",href:"/admin/settings"}].map(e=>(0,s.jsxs)(l(),{href:e.href,className:`flex items-center gap-3 rounded-lg px-3 py-2 text-sm font-medium transition-colors ${"/admin/ibans"===e.href?"bg-primary/20 text-primary":"text-gray-300 hover:bg-white/10"}`,children:[s.jsx("span",{className:"material-symbols-outlined",children:e.icon}),s.jsx("p",{children:e.label})]},e.id))}),(0,s.jsxs)("div",{className:"mt-auto",children:[(0,s.jsxs)(l(),{href:"/admin/settings",className:"flex items-center gap-3 rounded-lg px-3 py-2 text-gray-300 hover:bg-white/10 transition-colors",children:[s.jsx("span",{className:"material-symbols-outlined",children:"settings"}),s.jsx("p",{className:"text-sm font-medium",children:"Settings"})]}),(0,s.jsxs)("button",{onClick:()=>{localStorage.removeItem("token"),localStorage.removeItem("user"),localStorage.removeItem("isAdmin"),localStorage.removeItem("adminEmail"),window.location.href="/auth/login"},className:"mt-2 flex w-full items-center gap-3 rounded-lg px-3 py-2 text-gray-300 hover:bg-red-500/20 hover:text-red-400 transition-colors",children:[s.jsx("span",{className:"material-symbols-outlined",children:"logout"}),s.jsx("p",{className:"text-sm font-medium",children:"Logout"})]})]})]}),(0,s.jsxs)("main",{className:"flex-1 overflow-y-auto bg-background-light dark:bg-background-dark",children:[s.jsx("header",{className:"sticky top-0 z-10 flex h-16 items-center justify-between border-b border-surface bg-background-dark/80 px-4 sm:px-6 lg:px-8 backdrop-blur-sm",children:s.jsx("div",{className:"flex items-center gap-8",children:s.jsx("h1",{className:"text-white text-xl font-bold",children:"IBAN Management"})})}),(0,s.jsxs)("div",{className:"p-4 sm:p-6 lg:p-8",children:[o&&s.jsx("div",{className:"mb-4 rounded-lg bg-red-500/20 border border-red-500/50 p-4",children:s.jsx("p",{className:"text-sm text-red-400",children:o})}),x&&s.jsx("div",{className:"mb-4 rounded-lg bg-teal-500/20 border border-teal-500/50 p-4",children:s.jsx("p",{className:"text-sm text-teal-400",children:x})}),(0,s.jsxs)("div",{className:"flex flex-wrap items-center justify-between gap-4 mb-6",children:[(0,s.jsxs)("div",{children:[s.jsx("h2",{className:"text-white text-2xl font-bold",children:"IBANs"}),s.jsx("p",{className:"text-gray-400 text-sm",children:"Manage bank account IBANs"})]}),(0,s.jsxs)("div",{className:"flex gap-4",children:[(0,s.jsxs)("select",{value:N,onChange:e=>{y(e.target.value),h(1)},className:"rounded-lg bg-surface border border-surface px-4 py-2 text-white focus:outline-none focus:ring-2 focus:ring-primary/50",children:[s.jsx("option",{value:"all",children:"All IBANs"}),s.jsx("option",{value:"active",children:"Active Only"}),s.jsx("option",{value:"inactive",children:"Inactive Only"})]}),(0,s.jsxs)("button",{onClick:()=>{w(null),I({bankName:"",accountHolder:"",ibanNumber:"",isActive:!0}),v(!0)},className:"flex items-center gap-2 rounded-lg bg-primary text-background-dark px-4 py-2 font-bold hover:bg-yellow-400 transition-colors",children:[s.jsx("span",{className:"material-symbols-outlined",children:"add"}),"Add IBAN"]})]})]}),(0,s.jsxs)("div",{className:"bg-surface rounded-lg overflow-hidden",children:[s.jsx("div",{className:"overflow-x-auto",children:(0,s.jsxs)("table",{className:"w-full text-sm",children:[s.jsx("thead",{className:"bg-background-dark border-b border-surface",children:(0,s.jsxs)("tr",{children:[s.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-400 uppercase",children:"Bank Name"}),s.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-400 uppercase",children:"Account Holder"}),s.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-400 uppercase",children:"IBAN Number"}),s.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-400 uppercase",children:"Status"}),s.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-400 uppercase",children:"Added By"}),s.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-400 uppercase",children:"Created"}),s.jsx("th",{className:"px-6 py-3 text-right text-xs font-medium text-gray-400 uppercase",children:"Actions"})]})}),s.jsx("tbody",{className:"divide-y divide-surface",children:r?s.jsx("tr",{children:s.jsx("td",{colSpan:7,className:"px-6 py-8 text-center text-gray-400",children:"Loading..."})}):0===e.length?s.jsx("tr",{children:s.jsx("td",{colSpan:7,className:"px-6 py-8 text-center text-gray-400",children:"No IBANs found"})}):e.map(e=>(0,s.jsxs)("tr",{className:"hover:bg-background-dark/50 transition-colors",children:[s.jsx("td",{className:"px-6 py-4 font-medium text-white",children:e.bankName}),s.jsx("td",{className:"px-6 py-4 text-white",children:e.accountHolder}),s.jsx("td",{className:"px-6 py-4 text-white font-mono",children:e.ibanNumber}),s.jsx("td",{className:"px-6 py-4",children:s.jsx("span",{className:`inline-flex items-center rounded-full px-2.5 py-0.5 text-xs font-medium ${e.isActive?"bg-teal-500/20 text-teal-400":"bg-gray-500/20 text-gray-400"}`,children:e.isActive?"Active":"Inactive"})}),s.jsx("td",{className:"px-6 py-4 text-gray-400",children:e.addedBy?.name||e.addedBy?.email||"N/A"}),s.jsx("td",{className:"px-6 py-4 text-gray-400",children:(0,u.p6)(e.createdAt)}),s.jsx("td",{className:"px-6 py-4 text-right",children:(0,s.jsxs)("div",{className:"flex items-center justify-end gap-2",children:[s.jsx("button",{onClick:()=>_(e.id),className:"p-2 rounded-lg hover:bg-background-dark transition-colors",title:e.isActive?"Deactivate":"Activate",children:s.jsx("span",{className:"material-symbols-outlined text-lg text-gray-400 hover:text-white",children:e.isActive?"toggle_on":"toggle_off"})}),s.jsx("button",{onClick:()=>q(e),className:"p-2 rounded-lg hover:bg-background-dark transition-colors",title:"Edit",children:s.jsx("span",{className:"material-symbols-outlined text-lg text-gray-400 hover:text-blue-400",children:"edit"})}),s.jsx("button",{onClick:()=>E(e.id),className:"p-2 rounded-lg hover:bg-background-dark transition-colors",title:"Delete",children:s.jsx("span",{className:"material-symbols-outlined text-lg text-gray-400 hover:text-red-400",children:"delete"})})]})})]},e.id))})]})}),b>1&&(0,s.jsxs)("div",{className:"px-6 py-4 border-t border-surface flex items-center justify-between",children:[s.jsx("button",{onClick:()=>h(e=>Math.max(1,e-1)),disabled:1===g,className:"px-4 py-2 rounded-lg bg-background-dark text-white hover:bg-background-dark/80 disabled:opacity-50 disabled:cursor-not-allowed transition-colors",children:"Previous"}),(0,s.jsxs)("span",{className:"text-gray-400",children:["Page ",g," of ",b]}),s.jsx("button",{onClick:()=>h(e=>Math.min(b,e+1)),disabled:g===b,className:"px-4 py-2 rounded-lg bg-background-dark text-white hover:bg-background-dark/80 disabled:opacity-50 disabled:cursor-not-allowed transition-colors",children:"Next"})]})]})]})]}),j&&s.jsx("div",{className:"fixed inset-0 bg-black/50 flex items-center justify-center z-50 p-4",children:(0,s.jsxs)("div",{className:"bg-surface rounded-lg p-6 max-w-md w-full",children:[s.jsx("h3",{className:"text-white text-xl font-bold mb-4",children:k?"Edit IBAN":"Create IBAN"}),(0,s.jsxs)("form",{onSubmit:B,className:"space-y-4",children:[(0,s.jsxs)("div",{children:[s.jsx("label",{className:"block text-sm text-gray-400 mb-2",children:"Bank Name"}),s.jsx("input",{type:"text",required:!0,value:A.bankName,onChange:e=>I({...A,bankName:e.target.value}),className:"w-full rounded-lg bg-background-dark border border-surface px-4 py-2 text-white focus:outline-none focus:ring-2 focus:ring-primary/50"})]}),(0,s.jsxs)("div",{children:[s.jsx("label",{className:"block text-sm text-gray-400 mb-2",children:"Account Holder"}),s.jsx("input",{type:"text",required:!0,value:A.accountHolder,onChange:e=>I({...A,accountHolder:e.target.value}),className:"w-full rounded-lg bg-background-dark border border-surface px-4 py-2 text-white focus:outline-none focus:ring-2 focus:ring-primary/50"})]}),(0,s.jsxs)("div",{children:[s.jsx("label",{className:"block text-sm text-gray-400 mb-2",children:"IBAN Number"}),s.jsx("input",{type:"text",required:!0,value:A.ibanNumber,onChange:e=>I({...A,ibanNumber:e.target.value}),className:"w-full rounded-lg bg-background-dark border border-surface px-4 py-2 text-white font-mono focus:outline-none focus:ring-2 focus:ring-primary/50"})]}),(0,s.jsxs)("div",{className:"flex items-center gap-2",children:[s.jsx("input",{type:"checkbox",id:"isActive",checked:A.isActive,onChange:e=>I({...A,isActive:e.target.checked}),className:"w-4 h-4 rounded bg-background-dark border-surface text-primary focus:ring-primary/50"}),s.jsx("label",{htmlFor:"isActive",className:"text-sm text-gray-400",children:"Active"})]}),(0,s.jsxs)("div",{className:"flex gap-4 pt-4",children:[s.jsx("button",{type:"button",onClick:()=>v(!1),className:"flex-1 rounded-lg bg-gray-600 hover:bg-gray-700 px-4 py-2 text-white font-medium transition-colors",children:"Cancel"}),s.jsx("button",{type:"submit",className:"flex-1 rounded-lg bg-primary text-background-dark px-4 py-2 font-bold hover:bg-yellow-400 transition-colors",children:k?"Update":"Create"})]})]})]})})]})}function x(){return s.jsx(o.Z,{children:s.jsx(m,{})})}},21475:(e,t,r)=>{"use strict";r.d(t,{Z:()=>l});var s=r(95344),a=r(3729),n=r(22254),i=r(2324);function l({children:e}){let t=(0,n.useRouter)(),r=(0,n.usePathname)(),[l,o]=(0,a.useState)(!1),[c,d]=(0,a.useState)(!0);return((0,a.useEffect)(()=>{(()=>{if(!(0,i.$8)()){let e=encodeURIComponent(r||"/admin");t.push(`/auth/login?next=${e}`);return}if(!(0,i.GJ)()){t.push("/dashboard");return}o(!0),d(!1)})()},[t,r]),c)?s.jsx("div",{className:"flex min-h-screen w-full items-center justify-center bg-background-dark",children:(0,s.jsxs)("div",{className:"flex flex-col items-center gap-4",children:[s.jsx("div",{className:"size-8 animate-spin rounded-full border-4 border-[#0dccf2] border-t-transparent"}),s.jsx("p",{className:"text-white/70 text-sm",children:"Verifying access..."})]})}):l?s.jsx(s.Fragment,{children:e}):null}},22254:(e,t,r)=>{e.exports=r(14767)},2324:(e,t,r)=>{"use strict";r.d(t,{$8:()=>n,GJ:()=>i,My:()=>l,kS:()=>o,ts:()=>s});let s=()=>null,a=()=>null,n=()=>!!a(),i=()=>{let e=s();return!!e&&["admin","super_admin","operator"].includes(e.role)},l=e=>["admin","super_admin","operator"].includes(e)?"/admin":"/dashboard",o=()=>{}},94913:(e,t,r)=>{"use strict";r.d(t,{X6:()=>l,dN:()=>i,o0:()=>a,p6:()=>s});let s=(e,t={})=>{if(!e)return"N/A";try{let r=new Date(e);if(isNaN(r.getTime()))return"N/A";let s={day:"2-digit",month:"2-digit",year:"numeric",...t};return r.toLocaleDateString("tr-TR",s)}catch(e){return console.error("Error formatting date:",e),"N/A"}},a=e=>{if(!e)return"N/A";try{let t=new Date(e);if(isNaN(t.getTime()))return"N/A";return t.toLocaleDateString("tr-TR",{day:"2-digit",month:"2-digit",year:"numeric",hour:"2-digit",minute:"2-digit"})}catch(e){return console.error("Error formatting date time:",e),"N/A"}},n=(e,t="TRY",r="tr-TR")=>{if(null==e)return n(0,t,r);try{let s="string"==typeof e?parseFloat(e):e;if(isNaN(s))return n(0,t,r);return new Intl.NumberFormat(r,{style:"currency",currency:t,minimumFractionDigits:2,maximumFractionDigits:2}).format(s)}catch(r){return console.error("Error formatting currency:",r),`${e} ${t}`}},i=e=>n(e,"TRY","tr-TR"),l=e=>{if(null==e)return"0%";try{let t="string"==typeof e?parseFloat(e):e;if(isNaN(t))return"0%";if(t>0)return`+${t.toFixed(1)}%`;if(t<0)return`${t.toFixed(1)}%`;return"0%"}catch(e){return console.error("Error formatting change:",e),"0%"}}},36846:(e,t,r)=>{"use strict";r.d(t,{cM:()=>i});let s={DEBUG:"debug",INFO:"info",WARN:"warn",ERROR:"error"};class a{constructor(){this.isDevelopment=!1}formatMessage(e,t,r=null){let s=new Date().toISOString(),a=`[${s}] [${e.toUpperCase()}]`;return r?{prefix:a,message:t,data:r}:{prefix:a,message:t}}debug(e,t=null){if(!this.isDevelopment)return;let r=this.formatMessage(s.DEBUG,e,t);t?console.log(r.prefix,r.message,r.data):console.log(r.prefix,r.message)}info(e,t=null){let r=this.formatMessage(s.INFO,e,t);t?console.info(r.prefix,r.message,r.data):console.info(r.prefix,r.message)}warn(e,t=null){let r=this.formatMessage(s.WARN,e,t);t?console.warn(r.prefix,r.message,r.data):console.warn(r.prefix,r.message)}error(e,t=null){let r=this.formatMessage(s.ERROR,e,t);t?(console.error(r.prefix,r.message,t),this.isDevelopment):console.error(r.prefix,r.message)}apiError(e,t){this.error(`API Error [${e}]`,{endpoint:e,status:t?.response?.status,message:t?.response?.data?.message||t?.message,data:t?.response?.data})}}let n=new a,i={debug:(e,t)=>n.debug(e,t),info:(e,t)=>n.info(e,t),warn:(e,t)=>n.warn(e,t),error:(e,t)=>n.error(e,t),apiError:(e,t)=>n.apiError(e,t)}},34700:(e,t,r)=>{"use strict";r.r(t),r.d(t,{$$typeof:()=>n,__esModule:()=>a,default:()=>i});let s=(0,r(86843).createProxy)(String.raw`W:\garbet\Frontend\app\admin\ibans\page.js`),{__esModule:a,$$typeof:n}=s,i=s.default}};var t=require("../../../webpack-runtime.js");t.C(e);var r=e=>t(t.s=e),s=t.X(0,[1263,9069],()=>r(64738));module.exports=s})();