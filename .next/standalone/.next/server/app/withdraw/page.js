(()=>{var e={};e.id=549,e.ids=[549],e.modules={47849:e=>{"use strict";e.exports=require("next/dist/client/components/action-async-storage.external")},55403:e=>{"use strict";e.exports=require("next/dist/client/components/request-async-storage.external")},94749:e=>{"use strict";e.exports=require("next/dist/client/components/static-generation-async-storage.external")},20399:e=>{"use strict";e.exports=require("next/dist/compiled/next-server/app-page.runtime.prod.js")},25528:e=>{"use strict";e.exports=require("next/dist\\client\\components\\action-async-storage.external.js")},91877:e=>{"use strict";e.exports=require("next/dist\\client\\components\\request-async-storage.external.js")},25319:e=>{"use strict";e.exports=require("next/dist\\client\\components\\static-generation-async-storage.external.js")},39491:e=>{"use strict";e.exports=require("assert")},6113:e=>{"use strict";e.exports=require("crypto")},82361:e=>{"use strict";e.exports=require("events")},57147:e=>{"use strict";e.exports=require("fs")},13685:e=>{"use strict";e.exports=require("http")},85158:e=>{"use strict";e.exports=require("http2")},95687:e=>{"use strict";e.exports=require("https")},22037:e=>{"use strict";e.exports=require("os")},71017:e=>{"use strict";e.exports=require("path")},12781:e=>{"use strict";e.exports=require("stream")},76224:e=>{"use strict";e.exports=require("tty")},57310:e=>{"use strict";e.exports=require("url")},73837:e=>{"use strict";e.exports=require("util")},59796:e=>{"use strict";e.exports=require("zlib")},18854:(e,t,r)=>{"use strict";r.r(t),r.d(t,{GlobalError:()=>l.a,__next_app__:()=>m,originalPathname:()=>x,pages:()=>c,routeModule:()=>u,tree:()=>o});var s=r(50482),a=r(69108),i=r(62563),l=r.n(i),n=r(68300),d={};for(let e in n)0>["default","tree","pages","GlobalError","originalPathname","__next_app__","routeModule"].indexOf(e)&&(d[e]=()=>n[e]);r.d(t,d);let o=["",{children:["withdraw",{children:["__PAGE__",{},{page:[()=>Promise.resolve().then(r.bind(r,70369)),"W:\\garbet\\Frontend\\app\\withdraw\\page.js"]}]},{}]},{layout:[()=>Promise.resolve().then(r.bind(r,69847)),"W:\\garbet\\Frontend\\app\\layout.js"],error:[()=>Promise.resolve().then(r.bind(r,60826)),"W:\\garbet\\Frontend\\app\\error.js"],"not-found":[()=>Promise.resolve().then(r.bind(r,46178)),"W:\\garbet\\Frontend\\app\\not-found.js"]}],c=["W:\\garbet\\Frontend\\app\\withdraw\\page.js"],x="/withdraw/page",m={require:r,loadChunk:()=>Promise.resolve()},u=new s.AppPageRouteModule({definition:{kind:a.x.APP_PAGE,page:"/withdraw/page",pathname:"/withdraw",bundlePath:"",filename:"",appPaths:[]},userland:{loaderTree:o}})},69e3:(e,t,r)=>{Promise.resolve().then(r.bind(r,75170))},75170:(e,t,r)=>{"use strict";r.r(t),r.d(t,{default:()=>u});var s=r(95344),a=r(3729),i=r(22254),l=r(37249),n=r(24774),d=r(94913),o=r(34749),c=r(19747),x=r(17397);function m(){let{t:e,language:t}=(0,c.$)(),r=(0,i.useRouter)(),[l,m]=(0,a.useState)(null),[u,h]=(0,a.useState)(!1),[p,b]=(0,a.useState)(""),[w,g]=(0,a.useState)(""),[f,j]=(0,a.useState)(""),[N,y]=(0,a.useState)(""),[v,k]=(0,a.useState)([]),[q,_]=(0,a.useState)(!1);(0,a.useEffect)(()=>{P(),S()},[]);let P=async()=>{try{let e=await n.kv.getMe();m(e.data)}catch(e){e.response?.status===401&&r.push("/auth/login")}},S=async()=>{_(!0);try{let e=await n.wm.getWithdrawalRequests({}),t=e.data?.withdrawalRequests||e.data?.withdrawals;Array.isArray(t)?k(t):Array.isArray(e.data)?k(e.data):k([])}catch(e){console.error("Failed to fetch withdrawals:",e),k([])}finally{_(!1)}},F=async t=>{if(t.preventDefault(),!f||0>=parseFloat(f)){b(e("errors.invalidAmount"));return}if(!l?.iban||!l?.ibanHolderName){b(e("errors.ibanRequired")),r.push("/profile");return}h(!0),b(""),g("");try{await n.wm.createWithdrawal({amount:parseFloat(f),description:N||e("common.withdrawTitle")}),g(e("common.withdrawTitle")+" "+e("common.completed")),j(""),y(""),await P(),await S()}catch(t){b((0,x.e$)(t)||e("errors.withdrawalFailed"))}finally{h(!1)}},A=e=>{switch(e){case"approved":case"paid":return"bg-green-500/20 text-green-400";case"pending":return"bg-yellow-500/20 text-yellow-400";case"rejected":return"bg-red-500/20 text-red-400";default:return"bg-gray-500/20 text-gray-400"}},R=t=>e(`withdraw.status.${t}`)||t;return(0,s.jsxs)("div",{className:"flex min-h-screen bg-background-light dark:bg-background-dark font-display text-[#EAEAEA]",children:[s.jsx(o.Z,{}),s.jsx("div",{className:"flex-1 flex flex-col ml-0 lg:ml-64",children:s.jsx("div",{className:"flex-1 overflow-y-auto p-4 sm:p-6 lg:p-8",children:s.jsx("div",{className:"max-w-6xl mx-auto",children:(0,s.jsxs)("main",{className:"flex-grow pt-8 sm:pt-12 pb-12",children:[(0,s.jsxs)("div",{className:"flex flex-wrap justify-between gap-4 p-4 mb-6",children:[(0,s.jsxs)("div",{className:"flex flex-col gap-2",children:[s.jsx("p",{className:"text-white text-3xl sm:text-4xl font-black leading-tight tracking-[-0.033em]",children:e("withdraw.title")}),s.jsx("p",{className:"text-text-dark text-base font-normal leading-normal",children:e("withdraw.subtitle")})]}),l&&(0,s.jsxs)("div",{className:"flex flex-col items-end",children:[s.jsx("p",{className:"text-text-dark text-sm",children:e("withdraw.currentBalance")}),s.jsx("p",{className:"text-white text-2xl font-bold",children:(0,d.dN)(l.balance||0)})]})]}),p&&s.jsx("div",{className:"mb-4 mx-4 rounded-lg bg-red-500/20 border border-red-500/50 p-4",children:s.jsx("p",{className:"text-sm text-red-400",children:p})}),w&&s.jsx("div",{className:"mb-4 mx-4 rounded-lg bg-green-500/20 border border-green-500/50 p-4",children:s.jsx("p",{className:"text-sm text-green-400",children:w})}),(0,s.jsxs)("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-8 mt-8 p-4",children:[s.jsx("div",{className:"lg:col-span-2",children:(0,s.jsxs)("div",{className:"bg-surface-dark rounded-xl p-6 border border-white/10",children:[s.jsx("h2",{className:"text-white text-xl font-bold mb-6",children:e("withdraw.withdrawalForm")}),l?.iban&&l?.ibanHolderName?(0,s.jsxs)("div",{className:"mb-6 p-4 bg-white/5 rounded-lg",children:[s.jsx("p",{className:"text-text-dark text-sm mb-1",children:e("withdraw.ibanInfo")}),s.jsx("p",{className:"text-white font-medium",children:l.iban}),s.jsx("p",{className:"text-text-dark text-sm mt-1",children:l.ibanHolderName}),l.bankName&&s.jsx("p",{className:"text-text-dark text-sm",children:l.bankName})]}):(0,s.jsxs)("div",{className:"bg-yellow-500/20 border border-yellow-500/50 rounded-lg p-4 mb-6",children:[s.jsx("p",{className:"text-yellow-400 text-sm mb-2",children:e("withdraw.ibanInfoMissing")}),s.jsx("button",{onClick:()=>r.push("/profile"),className:"px-4 py-2 bg-primary text-black rounded-lg font-medium hover:bg-yellow-400 transition-colors",children:e("withdraw.goToProfile")})]}),(0,s.jsxs)("form",{onSubmit:F,children:[(0,s.jsxs)("div",{className:"mb-6",children:[s.jsx("label",{className:"block text-white text-sm font-medium mb-2",children:e("withdraw.amount")}),s.jsx("input",{type:"number",value:f,onChange:e=>j(e.target.value),placeholder:"0.00",min:"100",max:l?.balance||0,step:"0.01",className:"w-full h-12 rounded-lg bg-white/5 border border-white/10 text-white px-4 focus:outline-none focus:ring-2 focus:ring-primary",required:!0,disabled:u||!l?.iban||!l?.ibanHolderName}),(0,s.jsxs)("p",{className:"text-text-dark text-xs mt-2",children:[e("withdraw.minimum"),": ₺100 | ",e("withdraw.maximum"),": ",(0,d.dN)(l?.balance||0)]})]}),(0,s.jsxs)("div",{className:"mb-6",children:[s.jsx("p",{className:"text-text-dark text-sm mb-2",children:e("withdraw.quickSelection")}),s.jsx("div",{className:"flex flex-wrap gap-2",children:[100,250,500,1e3,2500,5e3].map(e=>(0,s.jsxs)("button",{type:"button",onClick:()=>{e<=(l?.balance||0)&&j(e.toString())},disabled:e>(l?.balance||0)||u||!l?.iban||!l?.ibanHolderName,className:"px-4 py-2 rounded-lg bg-white/5 border border-white/10 text-white text-sm hover:bg-white/10 transition-colors disabled:opacity-50 disabled:cursor-not-allowed",children:["₺",e]},e))})]}),(0,s.jsxs)("div",{className:"mb-6",children:[s.jsx("label",{className:"block text-white text-sm font-medium mb-2",children:e("withdraw.description")}),s.jsx("textarea",{value:N,onChange:e=>y(e.target.value),placeholder:e("withdraw.descriptionPlaceholder"),rows:"3",className:"w-full rounded-lg bg-white/5 border border-white/10 text-white px-4 py-2 focus:outline-none focus:ring-2 focus:ring-primary resize-none",disabled:u||!l?.iban||!l?.ibanHolderName})]}),s.jsx("button",{type:"submit",disabled:u||!l?.iban||!l?.ibanHolderName||!f||0>=parseFloat(f),className:"w-full h-12 rounded-lg bg-primary text-black font-bold hover:bg-yellow-400 transition-colors disabled:opacity-50 disabled:cursor-not-allowed",children:u?e("withdraw.processing"):e("withdraw.createRequest")})]})]})}),s.jsx("div",{className:"lg:col-span-1",children:(0,s.jsxs)("div",{className:"bg-surface-dark rounded-xl p-6 border border-white/10",children:[s.jsx("h2",{className:"text-white text-xl font-bold mb-6",children:e("withdraw.withdrawalHistory")}),q?s.jsx("div",{className:"flex items-center justify-center py-8",children:s.jsx("div",{className:"size-8 animate-spin rounded-full border-4 border-primary border-t-transparent"})}):0===v.length?s.jsx("p",{className:"text-text-dark text-sm text-center py-8",children:e("withdraw.noWithdrawals")}):s.jsx("div",{className:"space-y-4 max-h-[600px] overflow-y-auto",children:v.map(r=>(0,s.jsxs)("div",{className:"p-4 bg-white/5 rounded-lg border border-white/10",children:[(0,s.jsxs)("div",{className:"flex justify-between items-start mb-2",children:[(0,s.jsxs)("div",{children:[s.jsx("p",{className:"text-white font-medium",children:(0,d.dN)(r.amount)}),s.jsx("p",{className:"text-text-dark text-xs mt-1",children:new Date(r.createdAt).toLocaleDateString("en"===t?"en-US":"tr-TR")})]}),s.jsx("span",{className:`px-2 py-1 rounded text-xs font-medium ${A(r.status)}`,children:R(r.status)})]}),r.rejectionReason&&(0,s.jsxs)("p",{className:"text-red-400 text-xs mt-2",children:[e("withdraw.rejectionReason"),": ",r.rejectionReason]}),r.adminNotes&&(0,s.jsxs)("p",{className:"text-text-dark text-xs mt-2",children:[e("withdraw.note"),": ",r.adminNotes]})]},r._id))})]})})]})]})})})})]})}function u(){return s.jsx(l.Z,{children:s.jsx(m,{})})}},37249:(e,t,r)=>{"use strict";r.d(t,{Z:()=>d});var s=r(95344),a=r(3729),i=r(22254),l=r(2324),n=r(89873);function d({children:e,requiredRole:t=null,allowedRoles:r=null}){let d=(0,i.useRouter)(),[o,c]=(0,a.useState)(!1),[x,m]=(0,a.useState)(!0);return((0,a.useEffect)(()=>{(()=>{if(!(0,l.$8)()){d.push("/auth/login");return}let e=(0,l.ts)();if(!e){d.push("/auth/login");return}if(t&&e.role!==t||r&&!r.includes(e.role)){d.push((0,l.My)(e.role));return}c(!0),m(!1)})()},[d,t,r]),x)?s.jsx("div",{className:"flex min-h-screen items-center justify-center bg-background-dark",children:(0,s.jsxs)("div",{className:"text-center",children:[s.jsx("div",{className:"mb-4 inline-block h-8 w-8 animate-spin rounded-full border-4 border-solid border-primary border-r-transparent"}),s.jsx("p",{className:"text-white",children:"Loading..."})]})}):o?(0,s.jsxs)(s.Fragment,{children:[s.jsx(n.Z,{}),e]}):null}},34749:(e,t,r)=>{"use strict";r.d(t,{Z:()=>c});var s=r(95344),a=r(3729),i=r(20783),l=r.n(i),n=r(22254),d=r(19747),o=r(24774);function c(){let{t:e}=(0,d.$)(),t=(0,n.usePathname)(),[r,i]=(0,a.useState)(null);(0,a.useEffect)(()=>{(async()=>{try{let e=await o.kv.getMe();i(e.data)}catch(e){console.error("Failed to fetch user:",e)}})()},[]);let c=[{id:"overview",label:e("dashboard.menuOverview"),icon:"dashboard",href:"/dashboard"},{id:"deposit",label:e("dashboard.menuDeposit"),icon:"account_balance_wallet",href:"/deposit"},{id:"withdraw",label:e("dashboard.menuWithdraw"),icon:"payments",href:"/withdraw"},{id:"transactions",label:"Transactions",icon:"receipt_long",href:"/transactions"},{id:"bet-history",label:e("dashboard.menuBetHistory"),icon:"sports_soccer",href:"/sports"},{id:"game-history",label:e("dashboard.menuGameHistory"),icon:"casino",href:"/slots"},{id:"bonuses",label:e("dashboard.menuBonuses"),icon:"emoji_events",href:"/bonuses"},{id:"settings",label:e("dashboard.menuSettings"),icon:"settings",href:"/profile"}];return(0,s.jsxs)("aside",{className:"fixed left-0 top-0 h-screen w-64 flex-col bg-background-dark border-r border-surface hidden lg:flex z-50",children:[(0,s.jsxs)("div",{className:"flex items-center gap-3 px-6 py-5 border-b border-surface",children:[s.jsx("div",{className:"size-8 text-primary",children:(0,s.jsxs)("svg",{fill:"currentColor",viewBox:"0 0 48 48",xmlns:"http://www.w3.org/2000/svg",children:[s.jsx("g",{clipPath:"url(#clip0_6_319)",children:s.jsx("path",{d:"M8.57829 8.57829C5.52816 11.6284 3.451 15.5145 2.60947 19.7452C1.76794 23.9758 2.19984 28.361 3.85056 32.3462C5.50128 36.3314 8.29667 39.7376 11.8832 42.134C15.4698 44.5305 19.6865 45.8096 24 45.8096C28.3135 45.8096 32.5302 44.5305 36.1168 42.134C39.7033 39.7375 42.4987 36.3314 44.1494 32.3462C45.8002 28.361 46.2321 23.9758 45.3905 19.7452C44.549 15.5145 42.4718 11.6284 39.4217 8.57829L24 24L8.57829 8.57829Z"})}),s.jsx("defs",{children:s.jsx("clipPath",{id:"clip0_6_319",children:s.jsx("rect",{fill:"white",height:"48",width:"48"})})})]})}),s.jsx(l(),{href:"/",children:s.jsx("h2",{className:"text-white text-xl font-bold",children:"Garbet"})})]}),(0,s.jsxs)("div",{className:"flex flex-col flex-1 p-4 overflow-y-auto",children:[(0,s.jsxs)("div",{className:"flex items-center gap-3 p-2 mb-4",children:[s.jsx("div",{className:"bg-center bg-no-repeat aspect-square bg-cover rounded-full size-10",style:{backgroundImage:'url("https://lh3.googleusercontent.com/aida-public/AB6AXuAuhux6dpQvPR-RdOeaTaRrgQkV5Eq0ycakfmhZ14nIjMP68y4K7cXqyORaLFyN0P3tEwtd0zZqPHn5rulfpLx7bkvQElTJmDbLf6Z44yXJAlanpWVQqtzFfVEkFtQzWBb5CBABwV-PJyT82HfkwXfNrquaMr92GzVOd2NyezQu1QoSzfn8PkY_ukvA5q1szlNZBBw1SZD83oQj2FTqIMaRH8Js3ufJIyWtGhy9ml7_96FcmxSt35SIW7FQ2v-822p0zaAR0bRc0S8")'}}),(0,s.jsxs)("div",{className:"flex flex-col",children:[s.jsx("h1",{className:"text-white text-base font-medium leading-normal",children:r?.firstName&&r?.lastName?`${r.firstName} ${r.lastName}`:r?.username||"User"}),s.jsx("p",{className:"text-gray-400 text-sm font-normal leading-normal",children:r?.email||"user@email.com"})]})]}),s.jsx("nav",{className:"flex flex-col gap-2",children:c.map(e=>{let r=t===e.href||"/dashboard"===e.href&&t.startsWith("/dashboard");return(0,s.jsxs)(l(),{href:e.href,className:`flex items-center gap-3 px-3 py-2.5 rounded-lg transition-colors ${r?"bg-surface text-primary":"hover:bg-surface/50 text-white"}`,children:[s.jsx("span",{className:`material-symbols-outlined ${r?"text-blue":"text-white/70"}`,style:r?{fontVariationSettings:"'FILL' 1"}:{},children:e.icon}),s.jsx("p",{className:"text-white text-sm font-medium leading-normal",children:e.label})]},e.id)})})]})]})}},70369:(e,t,r)=>{"use strict";r.r(t),r.d(t,{$$typeof:()=>i,__esModule:()=>a,default:()=>l});let s=(0,r(86843).createProxy)(String.raw`W:\garbet\Frontend\app\withdraw\page.js`),{__esModule:a,$$typeof:i}=s,l=s.default}};var t=require("../../webpack-runtime.js");t.C(e);var r=e=>t(t.s=e),s=t.X(0,[1263,9069,8679,9873],()=>r(18854));module.exports=s})();