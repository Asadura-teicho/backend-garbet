(()=>{var e={};e.id=7003,e.ids=[7003],e.modules={47849:e=>{"use strict";e.exports=require("next/dist/client/components/action-async-storage.external")},55403:e=>{"use strict";e.exports=require("next/dist/client/components/request-async-storage.external")},94749:e=>{"use strict";e.exports=require("next/dist/client/components/static-generation-async-storage.external")},20399:e=>{"use strict";e.exports=require("next/dist/compiled/next-server/app-page.runtime.prod.js")},25528:e=>{"use strict";e.exports=require("next/dist\\client\\components\\action-async-storage.external.js")},91877:e=>{"use strict";e.exports=require("next/dist\\client\\components\\request-async-storage.external.js")},25319:e=>{"use strict";e.exports=require("next/dist\\client\\components\\static-generation-async-storage.external.js")},39491:e=>{"use strict";e.exports=require("assert")},6113:e=>{"use strict";e.exports=require("crypto")},82361:e=>{"use strict";e.exports=require("events")},57147:e=>{"use strict";e.exports=require("fs")},13685:e=>{"use strict";e.exports=require("http")},85158:e=>{"use strict";e.exports=require("http2")},95687:e=>{"use strict";e.exports=require("https")},22037:e=>{"use strict";e.exports=require("os")},71017:e=>{"use strict";e.exports=require("path")},12781:e=>{"use strict";e.exports=require("stream")},76224:e=>{"use strict";e.exports=require("tty")},57310:e=>{"use strict";e.exports=require("url")},73837:e=>{"use strict";e.exports=require("util")},59796:e=>{"use strict";e.exports=require("zlib")},99533:(e,t,s)=>{"use strict";s.r(t),s.d(t,{GlobalError:()=>l.a,__next_app__:()=>x,originalPathname:()=>u,pages:()=>c,routeModule:()=>p,tree:()=>o});var r=s(50482),a=s(69108),n=s(62563),l=s.n(n),i=s(68300),d={};for(let e in i)0>["default","tree","pages","GlobalError","originalPathname","__next_app__","routeModule"].indexOf(e)&&(d[e]=()=>i[e]);s.d(t,d);let o=["",{children:["bet-rounds",{children:["__PAGE__",{},{page:[()=>Promise.resolve().then(s.bind(s,4063)),"W:\\garbet\\Frontend\\app\\bet-rounds\\page.js"]}]},{}]},{layout:[()=>Promise.resolve().then(s.bind(s,69847)),"W:\\garbet\\Frontend\\app\\layout.js"],error:[()=>Promise.resolve().then(s.bind(s,60826)),"W:\\garbet\\Frontend\\app\\error.js"],"not-found":[()=>Promise.resolve().then(s.bind(s,46178)),"W:\\garbet\\Frontend\\app\\not-found.js"]}],c=["W:\\garbet\\Frontend\\app\\bet-rounds\\page.js"],u="/bet-rounds/page",x={require:s,loadChunk:()=>Promise.resolve()},p=new r.AppPageRouteModule({definition:{kind:a.x.APP_PAGE,page:"/bet-rounds/page",pathname:"/bet-rounds",bundlePath:"",filename:"",appPaths:[]},userland:{loaderTree:o}})},27745:(e,t,s)=>{Promise.resolve().then(s.bind(s,54180))},54180:(e,t,s)=>{"use strict";s.r(t),s.d(t,{default:()=>p});var r=s(95344),a=s(3729),n=s(22254);s(20783);var l=s(89873),i=s(19747),d=s(37249),o=s(24774),c=s(36846),u=s(94913);function x(){let{t:e}=(0,i.$)();(0,n.useRouter)();let[t,s]=(0,a.useState)([]),[d,x]=(0,a.useState)(!0),[p,m]=(0,a.useState)(""),[g,h]=(0,a.useState)(1),[b,f]=(0,a.useState)(1),[y,j]=(0,a.useState)({resultType:"all",startDate:"",endDate:""}),[N,v]=(0,a.useState)(null);(0,a.useEffect)(()=>{w(),k()},[g,y]);let w=async()=>{x(!0),m("");try{let e={page:g,limit:20,sortBy:"createdAt",sortOrder:"desc"};"all"!==y.resultType&&(e.resultType=y.resultType),y.startDate&&(e.startDate=y.startDate),y.endDate&&(e.endDate=y.endDate);let t=await o.jZ.getBetRoundHistory(e);s(t.data.betRounds||[]),f(t.data.pagination?.totalPages||1)}catch(e){m(e.response?.data?.message||"Failed to load betting history"),c.cM.apiError("/bet-rounds/history",e)}finally{x(!1)}},k=async()=>{try{let e={};y.startDate&&(e.startDate=y.startDate),y.endDate&&(e.endDate=y.endDate);let t=await o.jZ.getBetRoundStatistics(e);v(t.data)}catch(e){c.cM.apiError("/bet-rounds/statistics",e)}},q=(e,t)=>{j(s=>({...s,[e]:t})),h(1)},D=e=>{switch(e){case"win":return"bg-teal-500/20 text-teal-400";case"loss":return"bg-red-500/20 text-red-400";default:return"bg-gray-500/20 text-gray-400"}};return(0,r.jsxs)("div",{className:"relative flex min-h-screen w-full flex-col group/design-root overflow-x-hidden",children:[r.jsx(l.Z,{}),(0,r.jsxs)("main",{className:"flex-grow p-4 lg:p-8",children:[(0,r.jsxs)("div",{className:"mb-6",children:[r.jsx("h1",{className:"text-white text-3xl md:text-4xl font-black tracking-tight mb-2",children:"Betting Rounds History"}),r.jsx("p",{className:"text-gray-400 text-base",children:"View your betting round history and statistics"})]}),N&&(0,r.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4 mb-6",children:[(0,r.jsxs)("div",{className:"bg-surface rounded-lg p-4",children:[r.jsx("p",{className:"text-sm text-gray-400 mb-1",children:"Total Rounds"}),r.jsx("p",{className:"text-2xl font-bold text-white",children:N.overview?.totalRounds||0})]}),(0,r.jsxs)("div",{className:"bg-surface rounded-lg p-4",children:[r.jsx("p",{className:"text-sm text-gray-400 mb-1",children:"Win Rate"}),(0,r.jsxs)("p",{className:"text-2xl font-bold text-teal-400",children:[N.overview?.winRate||0,"%"]})]}),(0,r.jsxs)("div",{className:"bg-surface rounded-lg p-4",children:[r.jsx("p",{className:"text-sm text-gray-400 mb-1",children:"Total Bet Amount"}),(0,r.jsxs)("p",{className:"text-2xl font-bold text-white",children:[N.financial?.totalBetAmount?.toFixed(2)||"0.00"," TL"]})]}),(0,r.jsxs)("div",{className:"bg-surface rounded-lg p-4",children:[r.jsx("p",{className:"text-sm text-gray-400 mb-1",children:"Profit/Loss"}),(0,r.jsxs)("p",{className:`text-2xl font-bold ${(N.financial?.profitLoss||0)>=0?"text-teal-400":"text-red-400"}`,children:[(N.financial?.profitLoss||0)>=0?"+":"",N.financial?.profitLoss?.toFixed(2)||"0.00"," TL"]})]})]}),r.jsx("div",{className:"bg-surface rounded-lg p-4 mb-6",children:(0,r.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4",children:[(0,r.jsxs)("div",{children:[r.jsx("label",{className:"block text-sm text-gray-400 mb-2",children:"Result Type"}),(0,r.jsxs)("select",{value:y.resultType,onChange:e=>q("resultType",e.target.value),className:"w-full rounded-lg bg-background-dark border border-surface px-4 py-2 text-white focus:outline-none focus:ring-2 focus:ring-primary/50",children:[r.jsx("option",{value:"all",children:"All"}),r.jsx("option",{value:"win",children:"Win"}),r.jsx("option",{value:"loss",children:"Loss"}),r.jsx("option",{value:"neutral",children:"Neutral"})]})]}),(0,r.jsxs)("div",{children:[r.jsx("label",{className:"block text-sm text-gray-400 mb-2",children:"Start Date"}),r.jsx("input",{type:"date",value:y.startDate,onChange:e=>q("startDate",e.target.value),className:"w-full rounded-lg bg-background-dark border border-surface px-4 py-2 text-white focus:outline-none focus:ring-2 focus:ring-primary/50"})]}),(0,r.jsxs)("div",{children:[r.jsx("label",{className:"block text-sm text-gray-400 mb-2",children:"End Date"}),r.jsx("input",{type:"date",value:y.endDate,onChange:e=>q("endDate",e.target.value),className:"w-full rounded-lg bg-background-dark border border-surface px-4 py-2 text-white focus:outline-none focus:ring-2 focus:ring-primary/50"})]}),r.jsx("div",{className:"flex items-end",children:r.jsx("button",{onClick:()=>{j({resultType:"all",startDate:"",endDate:""}),h(1)},className:"w-full rounded-lg bg-gray-600 hover:bg-gray-700 px-4 py-2 text-white text-sm font-medium transition-colors",children:"Clear Filters"})})]})}),p&&r.jsx("div",{className:"mb-4 rounded-lg bg-red-500/20 border border-red-500/50 p-4",children:r.jsx("p",{className:"text-sm text-red-400",children:p})}),(0,r.jsxs)("div",{className:"bg-surface rounded-lg overflow-hidden",children:[r.jsx("div",{className:"overflow-x-auto",children:(0,r.jsxs)("table",{className:"w-full text-sm",children:[r.jsx("thead",{className:"bg-background-dark border-b border-surface",children:(0,r.jsxs)("tr",{children:[r.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-400 uppercase",children:"Round #"}),r.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-400 uppercase",children:"Bet Amount"}),r.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-400 uppercase",children:"Percentage"}),r.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-400 uppercase",children:"Result"}),r.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-400 uppercase",children:"Amount Change"}),r.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-400 uppercase",children:"Balance After"}),r.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-400 uppercase",children:"Date"})]})}),r.jsx("tbody",{className:"divide-y divide-surface",children:d?r.jsx("tr",{children:r.jsx("td",{colSpan:7,className:"px-6 py-8 text-center text-gray-400",children:"Loading..."})}):0===t.length?r.jsx("tr",{children:r.jsx("td",{colSpan:7,className:"px-6 py-8 text-center text-gray-400",children:"No betting rounds found"})}):t.map(e=>(0,r.jsxs)("tr",{className:"hover:bg-background-dark/50 transition-colors",children:[(0,r.jsxs)("td",{className:"px-6 py-4 font-medium text-white",children:["#",e.roundNumber]}),(0,r.jsxs)("td",{className:"px-6 py-4 text-white",children:[e.betAmount.toFixed(2)," TL"]}),(0,r.jsxs)("td",{className:"px-6 py-4 text-white",children:[e.percentage>0?"+":"",e.percentage,"%"]}),r.jsx("td",{className:"px-6 py-4",children:r.jsx("span",{className:`inline-flex items-center rounded-full px-2.5 py-0.5 text-xs font-medium ${D(e.resultType)}`,children:e.resultType.charAt(0).toUpperCase()+e.resultType.slice(1)})}),(0,r.jsxs)("td",{className:`px-6 py-4 font-medium ${e.amountChange>=0?"text-teal-400":"text-red-400"}`,children:[e.amountChange>=0?"+":"",e.amountChange.toFixed(2)," TL"]}),(0,r.jsxs)("td",{className:"px-6 py-4 text-white",children:[e.balanceAfter.toFixed(2)," TL"]}),r.jsx("td",{className:"px-6 py-4 text-gray-400",children:(0,u.p6)(e.createdAt)})]},e.id))})]})}),b>1&&(0,r.jsxs)("div",{className:"px-6 py-4 border-t border-surface flex items-center justify-between",children:[r.jsx("button",{onClick:()=>h(e=>Math.max(1,e-1)),disabled:1===g,className:"px-4 py-2 rounded-lg bg-background-dark text-white hover:bg-background-dark/80 disabled:opacity-50 disabled:cursor-not-allowed transition-colors",children:"Previous"}),(0,r.jsxs)("span",{className:"text-gray-400",children:["Page ",g," of ",b]}),r.jsx("button",{onClick:()=>h(e=>Math.min(b,e+1)),disabled:g===b,className:"px-4 py-2 rounded-lg bg-background-dark text-white hover:bg-background-dark/80 disabled:opacity-50 disabled:cursor-not-allowed transition-colors",children:"Next"})]})]})]})]})}function p(){return r.jsx(d.Z,{children:r.jsx(x,{})})}},37249:(e,t,s)=>{"use strict";s.d(t,{Z:()=>d});var r=s(95344),a=s(3729),n=s(22254),l=s(2324),i=s(89873);function d({children:e,requiredRole:t=null,allowedRoles:s=null}){let d=(0,n.useRouter)(),[o,c]=(0,a.useState)(!1),[u,x]=(0,a.useState)(!0);return((0,a.useEffect)(()=>{(()=>{if(!(0,l.$8)()){d.push("/auth/login");return}let e=(0,l.ts)();if(!e){d.push("/auth/login");return}if(t&&e.role!==t||s&&!s.includes(e.role)){d.push((0,l.My)(e.role));return}c(!0),x(!1)})()},[d,t,s]),u)?r.jsx("div",{className:"flex min-h-screen items-center justify-center bg-background-dark",children:(0,r.jsxs)("div",{className:"text-center",children:[r.jsx("div",{className:"mb-4 inline-block h-8 w-8 animate-spin rounded-full border-4 border-solid border-primary border-r-transparent"}),r.jsx("p",{className:"text-white",children:"Loading..."})]})}):o?(0,r.jsxs)(r.Fragment,{children:[r.jsx(i.Z,{}),e]}):null}},4063:(e,t,s)=>{"use strict";s.r(t),s.d(t,{$$typeof:()=>n,__esModule:()=>a,default:()=>l});let r=(0,s(86843).createProxy)(String.raw`W:\garbet\Frontend\app\bet-rounds\page.js`),{__esModule:a,$$typeof:n}=r,l=r.default}};var t=require("../../webpack-runtime.js");t.C(e);var s=e=>t(t.s=e),r=t.X(0,[1263,9069,8679,9873],()=>s(99533));module.exports=r})();