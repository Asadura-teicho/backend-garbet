(()=>{var e={};e.id=9091,e.ids=[9091],e.modules={47849:e=>{"use strict";e.exports=require("next/dist/client/components/action-async-storage.external")},55403:e=>{"use strict";e.exports=require("next/dist/client/components/request-async-storage.external")},94749:e=>{"use strict";e.exports=require("next/dist/client/components/static-generation-async-storage.external")},20399:e=>{"use strict";e.exports=require("next/dist/compiled/next-server/app-page.runtime.prod.js")},25528:e=>{"use strict";e.exports=require("next/dist\\client\\components\\action-async-storage.external.js")},91877:e=>{"use strict";e.exports=require("next/dist\\client\\components\\request-async-storage.external.js")},25319:e=>{"use strict";e.exports=require("next/dist\\client\\components\\static-generation-async-storage.external.js")},39491:e=>{"use strict";e.exports=require("assert")},6113:e=>{"use strict";e.exports=require("crypto")},82361:e=>{"use strict";e.exports=require("events")},57147:e=>{"use strict";e.exports=require("fs")},13685:e=>{"use strict";e.exports=require("http")},85158:e=>{"use strict";e.exports=require("http2")},95687:e=>{"use strict";e.exports=require("https")},22037:e=>{"use strict";e.exports=require("os")},71017:e=>{"use strict";e.exports=require("path")},12781:e=>{"use strict";e.exports=require("stream")},76224:e=>{"use strict";e.exports=require("tty")},57310:e=>{"use strict";e.exports=require("url")},73837:e=>{"use strict";e.exports=require("util")},59796:e=>{"use strict";e.exports=require("zlib")},42745:(e,t,r)=>{"use strict";r.r(t),r.d(t,{GlobalError:()=>i.a,__next_app__:()=>p,originalPathname:()=>m,pages:()=>d,routeModule:()=>x,tree:()=>c});var s=r(50482),o=r(69108),a=r(62563),i=r.n(a),n=r(68300),l={};for(let e in n)0>["default","tree","pages","GlobalError","originalPathname","__next_app__","routeModule"].indexOf(e)&&(l[e]=()=>n[e]);r.d(t,l);let c=["",{children:["promotions",{children:["__PAGE__",{},{page:[()=>Promise.resolve().then(r.bind(r,98621)),"W:\\garbet\\Frontend\\app\\promotions\\page.js"]}]},{}]},{layout:[()=>Promise.resolve().then(r.bind(r,69847)),"W:\\garbet\\Frontend\\app\\layout.js"],error:[()=>Promise.resolve().then(r.bind(r,60826)),"W:\\garbet\\Frontend\\app\\error.js"],"not-found":[()=>Promise.resolve().then(r.bind(r,46178)),"W:\\garbet\\Frontend\\app\\not-found.js"]}],d=["W:\\garbet\\Frontend\\app\\promotions\\page.js"],m="/promotions/page",p={require:r,loadChunk:()=>Promise.resolve()},x=new s.AppPageRouteModule({definition:{kind:o.x.APP_PAGE,page:"/promotions/page",pathname:"/promotions",bundlePath:"",filename:"",appPaths:[]},userland:{loaderTree:c}})},6175:(e,t,r)=>{Promise.resolve().then(r.bind(r,28155))},28155:(e,t,r)=>{"use strict";r.r(t),r.d(t,{default:()=>d});var s=r(95344),o=r(3729);r(20783);var a=r(22254),i=r(89873),n=r(19747),l=r(23277),c=r(36846);function d(){let{t:e}=(0,n.$)(),t=(0,a.useRouter)(),[r,d]=(0,o.useState)(e("promotions.all")),[m,p]=(0,o.useState)(1),[x,u]=(0,o.useState)([]),[h,g]=(0,o.useState)(!0),[b,f]=(0,o.useState)(""),[j,y]=(0,o.useState)(1),[v,w]=(0,o.useState)(0),[N,k]=(0,o.useState)(null);(0,o.useEffect)(()=>{q()},[r,m]);let q=async()=>{g(!0),f("");try{let t=null;r===e("promotions.casino")?t="deposit":r===e("promotions.sports")?t="welcome":r===e("promotions.welcomeBonus")?t="welcome":r===e("promotions.cashback")?t="cashback":r===e("promotions.reload")&&(t="reload");let s={page:m,limit:12};t&&r!==e("promotions.all")&&(s.type=t);let o=await l.C.getActivePromotions(s);u(o.data.promotions||[]),y(o.data.totalPages||1),w(o.data.total||0)}catch(e){console.error("Error fetching promotions:",e),f(e.response?.data?.message||"Failed to load promotions"),c.cM.apiError("/promotions",e)}finally{g(!1)}},_=async e=>{k(e),f("");try{await l.C.claimPromotion(e),await q()}catch(e){f(e.response?.data?.message||"Failed to claim promotion"),c.cM.apiError("/promotions/claim",e)}finally{k(null)}},P=x.map(t=>{let r={welcome:"Welcome",deposit:"Deposit",cashback:"Cashback",reload:"Reload",free_spins:"Spins",tournament:"Tournament",other:"Other"}[t.type]||"Other",s=t.canClaim&&!t.hasClaimed,o=s?e("promotions.claim"):t.hasClaimed?e("promotions.claimed"):e("promotions.viewDetails");return{...t,id:t._id,category:r,categoryColor:({Welcome:"bg-blue-500/80",Deposit:"bg-purple-500/80",Cashback:"bg-teal-500/80",Reload:"bg-purple-500/80",Spins:"bg-green-500/80",Tournament:"bg-red-500/80",Other:"bg-gray-500/80"})[r]||"bg-gray-500/80",buttonText:o,buttonStyle:s?"bg-primary text-background-dark hover:bg-yellow-400":"bg-primary/20 text-primary hover:bg-primary/30",image:t.bannerImage||"https://images.unsplash.com/photo-1571019613454-1cb2f99b2d8b?w=800&h=600&fit=crop"}}),C=[e("promotions.all"),e("promotions.casino"),e("promotions.sports"),e("promotions.welcomeBonus"),e("promotions.cashback"),e("promotions.reload")];return(0,s.jsxs)("div",{className:"relative flex min-h-screen w-full flex-col group/design-root overflow-x-hidden",children:[s.jsx(i.Z,{}),s.jsx("div",{className:"layout-container flex h-full grow flex-col",children:s.jsx("main",{className:"flex-1 px-4 py-8 md:px-8 lg:px-16 xl:px-24",children:(0,s.jsxs)("div",{className:"mx-auto flex max-w-7xl flex-col gap-8",children:[s.jsx("div",{className:"flex flex-wrap items-center justify-between gap-4",children:s.jsx("h1",{className:"text-white text-4xl md:text-5xl font-black leading-tight tracking-[-0.033em]",children:"Promotions"})}),s.jsx("div",{className:"flex flex-wrap gap-2",children:C.map(e=>s.jsx("button",{onClick:()=>d(e),className:`flex h-10 cursor-pointer shrink-0 items-center justify-center gap-x-2 rounded-lg px-4 transition-colors ${r===e?"bg-primary text-background-dark":"bg-[#2a2a2a] hover:bg-[#3a3a3a] text-white/80 hover:text-white"}`,children:s.jsx("p",{className:`text-sm leading-normal ${r===e?"font-bold":"font-medium"}`,children:e})},e))}),b&&s.jsx("div",{className:"rounded-lg bg-red-500/20 border border-red-500/50 p-4",children:s.jsx("p",{className:"text-sm text-red-400",children:b})}),h?s.jsx("div",{className:"flex items-center justify-center py-12",children:s.jsx("p",{className:"text-white/70",children:"Loading promotions..."})}):0===P.length?s.jsx("div",{className:"flex items-center justify-center py-12",children:s.jsx("p",{className:"text-white/70",children:"No promotions available"})}):s.jsx("div",{className:"grid grid-cols-1 gap-6 sm:grid-cols-2 lg:grid-cols-3",children:P.map(e=>(0,s.jsxs)("div",{className:"flex flex-col gap-4 overflow-hidden rounded-xl bg-[#1A1A1A] p-4 shadow-lg shadow-black/20 transition-transform hover:scale-[1.02]",children:[(0,s.jsxs)("div",{className:"relative w-full",children:[s.jsx("div",{className:"w-full bg-center bg-no-repeat aspect-video bg-cover rounded-lg",style:{backgroundImage:`url("${e.image}")`}}),s.jsx("div",{className:`absolute top-3 left-3 rounded-md ${e.categoryColor} px-2.5 py-1 text-xs font-bold uppercase text-white backdrop-blur-sm`,children:e.category})]}),(0,s.jsxs)("div",{className:"flex flex-col gap-3",children:[s.jsx("h3",{className:"text-white text-xl font-bold leading-normal",children:e.title}),s.jsx("p",{className:"text-white/70 text-sm font-normal leading-normal",children:e.description}),s.jsx("button",{onClick:()=>{e.canClaim?_(e._id):t.push(`/promotions/${e._id}`)},disabled:N===e._id,className:`mt-2 flex w-full cursor-pointer items-center justify-center overflow-hidden rounded-lg h-11 px-4 text-sm font-bold leading-normal tracking-[0.015em] transition-colors ${e.buttonStyle} disabled:opacity-50`,children:s.jsx("span",{className:"truncate",children:N===e._id?"Claiming...":e.buttonText})})]})]},e.id))}),j>1&&s.jsx("div",{className:"flex items-center justify-center pt-8",children:(0,s.jsxs)("nav",{className:"flex items-center gap-2",children:[s.jsx("button",{onClick:()=>p(Math.max(1,m-1)),disabled:1===m,className:"flex size-10 items-center justify-center rounded-lg text-white/60 hover:bg-[#2a2a2a] hover:text-white transition-colors disabled:opacity-50 disabled:cursor-not-allowed",children:s.jsx("span",{className:"material-symbols-outlined text-xl",children:"chevron_left"})}),Array.from({length:Math.min(5,j)},(e,t)=>{let r;return r=j<=5?t+1:m<=3?t+1:m>=j-2?j-4+t:m-2+t,s.jsx("button",{onClick:()=>p(r),className:`text-sm leading-normal flex size-10 items-center justify-center rounded-lg transition-colors ${m===r?"text-background-dark bg-primary font-bold":"text-white/60 hover:bg-[#2a2a2a] hover:text-white font-medium"}`,children:r},r)}),j>5&&m<j-2&&(0,s.jsxs)(s.Fragment,{children:[s.jsx("span",{className:"text-sm font-medium leading-normal flex size-10 items-center justify-center text-white/60 rounded-lg",children:"..."}),s.jsx("button",{onClick:()=>p(j),className:"text-sm font-medium leading-normal flex size-10 items-center justify-center rounded-lg text-white/60 hover:bg-[#2a2a2a] hover:text-white transition-colors",children:j})]}),s.jsx("button",{onClick:()=>p(Math.min(j,m+1)),disabled:m===j,className:"flex size-10 items-center justify-center rounded-lg text-white/60 hover:bg-[#2a2a2a] hover:text-white transition-colors disabled:opacity-50 disabled:cursor-not-allowed",children:s.jsx("span",{className:"material-symbols-outlined text-xl",children:"chevron_right"})})]})})]})})})]})}},98621:(e,t,r)=>{"use strict";r.r(t),r.d(t,{$$typeof:()=>a,__esModule:()=>o,default:()=>i});let s=(0,r(86843).createProxy)(String.raw`W:\garbet\Frontend\app\promotions\page.js`),{__esModule:o,$$typeof:a}=s,i=s.default}};var t=require("../../webpack-runtime.js");t.C(e);var r=e=>t(t.s=e),s=t.X(0,[1263,9069,8679,9873],()=>r(42745));module.exports=s})();