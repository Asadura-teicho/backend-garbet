(()=>{var e={};e.id=4188,e.ids=[4188],e.modules={47849:e=>{"use strict";e.exports=require("next/dist/client/components/action-async-storage.external")},55403:e=>{"use strict";e.exports=require("next/dist/client/components/request-async-storage.external")},94749:e=>{"use strict";e.exports=require("next/dist/client/components/static-generation-async-storage.external")},20399:e=>{"use strict";e.exports=require("next/dist/compiled/next-server/app-page.runtime.prod.js")},25528:e=>{"use strict";e.exports=require("next/dist\\client\\components\\action-async-storage.external.js")},91877:e=>{"use strict";e.exports=require("next/dist\\client\\components\\request-async-storage.external.js")},25319:e=>{"use strict";e.exports=require("next/dist\\client\\components\\static-generation-async-storage.external.js")},39491:e=>{"use strict";e.exports=require("assert")},6113:e=>{"use strict";e.exports=require("crypto")},82361:e=>{"use strict";e.exports=require("events")},57147:e=>{"use strict";e.exports=require("fs")},13685:e=>{"use strict";e.exports=require("http")},85158:e=>{"use strict";e.exports=require("http2")},95687:e=>{"use strict";e.exports=require("https")},22037:e=>{"use strict";e.exports=require("os")},71017:e=>{"use strict";e.exports=require("path")},12781:e=>{"use strict";e.exports=require("stream")},76224:e=>{"use strict";e.exports=require("tty")},57310:e=>{"use strict";e.exports=require("url")},73837:e=>{"use strict";e.exports=require("util")},59796:e=>{"use strict";e.exports=require("zlib")},50991:(e,t,s)=>{"use strict";s.r(t),s.d(t,{GlobalError:()=>n.a,__next_app__:()=>u,originalPathname:()=>x,pages:()=>d,routeModule:()=>p,tree:()=>o});var r=s(50482),a=s(69108),l=s(62563),n=s.n(l),c=s(68300),i={};for(let e in c)0>["default","tree","pages","GlobalError","originalPathname","__next_app__","routeModule"].indexOf(e)&&(i[e]=()=>c[e]);s.d(t,i);let o=["",{children:["crash",{children:["__PAGE__",{},{page:[()=>Promise.resolve().then(s.bind(s,2171)),"W:\\garbet\\Frontend\\app\\crash\\page.js"]}]},{}]},{layout:[()=>Promise.resolve().then(s.bind(s,69847)),"W:\\garbet\\Frontend\\app\\layout.js"],error:[()=>Promise.resolve().then(s.bind(s,60826)),"W:\\garbet\\Frontend\\app\\error.js"],"not-found":[()=>Promise.resolve().then(s.bind(s,46178)),"W:\\garbet\\Frontend\\app\\not-found.js"]}],d=["W:\\garbet\\Frontend\\app\\crash\\page.js"],x="/crash/page",u={require:s,loadChunk:()=>Promise.resolve()},p=new r.AppPageRouteModule({definition:{kind:a.x.APP_PAGE,page:"/crash/page",pathname:"/crash",bundlePath:"",filename:"",appPaths:[]},userland:{loaderTree:o}})},33036:(e,t,s)=>{Promise.resolve().then(s.bind(s,18371))},18371:(e,t,s)=>{"use strict";s.r(t),s.d(t,{default:()=>x});var r=s(95344),a=s(3729);s(20783);var l=s(22254),n=s(19747),c=s(37249),i=s(24774),o=s(36846);function d(){let{t:e}=(0,n.$)(),t=(0,l.useRouter)(),[s,c]=(0,a.useState)(""),[d,x]=(0,a.useState)("50"),[u,p]=(0,a.useState)("1.50x"),[m,h]=(0,a.useState)(null),[g,f]=(0,a.useState)(0),[b,j]=(0,a.useState)(!1),[y,N]=(0,a.useState)(!1),[v,w]=(0,a.useState)(""),[k,q]=(0,a.useState)(""),[F,P]=(0,a.useState)([]),[_,S]=(0,a.useState)(1),[M,R]=(0,a.useState)("1.00x");(0,a.useEffect)(()=>{$(),C()},[]);let $=async()=>{try{let e=await i.kv.me();h(e.data),f(e.data.balance||0)}catch(e){e.response?.status===401?t.push("/auth/login"):o.cM.apiError("/auth/me",e)}},C=async()=>{try{let e=await i.jZ.getBetRoundHistory({page:1,limit:12,sortBy:"createdAt",sortOrder:"desc"});if(e.data?.betRounds&&(P(e.data.betRounds),e.data.betRounds.length>0)){let t=e.data.betRounds[0];S((t.roundNumber||0)+1)}}catch(e){o.cM.apiError("/bet-rounds/history",e)}},A=e=>e>0?`${(1+e/100).toFixed(2)}x`:e<0?"Crashed":"1.00x",B=e=>e>0?e>=100?"bg-accent-blue/20 text-accent-blue":e>=50?"bg-accent-teal/20 text-accent-teal":"bg-surface":"bg-red-500/20 text-red-400",E=e=>{x(e),c(e)},W=async()=>{if(!s||0>=parseFloat(s)){w("Please enter a valid bet amount");return}let e=parseFloat(s);if(e>g){w("Insufficient balance");return}N(!0),w(""),q("");try{let t=(250*Math.random()-50).toFixed(2),s=parseFloat(t),r=await i.jZ.placeBetRound({roundNumber:_,betAmount:e,percentage:s});q(`Bet placed successfully! Result: ${s>0?"+":""}${s}%`),c(""),x("50"),r.data?.balance!==void 0&&f(r.data.balance),await $(),await C(),S(e=>e+1)}catch(e){w(e.response?.data?.message||"Failed to place bet"),o.cM.apiError("/bet-rounds/place",e)}finally{N(!1)}};return r.jsx("div",{className:"relative flex min-h-screen w-full flex-col group/design-root overflow-x-hidden",children:(0,r.jsxs)("main",{className:"flex-grow p-4 lg:p-8",children:[r.jsx("div",{className:"mb-8",children:r.jsx("div",{className:"flex min-h-[240px] flex-col gap-6 bg-cover bg-center bg-no-repeat rounded-xl items-start justify-center p-8 md:p-12 text-left",style:{backgroundImage:'linear-gradient(90deg, rgba(26, 26, 46, 0.85) 0%, rgba(26, 26, 46, 0.3) 100%), url("https://images.unsplash.com/photo-1611974789855-9c2a0a7236a3?ixlib=rb-4.0.3&ixid=M3wxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8fA%3D%3D&auto=format&fit=crop&w=2070&q=80")'},children:(0,r.jsxs)("div",{className:"flex flex-col gap-4 max-w-lg",children:[r.jsx("h1",{className:"text-white text-4xl font-black leading-tight tracking-[-0.033em]",children:e("crash.title")}),r.jsx("p",{className:"text-white/80 text-lg font-medium",children:e("crash.subtitle")}),r.jsx("div",{className:"flex gap-3",children:r.jsx("button",{className:"flex min-w-[120px] cursor-pointer items-center justify-center overflow-hidden rounded-lg h-12 px-6 bg-primary text-background-dark text-sm font-bold leading-normal tracking-[0.015em] hover:bg-yellow-400 transition-all",children:r.jsx("span",{className:"truncate",children:e("crash.playNow")})})})]})})}),(0,r.jsxs)("div",{className:"grid grid-cols-12 gap-4 lg:gap-6",children:[r.jsx("aside",{className:"col-span-12 lg:col-span-2 order-2 lg:order-1",children:(0,r.jsxs)("div",{className:"bg-surface/50 rounded-lg p-3 h-full",children:[r.jsx("h3",{className:"text-text-secondary font-semibold text-sm px-1 mb-3",children:"Recent Results"}),r.jsx("div",{className:"flex flex-row lg:flex-col gap-2 flex-wrap",children:F.length>0?F.slice(0,12).map((e,t)=>r.jsx("div",{className:`flex h-8 shrink-0 items-center justify-center gap-x-2 rounded-lg px-3 text-sm font-medium ${B(e.percentage)}`,children:A(e.percentage)},e.id||t)):r.jsx("p",{className:"text-text-secondary text-xs",children:"No recent rounds"})})]})}),r.jsx("div",{className:"col-span-12 lg:col-span-7 order-1 lg:order-2",children:(0,r.jsxs)("div",{className:"relative w-full aspect-[16/10] bg-surface/30 rounded-lg overflow-hidden flex items-center justify-center p-8 shadow-inner",children:[r.jsx("div",{className:"absolute inset-0 bg-grid-pattern opacity-10"}),(0,r.jsxs)("div",{className:"z-10 text-center",children:[r.jsx("p",{className:"text-sm font-medium text-primary",children:"Game in Progress"}),r.jsx("p",{className:"text-6xl sm:text-7xl font-bold tracking-tighter my-2 text-accent-teal",children:"4.51x"}),r.jsx("p",{className:"text-text-secondary text-sm",children:"Waiting for next round..."})]}),r.jsx("div",{className:"absolute bottom-0 left-0 h-3/4 w-full bg-gradient-to-t from-accent-teal/20 to-transparent"})]})}),r.jsx("aside",{className:"col-span-12 lg:col-span-3 order-3 lg:order-3",children:(0,r.jsxs)("div",{className:"bg-surface/50 rounded-lg p-4 space-y-4 h-full",children:[(0,r.jsxs)("label",{className:"flex flex-col",children:[r.jsx("p",{className:"text-text-secondary text-sm font-medium pb-2",children:e("crash.betAmount")}),(0,r.jsxs)("div",{className:"flex w-full items-stretch rounded-lg",children:[r.jsx("input",{className:"form-input flex w-full min-w-0 flex-1 resize-none overflow-hidden rounded-lg text-white focus:outline-0 focus:ring-2 focus:ring-primary/50 border-none bg-surface h-14 placeholder:text-text-secondary p-4 rounded-r-none border-r-0 pr-2 text-base font-normal leading-normal",placeholder:"0.00",value:s,onChange:e=>c(e.target.value),type:"text"}),(0,r.jsxs)("div",{className:"flex items-center bg-surface rounded-r-lg px-2",children:[r.jsx("button",{onClick:()=>{let e=parseFloat(s)||0;e>0&&c((e-1).toFixed(2))},className:"text-text-secondary hover:text-white transition-colors p-1",children:r.jsx("span",{className:"material-symbols-outlined text-lg",children:"remove"})}),r.jsx("button",{onClick:()=>{c(((parseFloat(s)||0)+1).toFixed(2))},className:"text-text-secondary hover:text-white transition-colors p-1",children:r.jsx("span",{className:"material-symbols-outlined text-lg",children:"add"})})]})]})]}),r.jsx("div",{className:"flex h-10 w-full items-center justify-center rounded-lg bg-surface p-1",children:["10","50","100","500"].map(e=>(0,r.jsxs)("label",{className:"flex cursor-pointer h-full grow items-center justify-center overflow-hidden rounded-md px-2 has-[:checked]:bg-background-dark has-[:checked]:shadow-sm has-[:checked]:text-white text-text-secondary text-sm font-medium transition-colors",children:[(0,r.jsxs)("span",{className:"truncate",children:[e," TL"]}),r.jsx("input",{className:"invisible w-0",name:"bet-amount",type:"radio",value:e,checked:d===e,onChange:()=>E(e)})]},e))}),(0,r.jsxs)("label",{className:"flex flex-col",children:[r.jsx("p",{className:"text-text-secondary text-sm font-medium pb-2",children:e("crash.autoCashout")}),r.jsx("div",{className:"flex w-full items-stretch rounded-lg",children:r.jsx("input",{className:"form-input flex w-full min-w-0 flex-1 resize-none overflow-hidden rounded-lg text-white focus:outline-0 focus:ring-2 focus:ring-primary/50 border-none bg-surface h-14 placeholder:text-text-secondary p-4 text-base font-normal leading-normal",placeholder:"1.50x",value:u,onChange:e=>p(e.target.value),type:"text"})})]}),v&&r.jsx("div",{className:"rounded-lg bg-red-500/20 border border-red-500/50 p-3",children:r.jsx("p",{className:"text-sm text-red-400",children:v})}),k&&r.jsx("div",{className:"rounded-lg bg-teal-500/20 border border-teal-500/50 p-3",children:r.jsx("p",{className:"text-sm text-teal-400",children:k})}),(0,r.jsxs)("div",{className:"flex items-center justify-between text-sm",children:[r.jsx("span",{className:"text-text-secondary",children:"Balance:"}),(0,r.jsxs)("span",{className:"text-white font-bold",children:[g.toFixed(2)," TL"]})]}),r.jsx("button",{onClick:W,disabled:y||!s||0>=parseFloat(s)||parseFloat(s)>g,className:"w-full flex min-w-[84px] cursor-pointer items-center justify-center overflow-hidden rounded-lg h-14 px-4 bg-primary text-background-dark text-base font-bold leading-normal tracking-wide hover:bg-yellow-400 transition-colors shadow-md shadow-primary/20 disabled:opacity-50 disabled:cursor-not-allowed",children:r.jsx("span",{className:"truncate",children:y?"Placing Bet...":e("crash.placeBet")})})]})}),r.jsx("div",{className:"col-span-12 order-4 mt-4",children:(0,r.jsxs)("div",{className:"bg-surface/50 rounded-lg p-4",children:[r.jsx("h3",{className:"text-text-secondary font-semibold text-lg mb-4",children:e("crash.recentBets")}),r.jsx("div",{className:"overflow-x-auto",children:(0,r.jsxs)("table",{className:"w-full text-left text-sm",children:[r.jsx("thead",{className:"text-xs text-text-secondary uppercase border-b border-surface",children:(0,r.jsxs)("tr",{children:[r.jsx("th",{className:"px-6 py-3",scope:"col",children:e("crash.player")}),r.jsx("th",{className:"px-6 py-3",scope:"col",children:e("crash.bet")}),r.jsx("th",{className:"px-6 py-3",scope:"col",children:e("crash.multiplier")}),r.jsx("th",{className:"px-6 py-3 text-right",scope:"col",children:e("crash.profit")})]})}),r.jsx("tbody",{children:F.length>0?F.slice(0,10).map((t,s)=>{let a=t.percentage<0,l=t.amountChange,n=l>=0?`+${l.toFixed(2)} TL`:`${l.toFixed(2)} TL`;return(0,r.jsxs)("tr",{className:s<F.length-1?"border-b border-surface/50":"",children:[r.jsx("th",{className:"px-6 py-4 font-medium text-white whitespace-nowrap",scope:"row",children:m?.username||"You"}),(0,r.jsxs)("td",{className:"px-6 py-4",children:[t.betAmount.toFixed(2)," TL"]}),r.jsx("td",{className:`px-6 py-4 ${a?"text-red-400":""}`,children:a?e("crash.crashed"):A(t.percentage)}),r.jsx("td",{className:`px-6 py-4 text-right ${l>=0?"text-accent-teal":"text-red-400"}`,children:n})]},t.id||s)}):r.jsx("tr",{children:r.jsx("td",{colSpan:4,className:"px-6 py-8 text-center text-text-secondary",children:"No betting history yet"})})})]})})]})})]})]})})}function x(){return r.jsx(c.Z,{children:r.jsx(d,{})})}},37249:(e,t,s)=>{"use strict";s.d(t,{Z:()=>i});var r=s(95344),a=s(3729),l=s(22254),n=s(2324),c=s(89873);function i({children:e,requiredRole:t=null,allowedRoles:s=null}){let i=(0,l.useRouter)(),[o,d]=(0,a.useState)(!1),[x,u]=(0,a.useState)(!0);return((0,a.useEffect)(()=>{(()=>{if(!(0,n.$8)()){i.push("/auth/login");return}let e=(0,n.ts)();if(!e){i.push("/auth/login");return}if(t&&e.role!==t||s&&!s.includes(e.role)){i.push((0,n.My)(e.role));return}d(!0),u(!1)})()},[i,t,s]),x)?r.jsx("div",{className:"flex min-h-screen items-center justify-center bg-background-dark",children:(0,r.jsxs)("div",{className:"text-center",children:[r.jsx("div",{className:"mb-4 inline-block h-8 w-8 animate-spin rounded-full border-4 border-solid border-primary border-r-transparent"}),r.jsx("p",{className:"text-white",children:"Loading..."})]})}):o?(0,r.jsxs)(r.Fragment,{children:[r.jsx(c.Z,{}),e]}):null}},2171:(e,t,s)=>{"use strict";s.r(t),s.d(t,{$$typeof:()=>l,__esModule:()=>a,default:()=>n});let r=(0,s(86843).createProxy)(String.raw`W:\garbet\Frontend\app\crash\page.js`),{__esModule:a,$$typeof:l}=r,n=r.default}};var t=require("../../webpack-runtime.js");t.C(e);var s=e=>t(t.s=e),r=t.X(0,[1263,9069,8679,9873],()=>s(50991));module.exports=r})();