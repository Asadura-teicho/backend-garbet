(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[5437],{59499:function(e,t,a){Promise.resolve().then(a.bind(a,73490))},73490:function(e,t,a){"use strict";a.r(t),a.d(t,{default:function(){return x}});var r=a(57437),n=a(2265);a(61396);var s=a(24033),i=a(96299),l=a(96666),o=a(28707),d=a(62385),c=a(66209),m=a(24215);let u=e=>new Date(e).toISOString().slice(0,16);function g(){let{t:e}=(0,i.$)();(0,s.usePathname)();let[t,a]=(0,n.useState)([]),[l,g]=(0,n.useState)(!0),[x,h]=(0,n.useState)(!1),[f,p]=(0,n.useState)(""),[b,y]=(0,n.useState)(""),[N,v]=(0,n.useState)(""),[j,w]=(0,n.useState)("all"),[S,D]=(0,n.useState)("all"),[k,E]=(0,n.useState)(1),[I,P]=(0,n.useState)(1),[F,C]=(0,n.useState)(0),[T,A]=(0,n.useState)(!1),[R,_]=(0,n.useState)(!1),[z,M]=(0,n.useState)(!1),[O,G]=(0,n.useState)(null),[U,Z]=(0,n.useState)({name:"",description:"",gameType:"slots",status:"upcoming",startDate:"",endDate:"",registrationStartDate:"",registrationEndDate:"",prizePool:"",entryFee:"0",minPlayers:"1",maxPlayers:"",isFeatured:!1,priority:"0",bannerImage:"",termsAndConditions:""});(0,n.useEffect)(()=>{$()},[j,S,N,k]);let $=async()=>{g(!0),p("");try{let e={page:k,limit:20,...N&&{search:N},..."all"!==j&&{status:j},..."all"!==S&&{gameType:S}},t=await d.Sb.getTournaments(e);a(t.data.tournaments||[]),P(t.data.totalPages||1),C(t.data.total||0)}catch(a){var e,t;p((null===(t=a.response)||void 0===t?void 0:null===(e=t.data)||void 0===e?void 0:e.message)||"Failed to load tournaments"),m.cM.apiError("/admin/tournaments",a)}finally{g(!1)}},J=()=>{Z({name:"",description:"",gameType:"slots",status:"upcoming",startDate:"",endDate:"",registrationStartDate:"",registrationEndDate:"",prizePool:"",entryFee:"0",minPlayers:"1",maxPlayers:"",isFeatured:!1,priority:"0",bannerImage:"",termsAndConditions:""})},L=e=>{var t,a,r,n;G(e),Z({name:e.name||"",description:e.description||"",gameType:e.gameType||"slots",status:e.status||"upcoming",startDate:e.startDate?u(e.startDate):"",endDate:e.endDate?u(e.endDate):"",registrationStartDate:e.registrationStartDate?u(e.registrationStartDate):"",registrationEndDate:e.registrationEndDate?u(e.registrationEndDate):"",prizePool:String(null!==(t=e.prizePool)&&void 0!==t?t:""),entryFee:String(null!==(a=e.entryFee)&&void 0!==a?a:"0"),minPlayers:String(null!==(r=e.minPlayers)&&void 0!==r?r:"1"),maxPlayers:e.maxPlayers?String(e.maxPlayers):"",isFeatured:!!e.isFeatured,priority:String(null!==(n=e.priority)&&void 0!==n?n:"0"),bannerImage:e.bannerImage||"",termsAndConditions:e.termsAndConditions||""}),_(!0)},B=e=>{switch(e){case"active":return"bg-green-500/20 text-green-400";case"upcoming":return"bg-blue-500/20 text-blue-400";case"finished":default:return"bg-gray-500/20 text-gray-400";case"cancelled":return"bg-red-500/20 text-red-400"}};return(0,r.jsxs)("div",{className:"flex min-h-screen w-full bg-background-dark",children:[(0,r.jsx)(o.Z,{}),(0,r.jsx)("main",{className:"flex-1 p-6 lg:p-10 ml-0 lg:ml-64 pt-16 lg:pt-0",children:(0,r.jsxs)("div",{className:"max-w-7xl mx-auto flex flex-col gap-6",children:[(0,r.jsxs)("div",{className:"flex justify-between items-start",children:[(0,r.jsxs)("div",{children:[(0,r.jsx)("h1",{className:"text-white text-4xl font-black",children:e("admin.tournamentManagement")}),(0,r.jsx)("p",{className:"text-white/60",children:"Create and manage tournaments"})]}),(0,r.jsx)("button",{onClick:()=>{J(),A(!0)},className:"px-4 py-2 bg-cyan-500 text-black rounded-lg font-bold",children:"+ Create Tournament"})]}),(0,r.jsx)("div",{className:"bg-[#111718] rounded-xl border border-[#3b5054] overflow-hidden",children:l?(0,r.jsx)("div",{className:"p-10 text-center text-white",children:"Loading..."}):0===t.length?(0,r.jsx)("div",{className:"p-10 text-center text-white/60",children:"No tournaments"}):(0,r.jsxs)("table",{className:"w-full",children:[(0,r.jsx)("thead",{className:"bg-[#1b2527]",children:(0,r.jsxs)("tr",{children:[(0,r.jsx)("th",{className:"px-6 py-3 text-left",children:"Name"}),(0,r.jsx)("th",{className:"px-6 py-3 text-left",children:"Game"}),(0,r.jsx)("th",{className:"px-6 py-3 text-left",children:"Prize"}),(0,r.jsx)("th",{className:"px-6 py-3 text-left",children:"Status"}),(0,r.jsx)("th",{className:"px-6 py-3 text-left",children:"Start"}),(0,r.jsx)("th",{className:"px-6 py-3 text-left",children:"Actions"})]})}),(0,r.jsx)("tbody",{children:t.map(e=>(0,r.jsxs)("tr",{className:"border-t border-[#3b5054]",children:[(0,r.jsx)("td",{className:"px-6 py-4",children:e.name}),(0,r.jsx)("td",{className:"px-6 py-4",children:e.gameType}),(0,r.jsxs)("td",{className:"px-6 py-4",children:["â‚º",e.prizePool]}),(0,r.jsx)("td",{className:"px-6 py-4",children:(0,r.jsx)("span",{className:"px-2 py-1 rounded ".concat(B(e.status)),children:e.status})}),(0,r.jsx)("td",{className:"px-6 py-4",children:(0,c.p6)(e.startDate)}),(0,r.jsx)("td",{className:"px-6 py-4",children:(0,r.jsx)("button",{onClick:()=>L(e),className:"text-blue-400",children:"Edit"})})]},e._id))})]})})]})})]})}function x(){return(0,r.jsx)(l.Z,{children:(0,r.jsx)(g,{})})}},96666:function(e,t,a){"use strict";a.d(t,{Z:function(){return l}});var r=a(57437),n=a(2265),s=a(24033),i=a(87300);function l(e){let{children:t}=e,a=(0,s.useRouter)(),l=(0,s.usePathname)(),[o,d]=(0,n.useState)(!1),[c,m]=(0,n.useState)(!0);return((0,n.useEffect)(()=>{(()=>{if(!(0,i.$8)()){let e=encodeURIComponent(l||"/admin");a.push("/auth/login?next=".concat(e));return}if(!(0,i.GJ)()){a.push("/dashboard");return}d(!0),m(!1)})()},[a,l]),c)?(0,r.jsx)("div",{className:"flex min-h-screen w-full items-center justify-center bg-background-dark",children:(0,r.jsxs)("div",{className:"flex flex-col items-center gap-4",children:[(0,r.jsx)("div",{className:"size-8 animate-spin rounded-full border-4 border-[#0dccf2] border-t-transparent"}),(0,r.jsx)("p",{className:"text-white/70 text-sm",children:"Verifying access..."})]})}):o?(0,r.jsx)(r.Fragment,{children:t}):null}},28707:function(e,t,a){"use strict";a.d(t,{Z:function(){return d}});var r=a(57437),n=a(2265),s=a(61396),i=a.n(s),l=a(24033),o=a(96299);function d(){let{t:e}=(0,o.$)(),t=(0,l.usePathname)(),[a,s]=(0,n.useState)(!1),d=[{id:"dashboard",label:e("admin.dashboard"),icon:"dashboard",href:"/admin"},{id:"users",label:e("admin.users"),icon:"group",href:"/admin/users"},{id:"kyc",label:e("admin.kyc"),icon:"badge",href:"/admin/kyc"},{id:"games",label:e("admin.games"),icon:"gamepad",href:"/admin/games"},{id:"betting",label:e("admin.betting"),icon:"sports_soccer",href:"/admin/betting"},{id:"promotions",label:e("admin.promotions"),icon:"campaign",href:"/admin/promotions"},{id:"deposits",label:e("admin.deposits"),icon:"arrow_downward",href:"/admin/deposits"},{id:"withdrawals",label:e("admin.withdrawals"),icon:"arrow_upward",href:"/admin/withdrawals"},{id:"tournaments",label:e("admin.tournaments"),icon:"emoji_events",href:"/admin/tournaments"},{id:"content",label:e("admin.content"),icon:"wysiwyg",href:"/admin/content"}];return(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)("button",{onClick:()=>s(!a),className:"lg:hidden fixed top-4 left-4 z-[60] p-2 bg-background-dark border border-surface rounded-lg text-white hover:bg-white/10 transition-colors","aria-label":"Toggle sidebar",children:(0,r.jsx)("span",{className:"material-symbols-outlined",children:a?"close":"menu"})}),a&&(0,r.jsx)("div",{className:"lg:hidden fixed inset-0 bg-black/50 z-[55]",onClick:()=>s(!1)}),(0,r.jsxs)("aside",{className:"fixed left-0 top-0 h-screen w-64 flex flex-col bg-background-dark border-r border-surface p-4 z-50 transition-transform duration-300 ".concat(a?"translate-x-0":"-translate-x-full lg:translate-x-0"),children:[(0,r.jsxs)("div",{className:"flex items-center gap-3 mb-8 px-2",children:[(0,r.jsx)("div",{className:"flex h-10 w-10 items-center justify-center rounded-lg bg-primary",children:(0,r.jsx)("span",{className:"material-symbols-outlined text-black",children:"casino"})}),(0,r.jsxs)("div",{className:"flex flex-col",children:[(0,r.jsx)("h1",{className:"text-base font-bold text-white",children:e("admin.title")}),(0,r.jsx)("p",{className:"text-sm text-gray-400",children:e("admin.management")})]})]}),(0,r.jsx)("nav",{className:"flex flex-col gap-2",children:d.map(e=>(0,r.jsxs)(i(),{href:e.href,onClick:()=>s(!1),className:"flex items-center gap-3 rounded-lg px-3 py-2 text-sm font-medium transition-colors ".concat(t===e.href||"dashboard"===e.id&&"/admin"===t?"bg-primary/20 text-primary":"text-gray-300 hover:bg-white/10"),children:[(0,r.jsx)("span",{className:"material-symbols-outlined",children:e.icon}),(0,r.jsx)("p",{children:e.label})]},e.id))}),(0,r.jsxs)("div",{className:"mt-auto",children:[(0,r.jsxs)(i(),{href:"/admin/settings",onClick:()=>s(!1),className:"flex items-center gap-3 rounded-lg px-3 py-2 text-gray-300 hover:bg-white/10 transition-colors",children:[(0,r.jsx)("span",{className:"material-symbols-outlined",children:"settings"}),(0,r.jsx)("p",{className:"text-sm font-medium",children:e("admin.settings")})]}),(0,r.jsxs)("button",{onClick:()=>{localStorage.removeItem("token"),localStorage.removeItem("user"),localStorage.removeItem("isAdmin"),localStorage.removeItem("adminEmail"),window.location.href="/auth/login"},className:"mt-2 flex w-full items-center gap-3 rounded-lg px-3 py-2 text-gray-300 hover:bg-red-500/20 hover:text-red-400 transition-colors",children:[(0,r.jsx)("span",{className:"material-symbols-outlined",children:"logout"}),(0,r.jsx)("p",{className:"text-sm font-medium",children:e("admin.logout")})]})]})]})]})}},87300:function(e,t,a){"use strict";a.d(t,{$8:function(){return s},GJ:function(){return i},My:function(){return l},kS:function(){return o},ts:function(){return r}});let r=()=>{try{let e=localStorage.getItem("user");return e?JSON.parse(e):null}catch(e){return null}},n=()=>localStorage.getItem("token"),s=()=>!!n(),i=()=>{let e=r();return!!e&&["admin","super_admin","operator"].includes(e.role)},l=e=>["admin","super_admin","operator"].includes(e)?"/admin":"/dashboard",o=()=>{localStorage.removeItem("token"),localStorage.removeItem("user"),localStorage.removeItem("isAdmin"),localStorage.removeItem("adminEmail"),window.location.href="/"}},66209:function(e,t,a){"use strict";a.d(t,{X6:function(){return l},dN:function(){return i},o0:function(){return n},p6:function(){return r}});let r=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(!e)return"N/A";try{let a=new Date(e);if(isNaN(a.getTime()))return"N/A";let r={day:"2-digit",month:"2-digit",year:"numeric",...t};return a.toLocaleDateString("tr-TR",r)}catch(e){return console.error("Error formatting date:",e),"N/A"}},n=e=>{if(!e)return"N/A";try{let t=new Date(e);if(isNaN(t.getTime()))return"N/A";return t.toLocaleDateString("tr-TR",{day:"2-digit",month:"2-digit",year:"numeric",hour:"2-digit",minute:"2-digit"})}catch(e){return console.error("Error formatting date time:",e),"N/A"}},s=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"TRY",a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"tr-TR";if(null==e)return s(0,t,a);try{let r="string"==typeof e?parseFloat(e):e;if(isNaN(r))return s(0,t,a);return new Intl.NumberFormat(a,{style:"currency",currency:t,minimumFractionDigits:2,maximumFractionDigits:2}).format(r)}catch(a){return console.error("Error formatting currency:",a),"".concat(e," ").concat(t)}},i=e=>s(e,"TRY","tr-TR"),l=e=>{if(null==e)return"0%";try{let t="string"==typeof e?parseFloat(e):e;if(isNaN(t))return"0%";if(t>0)return"+".concat(t.toFixed(1),"%");if(t<0)return"".concat(t.toFixed(1),"%");return"0%"}catch(e){return console.error("Error formatting change:",e),"0%"}}},24215:function(e,t,a){"use strict";a.d(t,{cM:function(){return i}});let r={DEBUG:"debug",INFO:"info",WARN:"warn",ERROR:"error"};class n{formatMessage(e,t){let a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null,r=new Date().toISOString(),n="[".concat(r,"] [").concat(e.toUpperCase(),"]");return a?{prefix:n,message:t,data:a}:{prefix:n,message:t}}debug(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;if(!this.isDevelopment)return;let a=this.formatMessage(r.DEBUG,e,t);t?console.log(a.prefix,a.message,a.data):console.log(a.prefix,a.message)}info(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,a=this.formatMessage(r.INFO,e,t);t?console.info(a.prefix,a.message,a.data):console.info(a.prefix,a.message)}warn(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,a=this.formatMessage(r.WARN,e,t);t?console.warn(a.prefix,a.message,a.data):console.warn(a.prefix,a.message)}error(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,a=this.formatMessage(r.ERROR,e,t);t?(console.error(a.prefix,a.message,t),this.isDevelopment):console.error(a.prefix,a.message)}apiError(e,t){var a,r,n,s;this.error("API Error [".concat(e,"]"),{endpoint:e,status:null==t?void 0:null===(a=t.response)||void 0===a?void 0:a.status,message:(null==t?void 0:null===(n=t.response)||void 0===n?void 0:null===(r=n.data)||void 0===r?void 0:r.message)||(null==t?void 0:t.message),data:null==t?void 0:null===(s=t.response)||void 0===s?void 0:s.data})}constructor(){this.isDevelopment=!1}}let s=new n,i={debug:(e,t)=>s.debug(e,t),info:(e,t)=>s.info(e,t),warn:(e,t)=>s.warn(e,t),error:(e,t)=>s.error(e,t),apiError:(e,t)=>s.apiError(e,t)}},24033:function(e,t,a){e.exports=a(15313)}},function(e){e.O(0,[1176,4829,2385,6299,2971,4938,1744],function(){return e(e.s=59499)}),_N_E=e.O()}]);