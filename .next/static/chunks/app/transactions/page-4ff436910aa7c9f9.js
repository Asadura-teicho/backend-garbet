(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[8220],{70849:function(e,t,a){Promise.resolve().then(a.bind(a,86417))},86417:function(e,t,a){"use strict";a.r(t),a.d(t,{default:function(){return x}});var s=a(57437),l=a(2265),r=a(24033),i=a(24322),n=a(62385),d=a(66209),c=a(18965);function o(){(0,r.useRouter)();let[e,t]=(0,l.useState)([]),[a,i]=(0,l.useState)(!0),[o,x]=(0,l.useState)(""),[h,m]=(0,l.useState)(1),[u,p]=(0,l.useState)(1),[f,b]=(0,l.useState)(0),[g,w]=(0,l.useState)("all"),[j,v]=(0,l.useState)("all");(0,l.useEffect)(()=>{y()},[h,g,j]);let y=async()=>{var e,a,s,l,r,d;i(!0),x("");try{let r={page:h,limit:50};"all"!==g&&(r.type=g),"all"!==j&&(r.status=j);let i=await n.K6.getMyTransactions(r),d=(null===(e=i.data)||void 0===e?void 0:e.transactions)||(null===(a=i.data)||void 0===a?void 0:a.data)||i.data||[];t(Array.isArray(d)?d:[]),p((null===(s=i.data)||void 0===s?void 0:s.totalPages)||1),b((null===(l=i.data)||void 0===l?void 0:l.total)||d.length)}catch(e){console.error("Failed to fetch transactions:",e),x((null===(d=e.response)||void 0===d?void 0:null===(r=d.data)||void 0===r?void 0:r.message)||"İşlem ge\xe7mişi y\xfcklenemedi"),t([])}finally{i(!1)}},N=e=>{switch(e){case"deposit":return"bg-green-500/20 text-green-400";case"withdrawal":return"bg-red-500/20 text-red-400";case"win":case"admin_credit":return"bg-blue-500/20 text-blue-400";case"bet":case"admin_debit":return"bg-yellow-500/20 text-yellow-400";default:return"bg-gray-500/20 text-gray-400"}},k=e=>({deposit:"Yatırım",withdrawal:"\xc7ekim",bet:"Bahis",win:"Kazan\xe7",refund:"İade",bet_round:"Round Bahis",admin_credit:"Admin Kredi",admin_debit:"Admin Bor\xe7"})[e]||e,_=e=>{switch(e){case"completed":return"bg-green-500/20 text-green-400";case"pending":return"bg-yellow-500/20 text-yellow-400";case"failed":case"rejected":return"bg-red-500/20 text-red-400";default:return"bg-gray-500/20 text-gray-400"}},S=e=>({pending:"Beklemede",completed:"Tamamlandı",failed:"Başarısız",cancelled:"İptal Edildi",rejected:"Reddedildi"})[e]||e;return(0,s.jsxs)("div",{className:"flex min-h-screen bg-background-light dark:bg-background-dark font-display text-[#EAEAEA]",children:[(0,s.jsx)(c.Z,{}),(0,s.jsx)("div",{className:"flex-1 flex flex-col ml-0 lg:ml-64",children:(0,s.jsx)("div",{className:"flex-1 overflow-y-auto p-4 sm:p-6 lg:p-8",children:(0,s.jsx)("div",{className:"max-w-7xl mx-auto",children:(0,s.jsxs)("main",{className:"flex-grow pt-8 sm:pt-12 pb-12",children:[(0,s.jsx)("div",{className:"flex flex-wrap justify-between gap-4 p-4 mb-6",children:(0,s.jsxs)("div",{className:"flex flex-col gap-2",children:[(0,s.jsx)("p",{className:"text-white text-3xl sm:text-4xl font-black leading-tight tracking-[-0.033em]",children:"İşlem Ge\xe7mişi"}),(0,s.jsx)("p",{className:"text-text-dark text-base font-normal leading-normal",children:"T\xfcm işlemlerinizin detaylı ge\xe7mişi"})]})}),(0,s.jsxs)("div",{className:"flex flex-wrap gap-4 mb-6 p-4",children:[(0,s.jsxs)("select",{value:g,onChange:e=>{w(e.target.value),m(1)},className:"h-12 rounded-lg bg-white/5 border border-white/10 text-white px-4 focus:outline-none focus:ring-2 focus:ring-primary",children:[(0,s.jsx)("option",{value:"all",children:"T\xfcm İşlemler"}),(0,s.jsx)("option",{value:"deposit",children:"Yatırımlar"}),(0,s.jsx)("option",{value:"withdrawal",children:"\xc7ekimler"}),(0,s.jsx)("option",{value:"bet",children:"Bahisler"}),(0,s.jsx)("option",{value:"win",children:"Kazan\xe7lar"})]}),(0,s.jsxs)("select",{value:j,onChange:e=>{v(e.target.value),m(1)},className:"h-12 rounded-lg bg-white/5 border border-white/10 text-white px-4 focus:outline-none focus:ring-2 focus:ring-primary",children:[(0,s.jsx)("option",{value:"all",children:"T\xfcm Durumlar"}),(0,s.jsx)("option",{value:"completed",children:"Tamamlanan"}),(0,s.jsx)("option",{value:"pending",children:"Bekleyen"}),(0,s.jsx)("option",{value:"failed",children:"Başarısız"}),(0,s.jsx)("option",{value:"cancelled",children:"İptal Edilen"})]}),(0,s.jsx)("button",{onClick:()=>{w("all"),v("all"),m(1)},className:"h-12 px-4 rounded-lg bg-transparent border border-white/10 text-white hover:bg-white/10 transition-colors",children:"Filtreleri Temizle"})]}),o&&(0,s.jsx)("div",{className:"mb-4 mx-4 rounded-lg bg-red-500/20 border border-red-500/50 p-4",children:(0,s.jsx)("p",{className:"text-sm text-red-400",children:o})}),(0,s.jsx)("div",{className:"p-4",children:(0,s.jsx)("div",{className:"bg-surface-dark rounded-xl border border-white/10 overflow-hidden",children:a?(0,s.jsx)("div",{className:"flex items-center justify-center py-12",children:(0,s.jsx)("div",{className:"size-8 animate-spin rounded-full border-4 border-primary border-t-transparent"})}):0===e.length?(0,s.jsx)("div",{className:"text-center py-12",children:(0,s.jsx)("p",{className:"text-text-dark",children:"İşlem ge\xe7mişi bulunamadı"})}):(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)("div",{className:"overflow-x-auto",children:(0,s.jsxs)("table",{className:"w-full",children:[(0,s.jsx)("thead",{className:"bg-white/5",children:(0,s.jsxs)("tr",{children:[(0,s.jsx)("th",{className:"px-6 py-4 text-left text-white text-xs font-medium uppercase tracking-wider",children:"Tarih"}),(0,s.jsx)("th",{className:"px-6 py-4 text-left text-white text-xs font-medium uppercase tracking-wider",children:"İşlem T\xfcr\xfc"}),(0,s.jsx)("th",{className:"px-6 py-4 text-left text-white text-xs font-medium uppercase tracking-wider",children:"Tutar"}),(0,s.jsx)("th",{className:"px-6 py-4 text-left text-white text-xs font-medium uppercase tracking-wider",children:"Durum"}),(0,s.jsx)("th",{className:"px-6 py-4 text-left text-white text-xs font-medium uppercase tracking-wider",children:"A\xe7ıklama"})]})}),(0,s.jsx)("tbody",{className:"divide-y divide-white/10",children:e.map(e=>(0,s.jsxs)("tr",{className:"hover:bg-white/5 transition-colors",children:[(0,s.jsx)("td",{className:"px-6 py-4 whitespace-nowrap text-text-dark text-sm",children:(0,d.o0)(e.createdAt)}),(0,s.jsx)("td",{className:"px-6 py-4 whitespace-nowrap",children:(0,s.jsx)("span",{className:"px-2 py-1 rounded text-xs font-medium ".concat(N(e.type)),children:k(e.type)})}),(0,s.jsx)("td",{className:"px-6 py-4 whitespace-nowrap text-white text-sm font-medium",children:(0,d.dN)(e.amount)}),(0,s.jsx)("td",{className:"px-6 py-4 whitespace-nowrap",children:(0,s.jsx)("span",{className:"px-2 py-1 rounded text-xs font-medium ".concat(_(e.status)),children:S(e.status)})}),(0,s.jsx)("td",{className:"px-6 py-4 text-text-dark text-sm",children:e.description||"-"})]},e._id))})]})}),u>1&&(0,s.jsxs)("div",{className:"flex items-center justify-between px-6 py-4 border-t border-white/10",children:[(0,s.jsxs)("p",{className:"text-text-dark text-sm",children:["Toplam ",f," işlem"]}),(0,s.jsxs)("div",{className:"flex items-center gap-2",children:[(0,s.jsx)("button",{onClick:()=>m(e=>Math.max(1,e-1)),disabled:1===h,className:"px-4 py-2 rounded-lg bg-white/5 border border-white/10 text-white disabled:opacity-50 disabled:cursor-not-allowed hover:bg-white/10 transition-colors",children:"\xd6nceki"}),(0,s.jsxs)("span",{className:"text-white px-4",children:["Sayfa ",h," / ",u]}),(0,s.jsx)("button",{onClick:()=>m(e=>Math.min(u,e+1)),disabled:h===u,className:"px-4 py-2 rounded-lg bg-white/5 border border-white/10 text-white disabled:opacity-50 disabled:cursor-not-allowed hover:bg-white/10 transition-colors",children:"Sonraki"})]})]})]})})})]})})})})]})}function x(){return(0,s.jsx)(i.Z,{children:(0,s.jsx)(o,{})})}},24322:function(e,t,a){"use strict";a.d(t,{Z:function(){return d}});var s=a(57437),l=a(2265),r=a(24033),i=a(87300),n=a(60473);function d(e){let{children:t,requiredRole:a=null,allowedRoles:d=null}=e,c=(0,r.useRouter)(),[o,x]=(0,l.useState)(!1),[h,m]=(0,l.useState)(!0);return((0,l.useEffect)(()=>{(()=>{if(!(0,i.$8)()){c.push("/auth/login");return}let e=(0,i.ts)();if(!e){c.push("/auth/login");return}if(a&&e.role!==a||d&&!d.includes(e.role)){c.push((0,i.My)(e.role));return}x(!0),m(!1)})()},[c,a,d]),h)?(0,s.jsx)("div",{className:"flex min-h-screen items-center justify-center bg-background-dark",children:(0,s.jsxs)("div",{className:"text-center",children:[(0,s.jsx)("div",{className:"mb-4 inline-block h-8 w-8 animate-spin rounded-full border-4 border-solid border-primary border-r-transparent"}),(0,s.jsx)("p",{className:"text-white",children:"Loading..."})]})}):o?(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)(n.Z,{}),t]}):null}},18965:function(e,t,a){"use strict";a.d(t,{Z:function(){return o}});var s=a(57437),l=a(2265),r=a(61396),i=a.n(r),n=a(24033),d=a(96299),c=a(62385);function o(){let{t:e}=(0,d.$)(),t=(0,n.usePathname)(),[a,r]=(0,l.useState)(null);(0,l.useEffect)(()=>{(async()=>{try{let e=await c.kv.getMe();r(e.data)}catch(e){console.error("Failed to fetch user:",e)}})()},[]);let o=[{id:"overview",label:e("dashboard.menuOverview"),icon:"dashboard",href:"/dashboard"},{id:"deposit",label:e("dashboard.menuDeposit"),icon:"account_balance_wallet",href:"/deposit"},{id:"withdraw",label:e("dashboard.menuWithdraw"),icon:"payments",href:"/withdraw"},{id:"transactions",label:"Transactions",icon:"receipt_long",href:"/transactions"},{id:"bet-history",label:e("dashboard.menuBetHistory"),icon:"sports_soccer",href:"/sports"},{id:"game-history",label:e("dashboard.menuGameHistory"),icon:"casino",href:"/slots"},{id:"bonuses",label:e("dashboard.menuBonuses"),icon:"emoji_events",href:"/bonuses"},{id:"settings",label:e("dashboard.menuSettings"),icon:"settings",href:"/profile"}];return(0,s.jsxs)("aside",{className:"fixed left-0 top-0 h-screen w-64 flex-col bg-background-dark border-r border-surface hidden lg:flex z-50",children:[(0,s.jsxs)("div",{className:"flex items-center gap-3 px-6 py-5 border-b border-surface",children:[(0,s.jsx)("div",{className:"size-8 text-primary",children:(0,s.jsxs)("svg",{fill:"currentColor",viewBox:"0 0 48 48",xmlns:"http://www.w3.org/2000/svg",children:[(0,s.jsx)("g",{clipPath:"url(#clip0_6_319)",children:(0,s.jsx)("path",{d:"M8.57829 8.57829C5.52816 11.6284 3.451 15.5145 2.60947 19.7452C1.76794 23.9758 2.19984 28.361 3.85056 32.3462C5.50128 36.3314 8.29667 39.7376 11.8832 42.134C15.4698 44.5305 19.6865 45.8096 24 45.8096C28.3135 45.8096 32.5302 44.5305 36.1168 42.134C39.7033 39.7375 42.4987 36.3314 44.1494 32.3462C45.8002 28.361 46.2321 23.9758 45.3905 19.7452C44.549 15.5145 42.4718 11.6284 39.4217 8.57829L24 24L8.57829 8.57829Z"})}),(0,s.jsx)("defs",{children:(0,s.jsx)("clipPath",{id:"clip0_6_319",children:(0,s.jsx)("rect",{fill:"white",height:"48",width:"48"})})})]})}),(0,s.jsx)(i(),{href:"/",children:(0,s.jsx)("h2",{className:"text-white text-xl font-bold",children:"Garbet"})})]}),(0,s.jsxs)("div",{className:"flex flex-col flex-1 p-4 overflow-y-auto",children:[(0,s.jsxs)("div",{className:"flex items-center gap-3 p-2 mb-4",children:[(0,s.jsx)("div",{className:"bg-center bg-no-repeat aspect-square bg-cover rounded-full size-10",style:{backgroundImage:'url("https://lh3.googleusercontent.com/aida-public/AB6AXuAuhux6dpQvPR-RdOeaTaRrgQkV5Eq0ycakfmhZ14nIjMP68y4K7cXqyORaLFyN0P3tEwtd0zZqPHn5rulfpLx7bkvQElTJmDbLf6Z44yXJAlanpWVQqtzFfVEkFtQzWBb5CBABwV-PJyT82HfkwXfNrquaMr92GzVOd2NyezQu1QoSzfn8PkY_ukvA5q1szlNZBBw1SZD83oQj2FTqIMaRH8Js3ufJIyWtGhy9ml7_96FcmxSt35SIW7FQ2v-822p0zaAR0bRc0S8")'}}),(0,s.jsxs)("div",{className:"flex flex-col",children:[(0,s.jsx)("h1",{className:"text-white text-base font-medium leading-normal",children:(null==a?void 0:a.firstName)&&(null==a?void 0:a.lastName)?"".concat(a.firstName," ").concat(a.lastName):(null==a?void 0:a.username)||"User"}),(0,s.jsx)("p",{className:"text-gray-400 text-sm font-normal leading-normal",children:(null==a?void 0:a.email)||"user@email.com"})]})]}),(0,s.jsx)("nav",{className:"flex flex-col gap-2",children:o.map(e=>{let a=t===e.href||"/dashboard"===e.href&&t.startsWith("/dashboard");return(0,s.jsxs)(i(),{href:e.href,className:"flex items-center gap-3 px-3 py-2.5 rounded-lg transition-colors ".concat(a?"bg-surface text-primary":"hover:bg-surface/50 text-white"),children:[(0,s.jsx)("span",{className:"material-symbols-outlined ".concat(a?"text-blue":"text-white/70"),style:a?{fontVariationSettings:"'FILL' 1"}:{},children:e.icon}),(0,s.jsx)("p",{className:"text-white text-sm font-medium leading-normal",children:e.label})]},e.id)})})]})]})}}},function(e){e.O(0,[1176,4829,2385,6299,1761,473,2971,4938,1744],function(){return e(e.s=70849)}),_N_E=e.O()}]);