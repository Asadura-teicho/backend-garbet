(()=>{var e={};e.id=3106,e.ids=[3106],e.modules={47849:e=>{"use strict";e.exports=require("next/dist/client/components/action-async-storage.external")},55403:e=>{"use strict";e.exports=require("next/dist/client/components/request-async-storage.external")},94749:e=>{"use strict";e.exports=require("next/dist/client/components/static-generation-async-storage.external")},20399:e=>{"use strict";e.exports=require("next/dist/compiled/next-server/app-page.runtime.prod.js")},25528:e=>{"use strict";e.exports=require("next/dist\\client\\components\\action-async-storage.external.js")},91877:e=>{"use strict";e.exports=require("next/dist\\client\\components\\request-async-storage.external.js")},25319:e=>{"use strict";e.exports=require("next/dist\\client\\components\\static-generation-async-storage.external.js")},39491:e=>{"use strict";e.exports=require("assert")},6113:e=>{"use strict";e.exports=require("crypto")},82361:e=>{"use strict";e.exports=require("events")},57147:e=>{"use strict";e.exports=require("fs")},13685:e=>{"use strict";e.exports=require("http")},85158:e=>{"use strict";e.exports=require("http2")},95687:e=>{"use strict";e.exports=require("https")},22037:e=>{"use strict";e.exports=require("os")},71017:e=>{"use strict";e.exports=require("path")},12781:e=>{"use strict";e.exports=require("stream")},76224:e=>{"use strict";e.exports=require("tty")},57310:e=>{"use strict";e.exports=require("url")},73837:e=>{"use strict";e.exports=require("util")},59796:e=>{"use strict";e.exports=require("zlib")},37652:(e,t,s)=>{"use strict";s.r(t),s.d(t,{GlobalError:()=>i.a,__next_app__:()=>x,originalPathname:()=>m,pages:()=>d,routeModule:()=>p,tree:()=>o});var a=s(50482),r=s(69108),l=s(62563),i=s.n(l),n=s(68300),c={};for(let e in n)0>["default","tree","pages","GlobalError","originalPathname","__next_app__","routeModule"].indexOf(e)&&(c[e]=()=>n[e]);s.d(t,c);let o=["",{children:["live-betting",{children:["__PAGE__",{},{page:[()=>Promise.resolve().then(s.bind(s,54686)),"W:\\garbet\\Frontend\\app\\live-betting\\page.js"]}]},{}]},{layout:[()=>Promise.resolve().then(s.bind(s,69847)),"W:\\garbet\\Frontend\\app\\layout.js"],error:[()=>Promise.resolve().then(s.bind(s,60826)),"W:\\garbet\\Frontend\\app\\error.js"],"not-found":[()=>Promise.resolve().then(s.bind(s,46178)),"W:\\garbet\\Frontend\\app\\not-found.js"]}],d=["W:\\garbet\\Frontend\\app\\live-betting\\page.js"],m="/live-betting/page",x={require:s,loadChunk:()=>Promise.resolve()},p=new a.AppPageRouteModule({definition:{kind:r.x.APP_PAGE,page:"/live-betting/page",pathname:"/live-betting",bundlePath:"",filename:"",appPaths:[]},userland:{loaderTree:o}})},10312:(e,t,s)=>{Promise.resolve().then(s.bind(s,48047))},48047:(e,t,s)=>{"use strict";s.r(t),s.d(t,{default:()=>d});var a=s(95344),r=s(3729);s(20783);var l=s(22254),i=s(89873),n=s(19747),c=s(24774),o=s(36846);function d(){let{t:e}=(0,n.$)(),t=(0,l.useRouter)(),[s,d]=(0,r.useState)([]),[m,x]=(0,r.useState)("10.00"),[p,u]=(0,r.useState)(e("liveBetting.live")),[h,g]=(0,r.useState)([]),[f,b]=(0,r.useState)(!0),[y,j]=(0,r.useState)(""),[v,N]=(0,r.useState)(!1);(0,r.useEffect)(()=>{k();let t=setInterval(()=>{p===e("liveBetting.live")&&k()},3e4);return()=>clearInterval(t)},[p]);let k=async()=>{b(!0),j("");try{let t={page:1,limit:50};if(p===e("liveBetting.live"))t.status="live";else if(p===e("liveBetting.today")){t.status="upcoming";let e=new Date;e.setHours(0,0,0,0);let s=new Date(e);s.setDate(s.getDate()+1),t.startDate=e.toISOString(),t.endDate=s.toISOString()}else p===e("liveBetting.upcoming")&&(t.status="upcoming");let s=await c.pp.getMatches(t);g(s.data.matches||[])}catch(e){console.error("Error fetching matches:",e),j(e.response?.data?.message||"Failed to load matches"),o.cM.apiError("/matches",e)}finally{b(!1)}},w=h.reduce((e,t)=>{let s=t.league||"Other";return e[s]||(e[s]=[]),e[s].push(t),e},{}),B=e=>{let t=e.markets?.find(e=>"1X2"===e.type),s={};t&&t.selections.forEach(e=>{"Team A Win"===e.name?s["1"]=e.odds:"Draw"===e.name?s.X=e.odds:"Team B Win"===e.name&&(s["2"]=e.odds)});let a=e.result?.teamAScore!==null&&e.result?.teamBScore!==null?`${e.result.teamAScore} - ${e.result.teamBScore}`:null,r=e.matchTime||"LIVE";return{id:e._id,_id:e._id,time:r,teams:`${e.teamA} vs ${e.teamB}`,score:a,odds:s,matchName:e.matchName,league:e.league,status:e.status,rawMatch:e}},_=e=>{d(s.filter((t,s)=>s!==e))},q=(t,a,r)=>{let l={matchId:t._id,matchName:t.matchName||`${t.teamA} vs ${t.teamB}`,selection:"1"===a?"Team A Win":"X"===a?"Draw":"Team B Win",odds:parseFloat(r),marketType:"1X2",marketName:"Match Winner",type:e("liveBetting.matchResult")},i=s.findIndex(e=>e.matchId===t._id&&e.selection===l.selection);i>=0?d(s.filter((e,t)=>t!==i)):d([...s,l])},F=async()=>{if(0===s.length||!m||0>=parseFloat(m)){j("Please select bets and enter a stake amount");return}N(!0),j("");try{for(let e of s)await c.pp.placeBet(e.matchId,{marketType:e.marketType,marketName:e.marketName,selection:e.selection,stake:parseFloat(m),useBonusBalance:!1});d([]),x("10.00"),t.push("/dashboard")}catch(e){j(e.response?.data?.message||"Failed to place bet"),o.cM.apiError("/matches/bet",e)}finally{N(!1)}},P=s.length>0?s.reduce((e,t)=>e*t.odds,1).toFixed(2):"0.00",S=s.length>0&&m?(parseFloat(m)*parseFloat(P)).toFixed(2):"0.00";return(0,a.jsxs)("div",{className:"relative min-h-screen w-full bg-background-dark",children:[a.jsx(i.Z,{}),(0,a.jsxs)("main",{className:"mx-auto flex w-full max-w-7xl flex-col gap-4 p-4 lg:flex-row lg:gap-8 lg:p-6",children:[(0,a.jsxs)("div",{className:"w-full flex-1",children:[(0,a.jsxs)("div",{className:"flex flex-col gap-4 rounded-lg bg-surface p-3 shadow-soft sm:flex-row sm:items-center",children:[(0,a.jsxs)("div",{className:"flex flex-1 gap-2 overflow-x-auto pb-2 sm:pb-0",children:[(0,a.jsxs)("button",{className:"flex h-10 shrink-0 items-center justify-center gap-x-2 rounded-lg bg-background-dark pl-3 pr-4 shadow-md",children:[a.jsx("span",{className:"material-symbols-outlined text-lg text-primary",children:"sports_soccer"}),a.jsx("p",{className:"text-sm font-medium text-primary-text",children:"Futbol"})]}),(0,a.jsxs)("button",{className:"flex h-10 shrink-0 items-center justify-center gap-x-2 rounded-lg bg-surface/80 pl-3 pr-4 transition-colors hover:bg-surface",children:[a.jsx("span",{className:"material-symbols-outlined text-lg text-secondary-text",children:"sports_basketball"}),a.jsx("p",{className:"text-sm font-medium text-secondary-text",children:"Basketbol"})]}),(0,a.jsxs)("button",{className:"flex h-10 shrink-0 items-center justify-center gap-x-2 rounded-lg bg-surface/80 pl-3 pr-4 transition-colors hover:bg-surface",children:[a.jsx("span",{className:"material-symbols-outlined text-lg text-secondary-text",children:"sports_tennis"}),a.jsx("p",{className:"text-sm font-medium text-secondary-text",children:"Tenis"})]}),(0,a.jsxs)("button",{className:"flex h-10 shrink-0 items-center justify-center gap-x-2 rounded-lg bg-surface/80 pl-3 pr-4 transition-colors hover:bg-surface",children:[a.jsx("span",{className:"material-symbols-outlined text-lg text-secondary-text",children:"sports_volleyball"}),a.jsx("p",{className:"text-sm font-medium text-secondary-text",children:"Voleybol"})]})]}),(0,a.jsxs)("div",{className:"flex h-10 flex-shrink-0 items-center justify-center rounded-lg bg-background-dark p-1 sm:w-auto sm:min-w-[280px]",children:[(0,a.jsxs)("label",{className:"flex h-full flex-1 cursor-pointer items-center justify-center overflow-hidden rounded-md px-3 text-sm font-medium leading-normal text-secondary-text has-[:checked]:bg-surface has-[:checked]:text-primary-text",children:[a.jsx("span",{className:"truncate",children:"CanlÄ±"}),a.jsx("input",{checked:"Live Now"===p,onChange:()=>u("Live Now"),className:"invisible w-0",name:"time-filter",type:"radio",value:"Live Now"})]}),(0,a.jsxs)("label",{className:"flex h-full flex-1 cursor-pointer items-center justify-center overflow-hidden rounded-md px-3 text-sm font-medium leading-normal text-secondary-text has-[:checked]:bg-surface has-[:checked]:text-primary-text",children:[a.jsx("span",{className:"truncate",children:e("liveBetting.today")}),a.jsx("input",{checked:p===e("liveBetting.today"),onChange:()=>u(e("liveBetting.today")),className:"invisible w-0",name:"time-filter",type:"radio",value:e("liveBetting.today")})]}),(0,a.jsxs)("label",{className:"flex h-full flex-1 cursor-pointer items-center justify-center overflow-hidden rounded-md px-3 text-sm font-medium leading-normal text-secondary-text has-[:checked]:bg-surface has-[:checked]:text-primary-text",children:[a.jsx("span",{className:"truncate",children:e("liveBetting.upcoming")}),a.jsx("input",{checked:p===e("liveBetting.upcoming"),onChange:()=>u(e("liveBetting.upcoming")),className:"invisible w-0",name:"time-filter",type:"radio",value:e("liveBetting.upcoming")})]})]})]}),(0,a.jsxs)("div",{className:"mt-6 flex flex-col gap-4",children:[a.jsx("h2",{className:"text-2xl font-bold leading-tight tracking-[-0.015em] text-primary-text px-2",children:e("liveBetting.liveFootball")}),y&&a.jsx("div",{className:"rounded-lg bg-red-500/20 border border-red-500/50 p-4 mx-2",children:a.jsx("p",{className:"text-sm text-red-400",children:y})}),f?a.jsx("div",{className:"flex items-center justify-center py-12",children:a.jsx("p",{className:"text-secondary-text",children:"Loading matches..."})}):0===Object.keys(w).length?a.jsx("div",{className:"flex items-center justify-center py-12",children:a.jsx("p",{className:"text-secondary-text",children:"No matches found"})}):Object.entries(w).map(([e,t],r)=>(0,a.jsxs)("div",{className:`flex flex-col gap-2 ${r>0?"mt-4":""}`,children:[a.jsx("h3",{className:"text-sm font-semibold text-secondary-text px-2",children:e}),t.map(e=>{let t=B(e);return(0,a.jsxs)("div",{className:"flex flex-col gap-3 rounded-lg bg-surface p-4 shadow-soft",children:[(0,a.jsxs)("div",{className:"flex items-center justify-between",children:[(0,a.jsxs)("div",{className:"flex items-center gap-3",children:[a.jsx("span",{className:"text-sm font-medium text-primary",children:t.time}),a.jsx("p",{className:"text-base font-medium text-primary-text",children:t.teams})]}),t.score&&a.jsx("span",{className:"text-lg font-bold text-primary-text",children:t.score})]}),a.jsx("div",{className:"grid grid-cols-3 gap-2",children:["1","X","2"].map(r=>{let l=s.some(t=>t.matchId===e._id&&("1"===r&&"Team A Win"===t.selection||"X"===r&&"Draw"===t.selection||"2"===r&&"Team B Win"===t.selection));return(0,a.jsxs)("button",{onClick:()=>q(e,r,t.odds[r]),className:`group flex flex-col items-center justify-center rounded-lg py-2 transition-colors ${l?"bg-primary/30 border-2 border-primary":"bg-background-dark/50 hover:bg-background-dark/80"}`,children:[a.jsx("span",{className:"text-xs text-secondary-text",children:r}),a.jsx("span",{className:"font-bold text-primary-text",children:t.odds[r]?.toFixed(2)||"N/A"})]},r)})})]},e._id)})]},r))]})]}),a.jsx("aside",{className:"sticky top-24 hidden h-fit w-full max-w-xs flex-col gap-4 lg:flex",children:(0,a.jsxs)("div",{className:"rounded-lg bg-surface p-4 shadow-soft",children:[a.jsx("h3",{className:"mb-4 text-lg font-bold text-primary-text",children:e("liveBetting.betSlip")}),0===s.length?(0,a.jsxs)("div",{className:"flex flex-col items-center justify-center py-10",children:[a.jsx("span",{className:"material-symbols-outlined text-4xl text-secondary-text",children:"receipt_long"}),a.jsx("p",{className:"mt-2 text-sm text-secondary-text",children:e("liveBetting.yourSelections")})]}):(0,a.jsxs)("div",{className:"flex flex-col gap-3",children:[s.map((t,s)=>(0,a.jsxs)("div",{className:"rounded-lg bg-background-dark p-3",children:[(0,a.jsxs)("div",{className:"flex items-start justify-between",children:[(0,a.jsxs)("div",{children:[a.jsx("p",{className:"text-sm font-medium text-primary-text",children:t.match}),a.jsx("p",{className:"text-xs text-secondary-text",children:t.type})]}),a.jsx("button",{onClick:()=>_(s),className:"text-secondary-text hover:text-primary-text",children:a.jsx("span",{className:"material-symbols-outlined text-base",children:"close"})})]}),(0,a.jsxs)("div",{className:"mt-2 flex items-center justify-between",children:[(0,a.jsxs)("p",{className:"text-sm font-bold text-primary",children:[e("liveBetting.selectionLabel"),": ",t.selection]}),(0,a.jsxs)("p",{className:"text-sm font-bold text-primary-text",children:["@",t.odds]})]})]},s)),(0,a.jsxs)("div",{className:"mt-2 border-t border-background-dark pt-3",children:[(0,a.jsxs)("div",{className:"flex justify-between text-sm font-medium text-secondary-text",children:[a.jsx("span",{children:e("liveBetting.totalOdds")}),a.jsx("span",{className:"text-primary-text",children:P})]}),(0,a.jsxs)("div",{className:"mt-3",children:[a.jsx("label",{className:"mb-1 block text-sm font-medium text-secondary-text",htmlFor:"stake-desktop",children:e("liveBetting.stake")}),(0,a.jsxs)("div",{className:"relative",children:[a.jsx("input",{className:"w-full rounded-lg border-none bg-background-dark py-2 pl-3 pr-12 text-primary-text focus:ring-2 focus:ring-primary",id:"stake-desktop",type:"text",value:m,onChange:e=>x(e.target.value)}),a.jsx("span",{className:"absolute inset-y-0 right-3 flex items-center text-sm font-bold text-secondary-text",children:"TRY"})]})]}),(0,a.jsxs)("div",{className:"mt-3 flex justify-between text-sm font-medium text-secondary-text",children:[a.jsx("span",{children:e("liveBetting.maxWinnings")}),(0,a.jsxs)("span",{className:"text-lg font-bold text-primary",children:[S," TRY"]})]})]}),a.jsx("button",{onClick:F,disabled:0===s.length||!m||0>=parseFloat(m)||v,className:`mt-4 flex h-12 w-full items-center justify-center rounded-lg text-base font-bold shadow-soft transition-opacity ${s.length>0&&m&&parseFloat(m)>0?"bg-primary text-background-dark hover:opacity-90":"bg-primary/30 text-primary/60 cursor-not-allowed"}`,children:v?"Placing Bet...":e("liveBetting.placeBet")})]})]})})]}),s.length>0&&a.jsx("div",{className:"sticky bottom-0 z-40 block bg-gradient-to-t from-background-dark to-transparent px-4 pb-4 pt-8 lg:hidden",children:(0,a.jsxs)("button",{onClick:F,disabled:!m||0>=parseFloat(m)||v,className:"flex h-14 w-full items-center justify-between rounded-lg bg-primary px-4 text-background-dark shadow-soft disabled:opacity-50",children:[(0,a.jsxs)("div",{className:"flex items-center gap-3",children:[a.jsx("span",{className:"material-symbols-outlined font-semibold",children:"receipt_long"}),(0,a.jsxs)("span",{className:"text-base font-bold",children:["Kuponu G\xf6r\xfcnt\xfcle (",s.length,")"]})]}),(0,a.jsxs)("div",{className:"flex flex-col items-end",children:[a.jsx("span",{className:"text-xs",children:"Toplam Oran"}),a.jsx("span",{className:"text-base font-bold",children:P})]})]})})]})}},54686:(e,t,s)=>{"use strict";s.r(t),s.d(t,{$$typeof:()=>l,__esModule:()=>r,default:()=>i});let a=(0,s(86843).createProxy)(String.raw`W:\garbet\Frontend\app\live-betting\page.js`),{__esModule:r,$$typeof:l}=a,i=a.default}};var t=require("../../webpack-runtime.js");t.C(e);var s=e=>t(t.s=e),a=t.X(0,[1263,9069,8679,9873],()=>s(37652));module.exports=a})();