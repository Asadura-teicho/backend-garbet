(()=>{var e={};e.id=5760,e.ids=[5760],e.modules={47849:e=>{"use strict";e.exports=require("next/dist/client/components/action-async-storage.external")},55403:e=>{"use strict";e.exports=require("next/dist/client/components/request-async-storage.external")},94749:e=>{"use strict";e.exports=require("next/dist/client/components/static-generation-async-storage.external")},20399:e=>{"use strict";e.exports=require("next/dist/compiled/next-server/app-page.runtime.prod.js")},25528:e=>{"use strict";e.exports=require("next/dist\\client\\components\\action-async-storage.external.js")},91877:e=>{"use strict";e.exports=require("next/dist\\client\\components\\request-async-storage.external.js")},25319:e=>{"use strict";e.exports=require("next/dist\\client\\components\\static-generation-async-storage.external.js")},39491:e=>{"use strict";e.exports=require("assert")},6113:e=>{"use strict";e.exports=require("crypto")},82361:e=>{"use strict";e.exports=require("events")},57147:e=>{"use strict";e.exports=require("fs")},13685:e=>{"use strict";e.exports=require("http")},85158:e=>{"use strict";e.exports=require("http2")},95687:e=>{"use strict";e.exports=require("https")},22037:e=>{"use strict";e.exports=require("os")},71017:e=>{"use strict";e.exports=require("path")},12781:e=>{"use strict";e.exports=require("stream")},76224:e=>{"use strict";e.exports=require("tty")},57310:e=>{"use strict";e.exports=require("url")},73837:e=>{"use strict";e.exports=require("util")},59796:e=>{"use strict";e.exports=require("zlib")},85212:(e,t,s)=>{"use strict";s.r(t),s.d(t,{GlobalError:()=>i.a,__next_app__:()=>m,originalPathname:()=>x,pages:()=>o,routeModule:()=>p,tree:()=>c});var a=s(50482),l=s(69108),r=s(62563),i=s.n(r),n=s(68300),d={};for(let e in n)0>["default","tree","pages","GlobalError","originalPathname","__next_app__","routeModule"].indexOf(e)&&(d[e]=()=>n[e]);s.d(t,d);let c=["",{children:["dice-roll",{children:["__PAGE__",{},{page:[()=>Promise.resolve().then(s.bind(s,38374)),"W:\\garbet\\Frontend\\app\\dice-roll\\page.js"]}]},{}]},{layout:[()=>Promise.resolve().then(s.bind(s,69847)),"W:\\garbet\\Frontend\\app\\layout.js"],error:[()=>Promise.resolve().then(s.bind(s,60826)),"W:\\garbet\\Frontend\\app\\error.js"],"not-found":[()=>Promise.resolve().then(s.bind(s,46178)),"W:\\garbet\\Frontend\\app\\not-found.js"]}],o=["W:\\garbet\\Frontend\\app\\dice-roll\\page.js"],x="/dice-roll/page",m={require:s,loadChunk:()=>Promise.resolve()},p=new a.AppPageRouteModule({definition:{kind:l.x.APP_PAGE,page:"/dice-roll/page",pathname:"/dice-roll",bundlePath:"",filename:"",appPaths:[]},userland:{loaderTree:c}})},39852:(e,t,s)=>{Promise.resolve().then(s.bind(s,1135))},1135:(e,t,s)=>{"use strict";s.r(t),s.d(t,{default:()=>p});var a=s(95344),l=s(3729),r=s(22254),i=s(37249),n=s(19747);function d({value:e,isRolling:t=!1,size:s="large"}){let[r,i]=(0,l.useState)(e||1),[n,d]=(0,l.useState)(!1);return(0,l.useEffect)(()=>{if(t){d(!0);let e=setInterval(()=>{i(Math.floor(6*Math.random())+1)},100);return()=>{clearInterval(e),d(!1)}}e&&(d(!1),i(e))},[t,e]),(0,a.jsxs)("div",{className:`relative ${{small:"w-16 h-16 text-2xl",medium:"w-24 h-24 text-4xl",large:"w-32 h-32 text-5xl",xlarge:"w-40 h-40 text-6xl"}[s]} ${n?"animate-bounce":""}`,children:[(0,a.jsxs)("div",{className:`w-full h-full rounded-xl bg-gradient-to-br from-white to-gray-200 shadow-2xl border-4 border-gray-400 flex items-center justify-center relative overflow-hidden ${n?"animate-spin":""}`,children:[a.jsx("div",{className:"absolute inset-2 rounded-lg bg-white",children:a.jsx("div",{className:"relative w-full h-full",children:(({1:["center"],2:["top-left","bottom-right"],3:["top-left","center","bottom-right"],4:["top-left","top-right","bottom-left","bottom-right"],5:["top-left","top-right","center","bottom-left","bottom-right"],6:["top-left","top-right","middle-left","middle-right","bottom-left","bottom-right"]})[r]||[]).map((e,t)=>a.jsx("div",{className:`absolute ${{"top-left":"top-2 left-2","top-right":"top-2 right-2","middle-left":"top-1/2 left-2 -translate-y-1/2","middle-right":"top-1/2 right-2 -translate-y-1/2",center:"top-1/2 left-1/2 -translate-x-1/2 -translate-y-1/2","bottom-left":"bottom-2 left-2","bottom-right":"bottom-2 right-2"}[e]} ${"xlarge"===s?"w-6 h-6":"large"===s?"w-5 h-5":"medium"===s?"w-4 h-4":"w-3 h-3"} bg-black rounded-full`},t))})}),a.jsx("div",{className:"absolute inset-0 bg-gradient-to-br from-white/30 to-transparent rounded-xl pointer-events-none"})]}),n&&a.jsx("div",{className:"absolute inset-0 rounded-xl bg-[#0dccf2] opacity-50 blur-xl animate-pulse"})]})}var c=s(24774),o=s(36846);function x({balance:e,matchmakingStatus:t,setMatchmakingStatus:s,setMyGame:r,setError:i,setSuccess:n,fetchUserData:d}){let[o,x]=(0,l.useState)(""),[m,p]=(0,l.useState)(!1),[u,h]=(0,l.useState)(!1);(0,l.useEffect)(()=>{if(t?.inQueue){let e=setInterval(async()=>{await g()},2e3);return()=>clearInterval(e)}},[t]);let b=async()=>{if(!o||0>=parseFloat(o)){i("Please enter a valid bet amount");return}if(parseFloat(o)>e){i("Insufficient balance");return}p(!0),i("");try{let e=await c.mb.getMatchmakingStatus(),t=e.data?.data||e.data;if(t.inQueue){s(t),n("Already in queue, searching for opponent..."),p(!1);return}let a=await c.mb.joinQueue({betAmount:parseFloat(o)}),l=a.data?.data||a.data;l.matched&&l.game?(r(l.game),n("Match found!"),await d()):(l.queue?s({inQueue:!0,queue:l.queue}):s({inQueue:!0}),n("Searching for opponent..."))}catch(e){if(e.response?.status===409)try{let e=await c.mb.getMatchmakingStatus(),t=e.data?.data||e.data;t.inQueue?(s(t),n("Already in queue, searching for opponent...")):i("Please try again")}catch{i("Already in queue. Please wait...")}else i(e.response?.data?.message||"Failed to join queue")}finally{p(!1)}},g=async()=>{h(!0);try{let e=await c.mb.getMatchmakingStatus(),t=e.data?.data||e.data;t.matched&&t.game?(r(t.game),s(null),n("Match found!"),await d()):t.inQueue?s(t):s(null)}catch(e){}finally{h(!1)}},j=async()=>{try{await c.mb.leaveQueue(),s(null),n("Left queue"),await d()}catch(e){i(e.response?.data?.message||"Failed to leave queue")}};return(0,a.jsxs)("div",{className:"bg-[#111718] rounded-xl border border-[#3b5054] p-6",children:[a.jsx("h2",{className:"text-white text-2xl font-bold mb-4",children:"\uD83C\uDFAE Play Mode"}),t?.inQueue?(0,a.jsxs)("div",{className:"text-center",children:[a.jsx("div",{className:"size-16 animate-spin rounded-full border-4 border-[#0dccf2] border-t-transparent mx-auto mb-4"}),a.jsx("p",{className:"text-white text-lg font-bold mb-2",children:"Searching for opponent..."}),(0,a.jsxs)("p",{className:"text-white/60 text-sm mb-4",children:["Bet Amount: ₺",t.queue?.betAmount?.toFixed(2)]}),a.jsx("button",{onClick:j,className:"px-4 py-2 bg-red-500/20 text-red-400 rounded-lg hover:bg-red-500/30 transition-colors",children:"Cancel Search"})]}):(0,a.jsxs)("div",{className:"space-y-4",children:[(0,a.jsxs)("div",{children:[a.jsx("label",{className:"block text-white/70 text-sm mb-2",children:"Bet Amount"}),a.jsx("input",{type:"number",value:o,onChange:e=>x(e.target.value),placeholder:"Enter bet amount",className:"w-full h-12 px-4 bg-[#283639] text-white rounded-lg border-none focus:ring-2 focus:ring-[#0dccf2]",min:"1",step:"0.01"}),a.jsx("p",{className:"text-white/50 text-xs mt-1",children:"You'll be matched with a player with a similar bet amount"})]}),a.jsx("button",{onClick:b,disabled:m||!o||0>=parseFloat(o),className:"w-full h-12 bg-[#0dccf2] text-black rounded-lg font-bold hover:bg-[#0dccf2]/90 transition-colors disabled:opacity-50",children:m?"Joining...":"Find Opponent"})]})]})}function m({game:e,user:t,setMyGame:s,setError:r,setSuccess:i,fetchUserData:n}){let[o,x]=(0,l.useState)(!1),[m,p]=(0,l.useState)(!1),[u,h]=(0,l.useState)(!1),b=async()=>{if(!m){p(!0);try{let t=await c.mb.getGame(e._id),a=t.data?.data||t.data,l=a.game||a;s(l),"completed"===l.status&&(h(!1),await n())}catch(e){}finally{p(!1)}}};(0,l.useEffect)(()=>{if("in-progress"===e.status){let e=setInterval(()=>{b()},2e3);return()=>clearInterval(e)}"completed"===e.status&&b()},[e.status,e._id]);let g=async()=>{x(!0),h(!0),r(""),setTimeout(async()=>{try{let t=await c.mb.rollDice(e._id),a=t.data?.data||t.data;if(s(a.game||a),h(!1),a.isComplete){let t="player1"===a.winner?a.game?.players?.player1?.username||e.players?.player1?.username:a.game?.players?.player2?.username||e.players?.player2?.username;i(`Game complete! Winner: ${t}`),await n(),await b()}else i("Dice rolled! Waiting for opponent..."),await b()}catch(e){r(e.response?.data?.message||"Failed to roll dice"),h(!1)}finally{x(!1)}},2e3)},j=e.players?.player1?.user?.toString()===t?._id?.toString(),f=e.players?.player2?.user?.toString()===t?._id?.toString(),y=j?e.players?.player1?.diceRoll:e.players?.player2?.diceRoll,N=j?e.players?.player2?.diceRoll:e.players?.player1?.diceRoll,v=j?e.players?.player2?.username:e.players?.player1?.username,w=j&&!e.players?.player1?.diceRoll||f&&!e.players?.player2?.diceRoll,S=e.players?.player1?.diceRoll&&e.players?.player2?.diceRoll;return(0,a.jsxs)("div",{className:"bg-[#111718] rounded-xl border border-[#3b5054] p-6 shadow-xl",children:[(0,a.jsxs)("div",{className:"text-center mb-6",children:[(0,a.jsxs)("h2",{className:"text-white text-3xl font-black mb-2",children:["Game #",e.gameNumber]}),a.jsx("div",{className:"inline-block px-4 py-1 bg-[#0dccf2]/20 text-[#0dccf2] rounded-full text-sm font-semibold",children:"Player vs Player"})]}),a.jsx("div",{className:"flex justify-center mb-8",children:a.jsx("div",{className:"relative",children:u?a.jsx(d,{value:null,isRolling:!0,size:"xlarge"}):S?(0,a.jsxs)("div",{className:"flex items-center gap-6",children:[(0,a.jsxs)("div",{className:"text-center",children:[a.jsx("p",{className:"text-white/60 text-sm mb-2",children:"You"}),a.jsx(d,{value:y||0,isRolling:!1,size:"large"}),a.jsx("p",{className:"text-[#0dccf2] font-black text-2xl mt-2",children:y||0})]}),a.jsx("div",{className:"text-white/40 text-4xl font-black",children:"VS"}),(0,a.jsxs)("div",{className:"text-center",children:[a.jsx("p",{className:"text-white/60 text-sm mb-2",children:"Opponent"}),a.jsx(d,{value:N||0,isRolling:!1,size:"large"}),a.jsx("p",{className:"text-purple-400 font-black text-2xl mt-2",children:N||0})]})]}):y?(0,a.jsxs)("div",{className:"text-center",children:[a.jsx("p",{className:"text-white/60 text-sm mb-2",children:"Your Roll"}),a.jsx(d,{value:y,isRolling:!1,size:"xlarge"}),a.jsx("p",{className:"text-[#0dccf2] font-black text-3xl mt-4",children:y})]}):N?(0,a.jsxs)("div",{className:"text-center",children:[a.jsx("p",{className:"text-white/60 text-sm mb-2",children:"Opponent Rolled"}),a.jsx(d,{value:N,isRolling:!1,size:"xlarge"}),a.jsx("p",{className:"text-purple-400 font-black text-3xl mt-4",children:N})]}):a.jsx("div",{className:"w-40 h-40 rounded-xl bg-gradient-to-br from-gray-700 to-gray-900 border-4 border-gray-600 flex items-center justify-center",children:a.jsx("span",{className:"text-white/40 text-sm",children:"Waiting for rolls..."})})})}),(0,a.jsxs)("div",{className:"grid grid-cols-2 gap-6 mb-6",children:[(0,a.jsxs)("div",{className:"bg-gradient-to-br from-[#1b2527] to-[#0dccf2]/10 rounded-xl p-5 border-2 border-[#0dccf2]/30 shadow-lg",children:[(0,a.jsxs)("div",{className:"flex items-center gap-2 mb-3",children:[a.jsx("span",{className:"material-symbols-outlined text-[#0dccf2]",children:"person"}),a.jsx("p",{className:"text-white/60 text-sm",children:"You"})]}),a.jsx("p",{className:"text-white font-bold text-xl mb-3",children:j?e.players?.player1?.username:e.players?.player2?.username}),(0,a.jsxs)("div",{className:"space-y-2",children:[(0,a.jsxs)("div",{className:"flex justify-between items-center bg-[#0dccf2]/10 rounded-lg p-2",children:[a.jsx("span",{className:"text-white/60 text-xs",children:"Bet:"}),(0,a.jsxs)("span",{className:"text-[#0dccf2] font-bold",children:["₺",(j?e.players?.player1?.betAmount:e.players?.player2?.betAmount)?.toFixed(2)]})]}),y&&(0,a.jsxs)("div",{className:"mt-4 p-3 bg-[#0dccf2]/20 rounded-lg border border-[#0dccf2]/50",children:[a.jsx("p",{className:"text-white/60 text-xs mb-1",children:"Your Roll:"}),a.jsx("div",{className:"flex justify-center",children:a.jsx(d,{value:y,isRolling:!1,size:"medium"})}),a.jsx("p",{className:"text-[#0dccf2] text-2xl font-black text-center mt-2",children:y})]})]})]}),(0,a.jsxs)("div",{className:"bg-gradient-to-br from-[#1b2527] to-purple-500/10 rounded-xl p-5 border-2 border-purple-500/30 shadow-lg",children:[(0,a.jsxs)("div",{className:"flex items-center gap-2 mb-3",children:[a.jsx("span",{className:"material-symbols-outlined text-purple-400",children:"person_outline"}),a.jsx("p",{className:"text-white/60 text-sm",children:"Opponent"})]}),a.jsx("p",{className:"text-white font-bold text-xl mb-3",children:v}),(0,a.jsxs)("div",{className:"space-y-2",children:[(0,a.jsxs)("div",{className:"flex justify-between items-center bg-purple-500/10 rounded-lg p-2",children:[a.jsx("span",{className:"text-white/60 text-xs",children:"Bet:"}),(0,a.jsxs)("span",{className:"text-purple-400 font-bold",children:["₺",(j?e.players?.player2?.betAmount:e.players?.player1?.betAmount)?.toFixed(2)]})]}),N&&(0,a.jsxs)("div",{className:"mt-4 p-3 bg-purple-500/20 rounded-lg border border-purple-500/50",children:[a.jsx("p",{className:"text-white/60 text-xs mb-1",children:"Opponent Roll:"}),a.jsx("div",{className:"flex justify-center",children:a.jsx(d,{value:N,isRolling:!1,size:"medium"})}),a.jsx("p",{className:"text-purple-400 text-2xl font-black text-center mt-2",children:N})]})]})]})]}),"completed"===e.status&&e.selectedWinner&&(0,a.jsxs)("div",{className:"bg-green-500/20 border border-green-500/50 rounded-lg p-4 mb-4",children:[(0,a.jsxs)("p",{className:"text-green-400 font-bold text-lg text-center",children:["Winner: ","player1"===e.selectedWinner?e.players?.player1?.username:e.players?.player2?.username]}),j&&"player1"===e.selectedWinner||f&&"player2"===e.selectedWinner?a.jsx("p",{className:"text-green-400 text-center mt-2",children:"\uD83C\uDF89 You won!"}):a.jsx("p",{className:"text-red-400 text-center mt-2",children:"You lost"})]}),"in-progress"===e.status&&w&&a.jsx("button",{onClick:g,disabled:o||u,className:"w-full h-14 bg-gradient-to-r from-[#0dccf2] to-[#0bb5d9] text-black rounded-xl font-black text-lg hover:from-[#0bb5d9] hover:to-[#0dccf2] transition-all transform hover:scale-105 shadow-lg shadow-[#0dccf2]/50 disabled:opacity-50 disabled:transform-none disabled:shadow-none disabled:cursor-not-allowed flex items-center justify-center gap-2",children:o||u?(0,a.jsxs)(a.Fragment,{children:[a.jsx(d,{value:null,isRolling:!0,size:"small"}),a.jsx("span",{children:"Rolling Dice..."})]}):(0,a.jsxs)(a.Fragment,{children:[a.jsx("span",{className:"material-symbols-outlined",children:"casino"}),a.jsx("span",{children:"Roll Dice"})]})}),"in-progress"===e.status&&!w&&!S&&(0,a.jsxs)("div",{className:"text-center p-6 bg-[#1b2527] rounded-xl border border-[#3b5054]",children:[a.jsx("div",{className:"size-12 animate-spin rounded-full border-4 border-purple-500 border-t-transparent mx-auto mb-3"}),a.jsx("p",{className:"text-white font-semibold mb-1",children:N?"Opponent has rolled! Waiting for results...":"Waiting for opponent to roll..."}),a.jsx("p",{className:"text-white/60 text-sm",children:y?`Your roll: ${y}`:"Your turn will come next!"})]}),"in-progress"===e.status&&S&&(0,a.jsxs)("div",{className:"text-center p-6 bg-gradient-to-br from-green-500/20 to-[#1b2527] rounded-xl border-2 border-green-500/50",children:[(0,a.jsxs)("div",{className:"flex items-center justify-center gap-2 mb-2",children:[a.jsx("span",{className:"material-symbols-outlined text-green-400 text-2xl",children:"hourglass_empty"}),a.jsx("p",{className:"text-white font-bold text-lg",children:"Both players have rolled!"})]}),a.jsx("p",{className:"text-white/60 text-sm",children:"Calculating winner..."})]})]})}let p=function(){let{t:e}=(0,n.$)(),t=(0,r.useRouter)(),[s,p]=(0,l.useState)(null),[u,h]=(0,l.useState)(null),[b,g]=(0,l.useState)(0),[j,f]=(0,l.useState)(!0),[y,N]=(0,l.useState)(!1),[v,w]=(0,l.useState)(""),[S,k]=(0,l.useState)(""),[P,B]=(0,l.useState)(""),[F,A]=(0,l.useState)(null),[R,_]=(0,l.useState)([]),[q,M]=(0,l.useState)([]),[C,D]=(0,l.useState)(null),[W,E]=(0,l.useState)([]),[$,G]=(0,l.useState)([]),[z,I]=(0,l.useState)(null),[O,T]=(0,l.useState)(null),[Y,Q]=(0,l.useState)(null),[L,V]=(0,l.useState)(null);(0,l.useEffect)(()=>{Z(),H(),J(),X(),U();let e=setInterval(()=>{y||H(),U()},3e3);return D(e),()=>{e&&clearInterval(e)}},[]);let U=async()=>{try{let e=await c.mb.getMatchmakingStatus(),t=e.data?.data||e.data;t.matched&&t.game&&(Q(t.game),I("play"),await Z())}catch(e){}},Z=async()=>{try{let e=await c.kv.me();h(e.data),g(e.data.balance||0)}catch(e){e.response?.status===401?t.push("/auth/login"):o.cM.apiError("/auth/me",e)}},H=async()=>{try{let e=(await c.mb.getActiveGame()).data,t=e?.data?.game||e?.game||null;if(t){let s=e?.data?.betStats||e?.betStats,a=e?.data?.bets||[];p({...t,betStats:s});let l=a.slice(0,20).map(e=>({id:e._id,username:e.user?.username||"Anonymous",amount:e.betAmount,option:e.selectedOption,time:new Date(e.createdAt)}));E(l);let r=new Map;a.forEach(e=>{let t=e.user?.username||"Anonymous";r.has(t)||r.set(t,{username:t,player1Bets:0,player2Bets:0,totalAmount:0});let s=r.get(t);"player1"===e.selectedOption?s.player1Bets++:s.player2Bets++,s.totalAmount+=e.betAmount}),G(Array.from(r.values()))}else p(null),E([]),G([])}catch(e){e.response?.status!==404&&o.cM.apiError("/dice-roll-games/active",e),p(null),E([]),G([])}finally{f(!1)}},J=async()=>{try{let e=await c.mb.getAllGames({status:"completed",limit:10}),t=e.data?.data||e.data;_(t?.games||[])}catch(e){o.cM.apiError("/dice-roll-games",e)}},X=async()=>{try{let e=await c.Yu.getMyBets({limit:10}),t=e.data?.data||e.data;M(t?.bets||[])}catch(e){o.cM.apiError("/dice-roll-bets/my-bets",e)}},K=e=>{B(e)},ee=async()=>{if(!s){w("No active game available");return}if(!F){w("Please select Player 1 or Player 2");return}if(!P||0>=parseFloat(P)){w("Please enter a valid bet amount");return}let e=parseFloat(P);if(e>b){w("Insufficient balance");return}N(!0),w(""),k("");try{let t=await c.mb.placeBet(s._id,{selectedOption:F,betAmount:e});k("Bet placed successfully!"),B(""),A(null);let a=t.data?.data||t.data;a?.userBalance!==void 0&&g(a.userBalance),await Promise.all([H(),X(),Z()])}catch(e){w(e.response?.data?.message||"Failed to place bet"),o.cM.apiError("/dice-roll-bets",e)}finally{N(!1)}},et=e=>{switch(e){case"accepting-bets":return"bg-green-500/20 text-green-400";case"closed":return"bg-yellow-500/20 text-yellow-400";case"completed":return"bg-blue-500/20 text-blue-400";default:return"bg-gray-500/20 text-gray-400"}};return a.jsx(i.Z,{children:a.jsx("div",{className:"relative flex min-h-screen w-full flex-col bg-[#151328]",children:a.jsx("main",{className:"flex-1 px-4 sm:px-6 lg:px-8 py-8",children:(0,a.jsxs)("div",{className:"max-w-7xl mx-auto",children:[a.jsx("div",{className:"mb-8 text-center lg:text-left",children:(0,a.jsxs)("div",{className:"flex items-center justify-center lg:justify-start gap-4 mb-4",children:[(0,a.jsxs)("div",{className:"relative",children:[a.jsx(d,{value:null,isRolling:!0,size:"medium"}),a.jsx("div",{className:"absolute inset-0 bg-[#0dccf2] opacity-20 blur-2xl rounded-full"})]}),(0,a.jsxs)("div",{children:[a.jsx("h1",{className:"text-white text-5xl font-black mb-2 bg-gradient-to-r from-[#0dccf2] to-white bg-clip-text text-transparent",children:"Dice Roll"}),a.jsx("p",{className:"text-white/60 text-base",children:"Play against other players or place bets on matches!"})]})]})}),!z&&!Y&&(0,a.jsxs)("div",{className:"mb-8 grid grid-cols-1 md:grid-cols-2 gap-6",children:[(0,a.jsxs)("button",{onClick:()=>I("play"),className:"group relative bg-gradient-to-br from-[#111718] to-[#0dccf2]/10 rounded-2xl border-2 border-[#0dccf2] p-8 hover:border-[#0dccf2] hover:shadow-2xl hover:shadow-[#0dccf2]/30 transition-all transform hover:scale-105 overflow-hidden",children:[a.jsx("div",{className:"absolute inset-0 bg-gradient-to-br from-[#0dccf2]/0 to-[#0dccf2]/10 opacity-0 group-hover:opacity-100 transition-opacity"}),(0,a.jsxs)("div",{className:"relative z-10",children:[(0,a.jsxs)("div",{className:"flex items-center gap-4 mb-4",children:[a.jsx("div",{className:"p-3 bg-[#0dccf2]/20 rounded-xl",children:a.jsx("span",{className:"material-symbols-outlined text-5xl text-[#0dccf2]",children:"person"})}),a.jsx("h2",{className:"text-white text-3xl font-black",children:"Play"})]}),a.jsx("p",{className:"text-white/70 text-base leading-relaxed",children:"Match with another player and roll dice. Winner takes all the pot!"}),(0,a.jsxs)("div",{className:"mt-4 flex items-center gap-2 text-[#0dccf2] text-sm font-semibold",children:[a.jsx("span",{children:"Start Playing"}),a.jsx("span",{className:"material-symbols-outlined group-hover:translate-x-1 transition-transform",children:"arrow_forward"})]})]})]}),(0,a.jsxs)("button",{onClick:()=>I("bet"),className:"group relative bg-gradient-to-br from-[#111718] to-purple-500/10 rounded-2xl border-2 border-purple-500 p-8 hover:border-purple-400 hover:shadow-2xl hover:shadow-purple-500/30 transition-all transform hover:scale-105 overflow-hidden",children:[a.jsx("div",{className:"absolute inset-0 bg-gradient-to-br from-purple-500/0 to-purple-500/10 opacity-0 group-hover:opacity-100 transition-opacity"}),(0,a.jsxs)("div",{className:"relative z-10",children:[(0,a.jsxs)("div",{className:"flex items-center gap-4 mb-4",children:[a.jsx("div",{className:"p-3 bg-purple-500/20 rounded-xl",children:a.jsx("span",{className:"material-symbols-outlined text-5xl text-purple-400",children:"casino"})}),a.jsx("h2",{className:"text-white text-3xl font-black",children:"Place Bet"})]}),a.jsx("p",{className:"text-white/70 text-base leading-relaxed",children:"Bet on existing matches and watch the action unfold in real-time!"}),(0,a.jsxs)("div",{className:"mt-4 flex items-center gap-2 text-purple-400 text-sm font-semibold",children:[a.jsx("span",{children:"View Matches"}),a.jsx("span",{className:"material-symbols-outlined group-hover:translate-x-1 transition-transform",children:"arrow_forward"})]})]})]})]}),(z||Y)&&(0,a.jsxs)("button",{onClick:()=>{I(null),Q(null),T(null)},className:"mb-4 flex items-center gap-2 text-white/60 hover:text-white transition-colors",children:[a.jsx("span",{className:"material-symbols-outlined",children:"arrow_back"}),a.jsx("span",{children:"Back to Options"})]}),a.jsx("div",{className:"mb-6 bg-[#111718] rounded-xl border border-[#3b5054] p-4",children:(0,a.jsxs)("div",{className:"flex items-center justify-between",children:[(0,a.jsxs)("div",{children:[a.jsx("p",{className:"text-white/60 text-sm",children:"Your Balance"}),(0,a.jsxs)("p",{className:"text-white text-2xl font-bold",children:["₺",b.toFixed(2)]})]}),a.jsx("button",{onClick:()=>t.push("/deposit"),className:"px-4 py-2 bg-[#0dccf2] text-black rounded-lg font-bold hover:bg-[#0dccf2]/90 transition-colors",children:"Deposit"})]})}),"play"===z&&!Y&&a.jsx("div",{className:"mb-6",children:a.jsx(x,{balance:b,matchmakingStatus:O,setMatchmakingStatus:T,setMyGame:Q,setError:w,setSuccess:k,fetchUserData:Z})}),Y&&a.jsx("div",{className:"mb-6",children:a.jsx(m,{game:Y,user:u,setMyGame:Q,setError:w,setSuccess:k,fetchUserData:Z})}),"bet"===z&&(0,a.jsxs)("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-6",children:[a.jsx("div",{className:"lg:col-span-2",children:j?(0,a.jsxs)("div",{className:"bg-[#111718] rounded-xl border border-[#3b5054] p-8 text-center",children:[a.jsx("div",{className:"size-8 animate-spin rounded-full border-4 border-[#0dccf2] border-t-transparent mx-auto"}),a.jsx("p",{className:"text-white/60 mt-4",children:"Loading game..."})]}):s?(0,a.jsxs)("div",{className:"space-y-6",children:[(0,a.jsxs)("div",{className:"bg-[#111718] rounded-xl border border-[#3b5054] overflow-hidden",children:[a.jsx("div",{className:"bg-[#1b2527] px-6 py-4 border-b border-[#3b5054]",children:(0,a.jsxs)("div",{className:"flex items-center justify-between",children:[(0,a.jsxs)("div",{children:[(0,a.jsxs)("h2",{className:"text-white text-xl font-bold",children:["Game #",s.gameNumber]}),a.jsx("span",{className:`inline-block px-3 py-1 rounded-full text-xs font-semibold mt-2 ${et(s.status)}`,children:"accepting-bets"===s.status?"Accepting Bets":s.status})]}),(0,a.jsxs)("div",{className:"text-right",children:[a.jsx("p",{className:"text-white/60 text-sm",children:"Total Bets"}),a.jsx("p",{className:"text-white text-lg font-bold",children:s.totalBets||0})]})]})}),(0,a.jsxs)("div",{className:"p-6",children:[(0,a.jsxs)("div",{className:"grid grid-cols-2 gap-4 mb-6",children:[(0,a.jsxs)("div",{className:`rounded-lg border-2 p-4 cursor-pointer transition-all ${"player1"===F?"bg-[#0dccf2]/20 border-[#0dccf2]":"bg-[#1b2527] border-[#3b5054] hover:border-[#0dccf2]/50"}`,onClick:()=>"accepting-bets"===s.status&&A("player1"),children:[(0,a.jsxs)("div",{className:"flex items-center justify-between mb-3",children:[a.jsx("h3",{className:"text-white font-bold text-lg",children:s.options?.player1?.name||"Player 1"}),"player1"===F&&a.jsx("span",{className:"material-symbols-outlined text-[#0dccf2]",children:"check_circle"})]}),(0,a.jsxs)("div",{className:"space-y-2",children:[(0,a.jsxs)("div",{className:"flex justify-between text-sm",children:[a.jsx("span",{className:"text-white/60",children:"Dice Range:"}),a.jsx("span",{className:"text-white font-semibold",children:"1-3"})]}),(0,a.jsxs)("div",{className:"flex justify-between text-sm",children:[a.jsx("span",{className:"text-white/60",children:"Bets:"}),a.jsx("span",{className:"text-white font-semibold",children:s.options?.player1?.betCount||0})]}),(0,a.jsxs)("div",{className:"flex justify-between text-sm",children:[a.jsx("span",{className:"text-white/60",children:"Total:"}),(0,a.jsxs)("span",{className:"text-white font-semibold",children:["₺",(s.options?.player1?.totalBetAmount||0).toFixed(2)]})]})]})]}),(0,a.jsxs)("div",{className:`rounded-xl border-2 p-5 cursor-pointer transition-all transform hover:scale-105 ${"player2"===F?"bg-purple-500/20 border-purple-500 shadow-lg shadow-purple-500/30":"bg-[#1b2527] border-[#3b5054] hover:border-purple-500/50"}`,onClick:()=>"accepting-bets"===s.status&&A("player2"),children:[(0,a.jsxs)("div",{className:"flex items-center justify-between mb-3",children:[(0,a.jsxs)("h3",{className:"text-white font-bold text-lg flex items-center gap-2",children:[a.jsx("span",{className:"material-symbols-outlined text-purple-400",children:"person_outline"}),s.options?.player2?.name||"Player 2"]}),"player2"===F&&a.jsx("span",{className:"material-symbols-outlined text-purple-400 animate-pulse",children:"check_circle"})]}),(0,a.jsxs)("div",{className:"space-y-2",children:[(0,a.jsxs)("div",{className:"flex items-center justify-between text-sm bg-purple-500/10 rounded-lg p-2",children:[a.jsx("span",{className:"text-white/60",children:"Dice Range:"}),a.jsx("span",{className:"text-purple-400 font-bold",children:"4-6"})]}),(0,a.jsxs)("div",{className:"flex justify-between text-sm",children:[a.jsx("span",{className:"text-white/60",children:"Bets:"}),a.jsx("span",{className:"text-white font-semibold",children:s.options?.player2?.betCount||0})]}),(0,a.jsxs)("div",{className:"flex justify-between text-sm",children:[a.jsx("span",{className:"text-white/60",children:"Total:"}),(0,a.jsxs)("span",{className:"text-purple-400 font-bold",children:["₺",(s.options?.player2?.totalBetAmount||0).toFixed(2)]})]})]})]})]}),"accepting-bets"===s.status&&(0,a.jsxs)("div",{className:"bg-[#1b2527] rounded-lg p-4 border border-[#3b5054]",children:[a.jsx("p",{className:"text-white/60 text-sm mb-3",children:"Bet Amount"}),a.jsx("div",{className:"flex gap-2 mb-4 flex-wrap",children:["10","50","100","500","1000"].map(e=>(0,a.jsxs)("button",{onClick:()=>K(e),className:`px-4 py-2 rounded-lg text-sm font-semibold transition-colors ${P===e?"bg-[#0dccf2] text-black":"bg-[#283639] text-white hover:bg-[#3b5054]"}`,children:["₺",e]},e))}),a.jsx("div",{className:"mb-4",children:a.jsx("input",{type:"number",value:P,onChange:e=>B(e.target.value),placeholder:"Enter custom amount",className:"w-full h-12 px-4 bg-[#283639] text-white rounded-lg border-none focus:ring-2 focus:ring-[#0dccf2]",min:"1",step:"0.01"})}),a.jsx("button",{onClick:ee,disabled:y||!F||!P||0>=parseFloat(P),className:"w-full h-12 bg-[#0dccf2] text-black rounded-lg font-bold hover:bg-[#0dccf2]/90 transition-colors disabled:opacity-50 disabled:cursor-not-allowed",children:y?"Placing Bet...":`Place Bet on ${"player1"===F?s.options?.player1?.name:s.options?.player2?.name}`}),P&&F&&a.jsx("div",{className:"mt-4 p-3 bg-[#0dccf2]/10 rounded-lg border border-[#0dccf2]/30",children:(0,a.jsxs)("div",{className:"flex justify-between text-sm",children:[a.jsx("span",{className:"text-white/60",children:"Potential Win:"}),(0,a.jsxs)("span",{className:"text-[#0dccf2] font-bold",children:["₺",(parseFloat(P)*(s.payoutMultiplier||2)).toFixed(2)]})]})})]}),"completed"===s.status&&s.selectedWinner&&(0,a.jsxs)("div",{className:"mt-6 p-6 bg-gradient-to-br from-green-500/20 to-[#1b2527] rounded-xl border-2 border-green-500/50 shadow-lg",children:[(0,a.jsxs)("div",{className:"flex items-center justify-center gap-4 mb-4",children:[a.jsx("span",{className:"material-symbols-outlined text-green-400 text-4xl",children:"emoji_events"}),(0,a.jsxs)("div",{children:[a.jsx("p",{className:"text-white/60 text-sm mb-1",children:"Game Result"}),(0,a.jsxs)("p",{className:"text-white font-black text-2xl",children:["Winner: ","player1"===s.selectedWinner?s.options?.player1?.name:s.options?.player2?.name]})]})]}),s.diceResult&&(0,a.jsxs)("div",{className:"flex items-center justify-center gap-3",children:[a.jsx(d,{value:s.diceResult,isRolling:!1,size:"medium"}),(0,a.jsxs)("span",{className:"text-[#0dccf2] font-bold text-xl",children:["Dice: ",s.diceResult]})]})]})]})]}),v&&a.jsx("div",{className:"bg-red-500/20 border border-red-500/50 rounded-lg p-4",children:a.jsx("p",{className:"text-red-400 text-sm",children:v})}),S&&a.jsx("div",{className:"bg-green-500/20 border border-green-500/50 rounded-lg p-4",children:a.jsx("p",{className:"text-green-400 text-sm",children:S})})]}):(0,a.jsxs)("div",{className:"bg-[#111718] rounded-xl border border-[#3b5054] p-8 text-center",children:[a.jsx("span",{className:"material-symbols-outlined text-6xl text-white/40 mb-4",children:"casino"}),a.jsx("p",{className:"text-white text-xl font-bold mb-2",children:"No Active Game"}),a.jsx("p",{className:"text-white/60",children:"Wait for admin to create a new game"})]})}),(0,a.jsxs)("div",{className:"lg:col-span-1 space-y-6",children:[s&&(0,a.jsxs)(a.Fragment,{children:[(0,a.jsxs)("div",{className:"bg-[#111718] rounded-xl border border-[#3b5054] overflow-hidden",children:[(0,a.jsxs)("div",{className:"bg-[#1b2527] px-4 py-3 border-b border-[#3b5054]",children:[(0,a.jsxs)("div",{className:"flex items-center gap-2",children:[a.jsx("div",{className:"h-2 w-2 bg-red-500 rounded-full animate-pulse"}),a.jsx("h3",{className:"text-white font-bold text-lg",children:"LIVE MATCH"})]}),(0,a.jsxs)("p",{className:"text-white/60 text-xs mt-1",children:["Game #",s.gameNumber]})]}),(0,a.jsxs)("div",{className:"p-4",children:[(0,a.jsxs)("div",{className:"flex items-center justify-between mb-4",children:[(0,a.jsxs)("div",{className:"text-center flex-1",children:[a.jsx("p",{className:"text-white/60 text-xs mb-1",children:"Player 1"}),a.jsx("p",{className:"text-white font-bold text-lg",children:s.options?.player1?.name||"Player 1"}),(0,a.jsxs)("p",{className:"text-[#0dccf2] text-sm mt-1",children:[s.betStats?.player1Bets||0," bets • ₺",(s.betStats?.player1Total||0).toFixed(2)]})]}),a.jsx("div",{className:"px-4 text-white/40",children:"VS"}),(0,a.jsxs)("div",{className:"text-center flex-1",children:[a.jsx("p",{className:"text-white/60 text-xs mb-1",children:"Player 2"}),a.jsx("p",{className:"text-white font-bold text-lg",children:s.options?.player2?.name||"Player 2"}),(0,a.jsxs)("p",{className:"text-[#0dccf2] text-sm mt-1",children:[s.betStats?.player2Bets||0," bets • ₺",(s.betStats?.player2Total||0).toFixed(2)]})]})]}),(0,a.jsxs)("div",{className:"bg-[#1b2527] rounded-lg p-3 mt-4",children:[(0,a.jsxs)("div",{className:"flex justify-between text-sm mb-2",children:[a.jsx("span",{className:"text-white/60",children:"Total Bets:"}),a.jsx("span",{className:"text-white font-bold",children:s.totalBets||0})]}),(0,a.jsxs)("div",{className:"flex justify-between text-sm",children:[a.jsx("span",{className:"text-white/60",children:"Total Amount:"}),(0,a.jsxs)("span",{className:"text-white font-bold",children:["₺",(s.totalBetAmount||0).toFixed(2)]})]})]})]})]}),(0,a.jsxs)("div",{className:"bg-[#111718] rounded-xl border border-[#3b5054] overflow-hidden",children:[(0,a.jsxs)("div",{className:"bg-[#1b2527] px-4 py-3 border-b border-[#3b5054]",children:[a.jsx("h3",{className:"text-white font-bold",children:"\uD83C\uDFAE Live Players"}),(0,a.jsxs)("p",{className:"text-white/60 text-xs mt-1",children:[$.length," players betting"]})]}),a.jsx("div",{className:"p-4 max-h-[300px] overflow-y-auto",children:0===$.length?a.jsx("p",{className:"text-white/60 text-sm text-center py-4",children:"No players yet"}):a.jsx("div",{className:"space-y-2",children:$.map((e,t)=>(0,a.jsxs)("div",{className:"bg-[#1b2527] rounded-lg p-3 border border-[#3b5054]",children:[(0,a.jsxs)("div",{className:"flex items-center justify-between mb-2",children:[(0,a.jsxs)("div",{className:"flex items-center gap-2",children:[a.jsx("div",{className:"h-2 w-2 bg-green-500 rounded-full"}),a.jsx("span",{className:"text-white font-semibold text-sm",children:e.username})]}),(0,a.jsxs)("span",{className:"text-white/60 text-xs",children:["₺",e.totalAmount.toFixed(2)]})]}),(0,a.jsxs)("div",{className:"flex gap-2 text-xs",children:[e.player1Bets>0&&(0,a.jsxs)("span",{className:"bg-[#0dccf2]/20 text-[#0dccf2] px-2 py-1 rounded",children:["P1: ",e.player1Bets]}),e.player2Bets>0&&(0,a.jsxs)("span",{className:"bg-purple-500/20 text-purple-400 px-2 py-1 rounded",children:["P2: ",e.player2Bets]})]})]},t))})})]}),(0,a.jsxs)("div",{className:"bg-[#111718] rounded-xl border border-[#3b5054] overflow-hidden",children:[(0,a.jsxs)("div",{className:"bg-[#1b2527] px-4 py-3 border-b border-[#3b5054]",children:[a.jsx("h3",{className:"text-white font-bold",children:"⚡ Live Bet Feed"}),a.jsx("p",{className:"text-white/60 text-xs mt-1",children:"Recent bets in real-time"})]}),a.jsx("div",{className:"p-4 max-h-[300px] overflow-y-auto",children:0===W.length?a.jsx("p",{className:"text-white/60 text-sm text-center py-4",children:"No bets yet"}):a.jsx("div",{className:"space-y-2",children:W.map(e=>a.jsx("div",{className:"bg-[#1b2527] rounded-lg p-3 border border-[#3b5054]",children:(0,a.jsxs)("div",{className:"flex items-center justify-between",children:[(0,a.jsxs)("div",{className:"flex items-center gap-2",children:[a.jsx("span",{className:"material-symbols-outlined text-[#0dccf2] text-sm",children:"player1"===e.option?"person":"person_outline"}),a.jsx("span",{className:"text-white font-semibold text-sm",children:e.username}),a.jsx("span",{className:`text-xs px-2 py-0.5 rounded ${"player1"===e.option?"bg-[#0dccf2]/20 text-[#0dccf2]":"bg-purple-500/20 text-purple-400"}`,children:"player1"===e.option?"P1":"P2"})]}),(0,a.jsxs)("div",{className:"text-right",children:[(0,a.jsxs)("span",{className:"text-white font-bold text-sm",children:["₺",e.amount.toFixed(2)]}),a.jsx("p",{className:"text-white/40 text-xs",children:e.time.toLocaleTimeString("en-US",{hour:"2-digit",minute:"2-digit"})})]})]})},e.id))})})]})]}),R.length>0&&(0,a.jsxs)("div",{className:"bg-[#111718] rounded-xl border border-[#3b5054] overflow-hidden",children:[a.jsx("div",{className:"bg-[#1b2527] px-4 py-3 border-b border-[#3b5054]",children:a.jsx("h3",{className:"text-white font-bold",children:"\uD83D\uDCDC Recent Games"})}),a.jsx("div",{className:"p-4 max-h-[300px] overflow-y-auto",children:a.jsx("div",{className:"space-y-2",children:R.slice(0,5).map(e=>(0,a.jsxs)("div",{className:"bg-[#1b2527] rounded-lg p-3 border border-[#3b5054]",children:[(0,a.jsxs)("div",{className:"flex items-center justify-between mb-2",children:[(0,a.jsxs)("span",{className:"text-white font-semibold text-sm",children:["Game #",e.gameNumber]}),a.jsx("span",{className:`px-2 py-1 rounded text-xs ${et(e.status)}`,children:e.status})]}),e.winner&&(0,a.jsxs)("p",{className:"text-white/60 text-xs",children:["Winner: ","player1"===e.winner?"Player 1":"Player 2",e.winningRoll&&` (${e.winningRoll})`]})]},e._id))})})]}),(0,a.jsxs)("div",{className:"bg-[#111718] rounded-xl border border-[#3b5054] overflow-hidden",children:[a.jsx("div",{className:"bg-[#1b2527] px-4 py-3 border-b border-[#3b5054]",children:a.jsx("h3",{className:"text-white font-bold",children:"\uD83D\uDCB0 My Bets"})}),a.jsx("div",{className:"p-4 max-h-[300px] overflow-y-auto",children:0===q.length?a.jsx("p",{className:"text-white/60 text-sm text-center py-4",children:"No bets yet"}):a.jsx("div",{className:"space-y-2",children:q.map(e=>(0,a.jsxs)("div",{className:"bg-[#1b2527] rounded-lg p-3 border border-[#3b5054]",children:[(0,a.jsxs)("div",{className:"flex justify-between items-start mb-2",children:[(0,a.jsxs)("span",{className:"text-white font-semibold text-sm",children:["Game #",e.gameNumber]}),a.jsx("span",{className:`px-2 py-1 rounded text-xs ${"won"===e.status?"bg-green-500/20 text-green-400":"lost"===e.status?"bg-red-500/20 text-red-400":"bg-yellow-500/20 text-yellow-400"}`,children:e.status})]}),(0,a.jsxs)("div",{className:"space-y-1",children:[(0,a.jsxs)("p",{className:"text-white/60 text-xs",children:["Bet: ₺",e.betAmount.toFixed(2)," on ","player1"===e.selectedOption?"Player 1":"Player 2"]}),e.winAmount>0&&(0,a.jsxs)("p",{className:"text-green-400 text-xs font-semibold",children:["Win: ₺",e.winAmount.toFixed(2)]})]})]},e._id))})})]})]})]})]})})})})}},37249:(e,t,s)=>{"use strict";s.d(t,{Z:()=>d});var a=s(95344),l=s(3729),r=s(22254),i=s(2324),n=s(89873);function d({children:e,requiredRole:t=null,allowedRoles:s=null}){let d=(0,r.useRouter)(),[c,o]=(0,l.useState)(!1),[x,m]=(0,l.useState)(!0);return((0,l.useEffect)(()=>{(()=>{if(!(0,i.$8)()){d.push("/auth/login");return}let e=(0,i.ts)();if(!e){d.push("/auth/login");return}if(t&&e.role!==t||s&&!s.includes(e.role)){d.push((0,i.My)(e.role));return}o(!0),m(!1)})()},[d,t,s]),x)?a.jsx("div",{className:"flex min-h-screen items-center justify-center bg-background-dark",children:(0,a.jsxs)("div",{className:"text-center",children:[a.jsx("div",{className:"mb-4 inline-block h-8 w-8 animate-spin rounded-full border-4 border-solid border-primary border-r-transparent"}),a.jsx("p",{className:"text-white",children:"Loading..."})]})}):c?(0,a.jsxs)(a.Fragment,{children:[a.jsx(n.Z,{}),e]}):null}},38374:(e,t,s)=>{"use strict";s.r(t),s.d(t,{$$typeof:()=>r,__esModule:()=>l,default:()=>i});let a=(0,s(86843).createProxy)(String.raw`W:\garbet\Frontend\app\dice-roll\page.js`),{__esModule:l,$$typeof:r}=a,i=a.default}};var t=require("../../webpack-runtime.js");t.C(e);var s=e=>t(t.s=e),a=t.X(0,[1263,9069,8679,9873],()=>s(85212));module.exports=a})();