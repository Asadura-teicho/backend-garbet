(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[9091],{90154:function(e,t,o){Promise.resolve().then(o.bind(o,86860))},86860:function(e,t,o){"use strict";o.r(t),o.d(t,{default:function(){return d}});var a=o(57437),s=o(2265);o(61396);var l=o(24033),i=o(60473),r=o(96299),n=o(80379),c=o(24215);function d(){let{t:e}=(0,r.$)(),t=(0,l.useRouter)(),[o,d]=(0,s.useState)(e("promotions.all")),[m,x]=(0,s.useState)(1),[h,p]=(0,s.useState)([]),[u,g]=(0,s.useState)(!0),[f,b]=(0,s.useState)(""),[v,j]=(0,s.useState)(1),[w,y]=(0,s.useState)(0),[N,k]=(0,s.useState)(null);(0,s.useEffect)(()=>{C()},[o,m]);let C=async()=>{g(!0),b("");try{let t=null;o===e("promotions.casino")?t="deposit":o===e("promotions.sports")?t="welcome":o===e("promotions.welcomeBonus")?t="welcome":o===e("promotions.cashback")?t="cashback":o===e("promotions.reload")&&(t="reload");let a={page:m,limit:12};t&&o!==e("promotions.all")&&(a.type=t);let s=await n.C.getActivePromotions(a);p(s.data.promotions||[]),j(s.data.totalPages||1),y(s.data.total||0)}catch(e){var t,a;console.error("Error fetching promotions:",e),b((null===(a=e.response)||void 0===a?void 0:null===(t=a.data)||void 0===t?void 0:t.message)||"Failed to load promotions"),c.cM.apiError("/promotions",e)}finally{g(!1)}},_=async e=>{k(e),b("");try{await n.C.claimPromotion(e),await C()}catch(e){var t,o;b((null===(o=e.response)||void 0===o?void 0:null===(t=o.data)||void 0===t?void 0:t.message)||"Failed to claim promotion"),c.cM.apiError("/promotions/claim",e)}finally{k(null)}},S=h.map(t=>{let o={welcome:"Welcome",deposit:"Deposit",cashback:"Cashback",reload:"Reload",free_spins:"Spins",tournament:"Tournament",other:"Other"}[t.type]||"Other",a=t.canClaim&&!t.hasClaimed,s=a?e("promotions.claim"):t.hasClaimed?e("promotions.claimed"):e("promotions.viewDetails");return{...t,id:t._id,category:o,categoryColor:({Welcome:"bg-blue-500/80",Deposit:"bg-purple-500/80",Cashback:"bg-teal-500/80",Reload:"bg-purple-500/80",Spins:"bg-green-500/80",Tournament:"bg-red-500/80",Other:"bg-gray-500/80"})[o]||"bg-gray-500/80",buttonText:s,buttonStyle:a?"bg-primary text-background-dark hover:bg-yellow-400":"bg-primary/20 text-primary hover:bg-primary/30",image:t.bannerImage||"https://images.unsplash.com/photo-1571019613454-1cb2f99b2d8b?w=800&h=600&fit=crop"}}),E=[e("promotions.all"),e("promotions.casino"),e("promotions.sports"),e("promotions.welcomeBonus"),e("promotions.cashback"),e("promotions.reload")];return(0,a.jsxs)("div",{className:"relative flex min-h-screen w-full flex-col group/design-root overflow-x-hidden",children:[(0,a.jsx)(i.Z,{}),(0,a.jsx)("div",{className:"layout-container flex h-full grow flex-col",children:(0,a.jsx)("main",{className:"flex-1 px-4 py-8 md:px-8 lg:px-16 xl:px-24",children:(0,a.jsxs)("div",{className:"mx-auto flex max-w-7xl flex-col gap-8",children:[(0,a.jsx)("div",{className:"flex flex-wrap items-center justify-between gap-4",children:(0,a.jsx)("h1",{className:"text-white text-4xl md:text-5xl font-black leading-tight tracking-[-0.033em]",children:"Promotions"})}),(0,a.jsx)("div",{className:"flex flex-wrap gap-2",children:E.map(e=>(0,a.jsx)("button",{onClick:()=>d(e),className:"flex h-10 cursor-pointer shrink-0 items-center justify-center gap-x-2 rounded-lg px-4 transition-colors ".concat(o===e?"bg-primary text-background-dark":"bg-[#2a2a2a] hover:bg-[#3a3a3a] text-white/80 hover:text-white"),children:(0,a.jsx)("p",{className:"text-sm leading-normal ".concat(o===e?"font-bold":"font-medium"),children:e})},e))}),f&&(0,a.jsx)("div",{className:"rounded-lg bg-red-500/20 border border-red-500/50 p-4",children:(0,a.jsx)("p",{className:"text-sm text-red-400",children:f})}),u?(0,a.jsx)("div",{className:"flex items-center justify-center py-12",children:(0,a.jsx)("p",{className:"text-white/70",children:"Loading promotions..."})}):0===S.length?(0,a.jsx)("div",{className:"flex items-center justify-center py-12",children:(0,a.jsx)("p",{className:"text-white/70",children:"No promotions available"})}):(0,a.jsx)("div",{className:"grid grid-cols-1 gap-6 sm:grid-cols-2 lg:grid-cols-3",children:S.map(e=>(0,a.jsxs)("div",{className:"flex flex-col gap-4 overflow-hidden rounded-xl bg-[#1A1A1A] p-4 shadow-lg shadow-black/20 transition-transform hover:scale-[1.02]",children:[(0,a.jsxs)("div",{className:"relative w-full",children:[(0,a.jsx)("div",{className:"w-full bg-center bg-no-repeat aspect-video bg-cover rounded-lg",style:{backgroundImage:'url("'.concat(e.image,'")')}}),(0,a.jsx)("div",{className:"absolute top-3 left-3 rounded-md ".concat(e.categoryColor," px-2.5 py-1 text-xs font-bold uppercase text-white backdrop-blur-sm"),children:e.category})]}),(0,a.jsxs)("div",{className:"flex flex-col gap-3",children:[(0,a.jsx)("h3",{className:"text-white text-xl font-bold leading-normal",children:e.title}),(0,a.jsx)("p",{className:"text-white/70 text-sm font-normal leading-normal",children:e.description}),(0,a.jsx)("button",{onClick:()=>{e.canClaim?_(e._id):t.push("/promotions/".concat(e._id))},disabled:N===e._id,className:"mt-2 flex w-full cursor-pointer items-center justify-center overflow-hidden rounded-lg h-11 px-4 text-sm font-bold leading-normal tracking-[0.015em] transition-colors ".concat(e.buttonStyle," disabled:opacity-50"),children:(0,a.jsx)("span",{className:"truncate",children:N===e._id?"Claiming...":e.buttonText})})]})]},e.id))}),v>1&&(0,a.jsx)("div",{className:"flex items-center justify-center pt-8",children:(0,a.jsxs)("nav",{className:"flex items-center gap-2",children:[(0,a.jsx)("button",{onClick:()=>x(Math.max(1,m-1)),disabled:1===m,className:"flex size-10 items-center justify-center rounded-lg text-white/60 hover:bg-[#2a2a2a] hover:text-white transition-colors disabled:opacity-50 disabled:cursor-not-allowed",children:(0,a.jsx)("span",{className:"material-symbols-outlined text-xl",children:"chevron_left"})}),Array.from({length:Math.min(5,v)},(e,t)=>{let o;return o=v<=5?t+1:m<=3?t+1:m>=v-2?v-4+t:m-2+t,(0,a.jsx)("button",{onClick:()=>x(o),className:"text-sm leading-normal flex size-10 items-center justify-center rounded-lg transition-colors ".concat(m===o?"text-background-dark bg-primary font-bold":"text-white/60 hover:bg-[#2a2a2a] hover:text-white font-medium"),children:o},o)}),v>5&&m<v-2&&(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)("span",{className:"text-sm font-medium leading-normal flex size-10 items-center justify-center text-white/60 rounded-lg",children:"..."}),(0,a.jsx)("button",{onClick:()=>x(v),className:"text-sm font-medium leading-normal flex size-10 items-center justify-center rounded-lg text-white/60 hover:bg-[#2a2a2a] hover:text-white transition-colors",children:v})]}),(0,a.jsx)("button",{onClick:()=>x(Math.min(v,m+1)),disabled:m===v,className:"flex size-10 items-center justify-center rounded-lg text-white/60 hover:bg-[#2a2a2a] hover:text-white transition-colors disabled:opacity-50 disabled:cursor-not-allowed",children:(0,a.jsx)("span",{className:"material-symbols-outlined text-xl",children:"chevron_right"})})]})})]})})})]})}}},function(e){e.O(0,[1176,4829,2385,6299,1761,473,2971,4938,1744],function(){return e(e.s=90154)}),_N_E=e.O()}]);