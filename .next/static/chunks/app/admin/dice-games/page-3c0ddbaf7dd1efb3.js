(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[5625],{49589:function(e,t,s){Promise.resolve().then(s.bind(s,64786))},64786:function(e,t,s){"use strict";s.r(t),s.d(t,{default:function(){return u}});var l=s(57437),a=s(2265),n=s(24033),i=s(96666),r=s(28707),o=s(96299),d=s(62385),c=s(24215);function m(){var e,t,s,m,u,x,h,p;let{t:b}=(0,o.$)();(0,n.useRouter)();let[g,f]=(0,a.useState)([]),[v,w]=(0,a.useState)(!0),[y,j]=(0,a.useState)(""),[N,k]=(0,a.useState)(""),[S,C]=(0,a.useState)(null),[R,P]=(0,a.useState)(!1),[W,I]=(0,a.useState)(!1),[E,D]=(0,a.useState)(!1),[F,M]=(0,a.useState)(!1),[_,G]=(0,a.useState)({player1Name:"Player 1",player2Name:"Player 2",payoutMultiplier:"2.0"}),[B,O]=(0,a.useState)({winner:"",diceResult:"",adminSetResult:""}),[T,A]=(0,a.useState)({newWinner:"",newDiceResult:""});(0,a.useEffect)(()=>{z();let e=setInterval(z,1e4);return()=>clearInterval(e)},[]);let z=async()=>{w(!0),j("");try{let e=(await d.mb.getAllGames({limit:50})).data;(null==e?void 0:e.success)&&(null==e?void 0:e.data)?f(e.data.games||[]):(null==e?void 0:e.games)?f(e.games||[]):f([])}catch(s){var e,t;j((null===(t=s.response)||void 0===t?void 0:null===(e=t.data)||void 0===e?void 0:e.message)||"Failed to load games"),c.cM.apiError("/dice-roll-games",s),f([])}finally{w(!1)}},Z=async e=>{try{var t;let s=await d.mb.getGame(e);return(null===(t=s.data)||void 0===t?void 0:t.data)||s.data}catch(e){return c.cM.apiError("/dice-roll-games/:id",e),null}},U=async()=>{M(!0),j("");try{await d.mb.createGame({player1Name:_.player1Name,player2Name:_.player2Name,payoutMultiplier:parseFloat(_.payoutMultiplier)}),k("Game created successfully"),P(!1),G({player1Name:"Player 1",player2Name:"Player 2",payoutMultiplier:"2.0"}),setTimeout(()=>{z()},500)}catch(s){var e,t;j((null===(t=s.response)||void 0===t?void 0:null===(e=t.data)||void 0===e?void 0:e.message)||"Failed to create game")}finally{M(!1)}},$=async e=>{if(confirm("Close this game? No more bets will be accepted.")){M(!0),j("");try{await d.mb.closeGame(e),k("Game closed successfully"),z()}catch(e){var t,s;j((null===(s=e.response)||void 0===s?void 0:null===(t=s.data)||void 0===t?void 0:t.message)||"Failed to close game")}finally{M(!1)}}},J=async()=>{if(!S||!B.winner){j("Please select a winner");return}M(!0),j("");try{await d.mb.selectWinner(S._id,{winner:B.winner,diceResult:B.diceResult?parseInt(B.diceResult):void 0,adminSetResult:B.adminSetResult?parseInt(B.adminSetResult):void 0}),k("Winner selected and payouts processed"),I(!1),O({winner:"",diceResult:"",adminSetResult:""}),C(null),z()}catch(s){var e,t;j((null===(t=s.response)||void 0===t?void 0:null===(e=t.data)||void 0===e?void 0:e.message)||"Failed to select winner")}finally{M(!1)}},L=async()=>{if(!S||!T.newWinner){j("Please select a new winner");return}if(confirm("Change the game outcome? This will reverse previous payouts and process new ones.")){M(!0),j("");try{await d.mb.changeOutcome(S._id,{newWinner:T.newWinner,newDiceResult:T.newDiceResult?parseInt(T.newDiceResult):void 0}),k("Game outcome changed successfully"),D(!1),A({newWinner:"",newDiceResult:""}),C(null),z()}catch(s){var e,t;j((null===(t=s.response)||void 0===t?void 0:null===(e=t.data)||void 0===e?void 0:e.message)||"Failed to change outcome")}finally{M(!1)}}},V=async e=>{let t=await Z(e._id);C((null==t?void 0:t.game)||e),I(!0)},q=async e=>{let t=await Z(e._id);C((null==t?void 0:t.game)||e),A({newWinner:"player1"===e.selectedWinner?"player2":"player1",newDiceResult:""}),D(!0)},H=e=>{switch(e){case"accepting-bets":return"bg-green-500/20 text-green-400";case"closed":return"bg-yellow-500/20 text-yellow-400";case"completed":return"bg-blue-500/20 text-blue-400";default:return"bg-gray-500/20 text-gray-400"}},K=e=>{var t,s,l,a;let n=(null===(s=e.options)||void 0===s?void 0:null===(t=s.player1)||void 0===t?void 0:t.totalBetAmount)||0,i=(null===(a=e.options)||void 0===a?void 0:null===(l=a.player2)||void 0===l?void 0:l.totalBetAmount)||0,r=n+i,o=e.payoutMultiplier||2,d=r-n*o,c=r-i*o;return{player1Total:n,player2Total:i,totalBets:r,profitIfPlayer1Wins:d,profitIfPlayer2Wins:c,recommendedWinner:d>c?"player1":"player2"}};return(0,l.jsx)(i.Z,{children:(0,l.jsxs)("div",{className:"flex min-h-screen w-full bg-[#151328]",children:[(0,l.jsx)(r.Z,{}),(0,l.jsx)("main",{className:"flex-1 p-6 lg:p-10 ml-0 lg:ml-64 pt-16 lg:pt-0",children:(0,l.jsxs)("div",{className:"max-w-7xl mx-auto flex flex-col gap-6",children:[(0,l.jsxs)("div",{className:"flex justify-between items-start",children:[(0,l.jsxs)("div",{children:[(0,l.jsx)("h1",{className:"text-white text-4xl font-black mb-2",children:"\uD83C\uDFB2 Dice Roll Games"}),(0,l.jsx)("p",{className:"text-white/60",children:"Manage dice roll games and select winners"})]}),(0,l.jsx)("button",{onClick:()=>P(!0),className:"px-4 py-2 bg-[#0dccf2] text-black rounded-lg font-bold hover:bg-[#0dccf2]/90 transition-colors",children:"+ Create Game"})]}),y&&(0,l.jsx)("div",{className:"bg-red-500/20 border border-red-500/50 rounded-lg p-4",children:(0,l.jsx)("p",{className:"text-red-400 text-sm",children:y})}),N&&(0,l.jsx)("div",{className:"bg-green-500/20 border border-green-500/50 rounded-lg p-4",children:(0,l.jsx)("p",{className:"text-green-400 text-sm",children:N})}),v?(0,l.jsxs)("div",{className:"bg-[#111718] rounded-xl border border-[#3b5054] p-10 text-center",children:[(0,l.jsx)("div",{className:"size-8 animate-spin rounded-full border-4 border-[#0dccf2] border-t-transparent mx-auto"}),(0,l.jsx)("p",{className:"text-white/60 mt-4",children:"Loading games..."})]}):0===g.length?(0,l.jsx)("div",{className:"bg-[#111718] rounded-xl border border-[#3b5054] p-10 text-center",children:(0,l.jsx)("p",{className:"text-white/60",children:"No games yet. Create your first game!"})}):(0,l.jsx)("div",{className:"bg-[#111718] rounded-xl border border-[#3b5054] overflow-hidden",children:(0,l.jsx)("div",{className:"overflow-x-auto",children:(0,l.jsxs)("table",{className:"w-full",children:[(0,l.jsx)("thead",{className:"bg-[#1b2527]",children:(0,l.jsxs)("tr",{children:[(0,l.jsx)("th",{className:"px-6 py-3 text-left text-white text-sm font-medium",children:"Game #"}),(0,l.jsx)("th",{className:"px-6 py-3 text-left text-white text-sm font-medium",children:"Status"}),(0,l.jsx)("th",{className:"px-6 py-3 text-left text-white text-sm font-medium",children:"Player 1"}),(0,l.jsx)("th",{className:"px-6 py-3 text-left text-white text-sm font-medium",children:"Player 2"}),(0,l.jsx)("th",{className:"px-6 py-3 text-left text-white text-sm font-medium",children:"Total Bets"}),(0,l.jsx)("th",{className:"px-6 py-3 text-left text-white text-sm font-medium",children:"Winner"}),(0,l.jsx)("th",{className:"px-6 py-3 text-left text-white text-sm font-medium",children:"Profit"}),(0,l.jsx)("th",{className:"px-6 py-3 text-left text-white text-sm font-medium",children:"Actions"})]})}),(0,l.jsx)("tbody",{children:g.map(e=>{var t,s,a,n,i,r,o,d;let c=K(e);return(0,l.jsxs)("tr",{className:"border-t border-[#3b5054] hover:bg-[#1b2527]/50 transition-colors",children:[(0,l.jsxs)("td",{className:"px-6 py-4 text-white font-bold",children:["#",e.gameNumber]}),(0,l.jsx)("td",{className:"px-6 py-4",children:(0,l.jsx)("span",{className:"px-3 py-1 rounded-full text-xs font-semibold ".concat(H(e.status)),children:e.status})}),(0,l.jsx)("td",{className:"px-6 py-4",children:(0,l.jsxs)("div",{className:"text-white text-sm",children:[(0,l.jsxs)("div",{children:[(null===(s=e.options)||void 0===s?void 0:null===(t=s.player1)||void 0===t?void 0:t.betCount)||0," bets"]}),(0,l.jsxs)("div",{className:"text-white/60",children:["₺",c.player1Total.toFixed(2)]})]})}),(0,l.jsx)("td",{className:"px-6 py-4",children:(0,l.jsxs)("div",{className:"text-white text-sm",children:[(0,l.jsxs)("div",{children:[(null===(n=e.options)||void 0===n?void 0:null===(a=n.player2)||void 0===a?void 0:a.betCount)||0," bets"]}),(0,l.jsxs)("div",{className:"text-white/60",children:["₺",c.player2Total.toFixed(2)]})]})}),(0,l.jsxs)("td",{className:"px-6 py-4 text-white text-sm",children:[e.totalBets||0," bets",(0,l.jsx)("br",{}),(0,l.jsxs)("span",{className:"text-white/60",children:["₺",c.totalBets.toFixed(2)]})]}),(0,l.jsx)("td",{className:"px-6 py-4",children:e.selectedWinner?(0,l.jsx)("span",{className:"text-white font-semibold",children:"player1"===e.selectedWinner?null===(r=e.options)||void 0===r?void 0:null===(i=r.player1)||void 0===i?void 0:i.name:null===(d=e.options)||void 0===d?void 0:null===(o=d.player2)||void 0===o?void 0:o.name}):(0,l.jsx)("span",{className:"text-white/60 text-sm",children:"Not selected"})}),(0,l.jsx)("td",{className:"px-6 py-4",children:void 0!==e.adminProfit?(0,l.jsxs)("span",{className:"font-semibold ".concat(e.adminProfit>=0?"text-green-400":"text-red-400"),children:["₺",e.adminProfit.toFixed(2)]}):"accepting-bets"===e.status||"closed"===e.status?(0,l.jsxs)("div",{className:"text-xs",children:[(0,l.jsxs)("div",{className:"text-white/60",children:["If P1: ",(0,l.jsxs)("span",{className:c.profitIfPlayer1Wins>=0?"text-green-400":"text-red-400",children:["₺",c.profitIfPlayer1Wins.toFixed(2)]})]}),(0,l.jsxs)("div",{className:"text-white/60",children:["If P2: ",(0,l.jsxs)("span",{className:c.profitIfPlayer2Wins>=0?"text-green-400":"text-red-400",children:["₺",c.profitIfPlayer2Wins.toFixed(2)]})]}),(0,l.jsxs)("div",{className:"text-[#0dccf2] mt-1 font-semibold",children:["→ ","player1"===c.recommendedWinner?"P1":"P2"]})]}):(0,l.jsx)("span",{className:"text-white/60",children:"-"})}),(0,l.jsx)("td",{className:"px-6 py-4",children:(0,l.jsxs)("div",{className:"flex items-center gap-2",children:["accepting-bets"===e.status&&(0,l.jsx)("button",{onClick:()=>$(e._id),className:"px-3 py-1 text-yellow-400 hover:bg-[#283639] rounded text-sm transition-colors",disabled:F,children:"Close"}),("closed"===e.status||"accepting-bets"===e.status)&&!e.selectedWinner&&(0,l.jsx)("button",{onClick:()=>V(e),className:"px-3 py-1 text-green-400 hover:bg-[#283639] rounded text-sm transition-colors",children:"Select Winner"}),"completed"===e.status&&(0,l.jsx)("button",{onClick:()=>q(e),className:"px-3 py-1 text-blue-400 hover:bg-[#283639] rounded text-sm transition-colors",children:"Change"})]})})]},e._id)})})]})})})]})}),R&&(0,l.jsx)("div",{className:"fixed inset-0 bg-black/50 flex items-center justify-center z-50",children:(0,l.jsxs)("div",{className:"bg-[#1E1E2B] rounded-xl p-6 max-w-md w-full mx-4 border border-white/10",children:[(0,l.jsx)("h3",{className:"text-white text-xl font-bold mb-4",children:"Create New Game"}),(0,l.jsxs)("div",{className:"space-y-4",children:[(0,l.jsxs)("div",{children:[(0,l.jsx)("label",{className:"block text-white/70 text-sm mb-2",children:"Player 1 Name"}),(0,l.jsx)("input",{type:"text",value:_.player1Name,onChange:e=>G({..._,player1Name:e.target.value}),className:"w-full h-12 rounded-lg bg-white/5 border border-white/10 text-white px-4 focus:outline-none focus:ring-2 focus:ring-[#0dccf2]/50"})]}),(0,l.jsxs)("div",{children:[(0,l.jsx)("label",{className:"block text-white/70 text-sm mb-2",children:"Player 2 Name"}),(0,l.jsx)("input",{type:"text",value:_.player2Name,onChange:e=>G({..._,player2Name:e.target.value}),className:"w-full h-12 rounded-lg bg-white/5 border border-white/10 text-white px-4 focus:outline-none focus:ring-2 focus:ring-[#0dccf2]/50"})]}),(0,l.jsxs)("div",{children:[(0,l.jsx)("label",{className:"block text-white/70 text-sm mb-2",children:"Payout Multiplier"}),(0,l.jsx)("input",{type:"number",value:_.payoutMultiplier,onChange:e=>G({..._,payoutMultiplier:e.target.value}),className:"w-full h-12 rounded-lg bg-white/5 border border-white/10 text-white px-4 focus:outline-none focus:ring-2 focus:ring-[#0dccf2]/50",min:"1",step:"0.1"})]}),(0,l.jsxs)("div",{className:"flex gap-3",children:[(0,l.jsx)("button",{onClick:U,disabled:F,className:"flex-1 px-4 py-2 bg-[#0dccf2] text-black rounded-lg font-bold hover:bg-[#0dccf2]/90 transition-colors disabled:opacity-50",children:F?"Creating...":"Create"}),(0,l.jsx)("button",{onClick:()=>{P(!1),G({player1Name:"Player 1",player2Name:"Player 2",payoutMultiplier:"2.0"})},className:"px-4 py-2 bg-white/5 text-white rounded-lg hover:bg-white/10 transition-colors",children:"Cancel"})]})]})]})}),W&&S&&(0,l.jsx)("div",{className:"fixed inset-0 bg-black/50 flex items-center justify-center z-50",children:(0,l.jsxs)("div",{className:"bg-[#1E1E2B] rounded-xl p-6 max-w-md w-full mx-4 border border-white/10 max-h-[90vh] overflow-y-auto",children:[(0,l.jsxs)("h3",{className:"text-white text-xl font-bold mb-4",children:["Select Winner - Game #",S.gameNumber]}),S.betStats&&(0,l.jsxs)("div",{className:"mb-4 p-4 bg-white/5 rounded-lg",children:[(0,l.jsx)("p",{className:"text-white/70 text-sm mb-2",children:"Bet Distribution:"}),(0,l.jsxs)("div",{className:"space-y-2 text-sm",children:[(0,l.jsxs)("div",{className:"flex justify-between",children:[(0,l.jsx)("span",{className:"text-white/60",children:"Player 1:"}),(0,l.jsxs)("span",{className:"text-white",children:[S.betStats.player1Bets," bets - ₺",S.betStats.player1Total.toFixed(2)]})]}),(0,l.jsxs)("div",{className:"flex justify-between",children:[(0,l.jsx)("span",{className:"text-white/60",children:"Player 2:"}),(0,l.jsxs)("span",{className:"text-white",children:[S.betStats.player2Bets," bets - ₺",S.betStats.player2Total.toFixed(2)]})]})]})]}),(0,l.jsxs)("div",{className:"space-y-4",children:[(0,l.jsxs)("div",{children:[(0,l.jsx)("label",{className:"block text-white/70 text-sm mb-2",children:"Winner *"}),(0,l.jsxs)("select",{value:B.winner,onChange:e=>O({...B,winner:e.target.value}),className:"w-full h-12 rounded-lg bg-white/5 border border-white/10 text-white px-4 focus:outline-none focus:ring-2 focus:ring-[#0dccf2]/50",children:[(0,l.jsx)("option",{value:"",children:"Select winner"}),(0,l.jsx)("option",{value:"player1",children:(null===(t=S.options)||void 0===t?void 0:null===(e=t.player1)||void 0===e?void 0:e.name)||"Player 1"}),(0,l.jsx)("option",{value:"player2",children:(null===(m=S.options)||void 0===m?void 0:null===(s=m.player2)||void 0===s?void 0:s.name)||"Player 2"})]})]}),(0,l.jsxs)("div",{children:[(0,l.jsx)("label",{className:"block text-white/70 text-sm mb-2",children:"Dice Result (1-6, optional)"}),(0,l.jsx)("input",{type:"number",value:B.diceResult,onChange:e=>O({...B,diceResult:e.target.value}),className:"w-full h-12 rounded-lg bg-white/5 border border-white/10 text-white px-4 focus:outline-none focus:ring-2 focus:ring-[#0dccf2]/50",min:"1",max:"6"})]}),(0,l.jsxs)("div",{children:[(0,l.jsx)("label",{className:"block text-white/70 text-sm mb-2",children:"Override Result (1-6, optional)"}),(0,l.jsx)("input",{type:"number",value:B.adminSetResult,onChange:e=>O({...B,adminSetResult:e.target.value}),className:"w-full h-12 rounded-lg bg-white/5 border border-white/10 text-white px-4 focus:outline-none focus:ring-2 focus:ring-[#0dccf2]/50",min:"1",max:"6"}),(0,l.jsx)("p",{className:"text-white/50 text-xs mt-1",children:"This will override the dice result"})]}),(0,l.jsxs)("div",{className:"flex gap-3",children:[(0,l.jsx)("button",{onClick:J,disabled:F||!B.winner,className:"flex-1 px-4 py-2 bg-[#0dccf2] text-black rounded-lg font-bold hover:bg-[#0dccf2]/90 transition-colors disabled:opacity-50",children:F?"Processing...":"Select Winner"}),(0,l.jsx)("button",{onClick:()=>{I(!1),O({winner:"",diceResult:"",adminSetResult:""}),C(null)},className:"px-4 py-2 bg-white/5 text-white rounded-lg hover:bg-white/10 transition-colors",children:"Cancel"})]})]})]})}),E&&S&&(0,l.jsx)("div",{className:"fixed inset-0 bg-black/50 flex items-center justify-center z-50",children:(0,l.jsxs)("div",{className:"bg-[#1E1E2B] rounded-xl p-6 max-w-md w-full mx-4 border border-white/10",children:[(0,l.jsxs)("h3",{className:"text-white text-xl font-bold mb-4",children:["Change Outcome - Game #",S.gameNumber]}),(0,l.jsx)("p",{className:"text-red-400 text-sm mb-4",children:"⚠️ This will reverse previous payouts and process new ones!"}),(0,l.jsxs)("div",{className:"space-y-4",children:[(0,l.jsxs)("div",{children:[(0,l.jsx)("label",{className:"block text-white/70 text-sm mb-2",children:"New Winner *"}),(0,l.jsxs)("select",{value:T.newWinner,onChange:e=>A({...T,newWinner:e.target.value}),className:"w-full h-12 rounded-lg bg-white/5 border border-white/10 text-white px-4 focus:outline-none focus:ring-2 focus:ring-[#0dccf2]/50",children:[(0,l.jsx)("option",{value:"",children:"Select new winner"}),(0,l.jsx)("option",{value:"player1",children:(null===(x=S.options)||void 0===x?void 0:null===(u=x.player1)||void 0===u?void 0:u.name)||"Player 1"}),(0,l.jsx)("option",{value:"player2",children:(null===(p=S.options)||void 0===p?void 0:null===(h=p.player2)||void 0===h?void 0:h.name)||"Player 2"})]})]}),(0,l.jsxs)("div",{children:[(0,l.jsx)("label",{className:"block text-white/70 text-sm mb-2",children:"New Dice Result (1-6, optional)"}),(0,l.jsx)("input",{type:"number",value:T.newDiceResult,onChange:e=>A({...T,newDiceResult:e.target.value}),className:"w-full h-12 rounded-lg bg-white/5 border border-white/10 text-white px-4 focus:outline-none focus:ring-2 focus:ring-[#0dccf2]/50",min:"1",max:"6"})]}),(0,l.jsxs)("div",{className:"flex gap-3",children:[(0,l.jsx)("button",{onClick:L,disabled:F||!T.newWinner,className:"flex-1 px-4 py-2 bg-[#0dccf2] text-black rounded-lg font-bold hover:bg-[#0dccf2]/90 transition-colors disabled:opacity-50",children:F?"Processing...":"Change Outcome"}),(0,l.jsx)("button",{onClick:()=>{D(!1),A({newWinner:"",newDiceResult:""}),C(null)},className:"px-4 py-2 bg-white/5 text-white rounded-lg hover:bg-white/10 transition-colors",children:"Cancel"})]})]})]})})]})})}function u(){return(0,l.jsx)(i.Z,{children:(0,l.jsx)(m,{})})}},96666:function(e,t,s){"use strict";s.d(t,{Z:function(){return r}});var l=s(57437),a=s(2265),n=s(24033),i=s(87300);function r(e){let{children:t}=e,s=(0,n.useRouter)(),r=(0,n.usePathname)(),[o,d]=(0,a.useState)(!1),[c,m]=(0,a.useState)(!0);return((0,a.useEffect)(()=>{(()=>{if(!(0,i.$8)()){let e=encodeURIComponent(r||"/admin");s.push("/auth/login?next=".concat(e));return}if(!(0,i.GJ)()){s.push("/dashboard");return}d(!0),m(!1)})()},[s,r]),c)?(0,l.jsx)("div",{className:"flex min-h-screen w-full items-center justify-center bg-background-dark",children:(0,l.jsxs)("div",{className:"flex flex-col items-center gap-4",children:[(0,l.jsx)("div",{className:"size-8 animate-spin rounded-full border-4 border-[#0dccf2] border-t-transparent"}),(0,l.jsx)("p",{className:"text-white/70 text-sm",children:"Verifying access..."})]})}):o?(0,l.jsx)(l.Fragment,{children:t}):null}},28707:function(e,t,s){"use strict";s.d(t,{Z:function(){return d}});var l=s(57437),a=s(2265),n=s(61396),i=s.n(n),r=s(24033),o=s(96299);function d(){let{t:e}=(0,o.$)(),t=(0,r.usePathname)(),[s,n]=(0,a.useState)(!1),d=[{id:"dashboard",label:e("admin.dashboard"),icon:"dashboard",href:"/admin"},{id:"users",label:e("admin.users"),icon:"group",href:"/admin/users"},{id:"kyc",label:e("admin.kyc"),icon:"badge",href:"/admin/kyc"},{id:"games",label:e("admin.games"),icon:"gamepad",href:"/admin/games"},{id:"betting",label:e("admin.betting"),icon:"sports_soccer",href:"/admin/betting"},{id:"promotions",label:e("admin.promotions"),icon:"campaign",href:"/admin/promotions"},{id:"deposits",label:e("admin.deposits"),icon:"arrow_downward",href:"/admin/deposits"},{id:"withdrawals",label:e("admin.withdrawals"),icon:"arrow_upward",href:"/admin/withdrawals"},{id:"tournaments",label:e("admin.tournaments"),icon:"emoji_events",href:"/admin/tournaments"},{id:"content",label:e("admin.content"),icon:"wysiwyg",href:"/admin/content"}];return(0,l.jsxs)(l.Fragment,{children:[(0,l.jsx)("button",{onClick:()=>n(!s),className:"lg:hidden fixed top-4 left-4 z-[60] p-2 bg-background-dark border border-surface rounded-lg text-white hover:bg-white/10 transition-colors","aria-label":"Toggle sidebar",children:(0,l.jsx)("span",{className:"material-symbols-outlined",children:s?"close":"menu"})}),s&&(0,l.jsx)("div",{className:"lg:hidden fixed inset-0 bg-black/50 z-[55]",onClick:()=>n(!1)}),(0,l.jsxs)("aside",{className:"fixed left-0 top-0 h-screen w-64 flex flex-col bg-background-dark border-r border-surface p-4 z-50 transition-transform duration-300 ".concat(s?"translate-x-0":"-translate-x-full lg:translate-x-0"),children:[(0,l.jsxs)("div",{className:"flex items-center gap-3 mb-8 px-2",children:[(0,l.jsx)("div",{className:"flex h-10 w-10 items-center justify-center rounded-lg bg-primary",children:(0,l.jsx)("span",{className:"material-symbols-outlined text-black",children:"casino"})}),(0,l.jsxs)("div",{className:"flex flex-col",children:[(0,l.jsx)("h1",{className:"text-base font-bold text-white",children:e("admin.title")}),(0,l.jsx)("p",{className:"text-sm text-gray-400",children:e("admin.management")})]})]}),(0,l.jsx)("nav",{className:"flex flex-col gap-2",children:d.map(e=>(0,l.jsxs)(i(),{href:e.href,onClick:()=>n(!1),className:"flex items-center gap-3 rounded-lg px-3 py-2 text-sm font-medium transition-colors ".concat(t===e.href||"dashboard"===e.id&&"/admin"===t?"bg-primary/20 text-primary":"text-gray-300 hover:bg-white/10"),children:[(0,l.jsx)("span",{className:"material-symbols-outlined",children:e.icon}),(0,l.jsx)("p",{children:e.label})]},e.id))}),(0,l.jsxs)("div",{className:"mt-auto",children:[(0,l.jsxs)(i(),{href:"/admin/settings",onClick:()=>n(!1),className:"flex items-center gap-3 rounded-lg px-3 py-2 text-gray-300 hover:bg-white/10 transition-colors",children:[(0,l.jsx)("span",{className:"material-symbols-outlined",children:"settings"}),(0,l.jsx)("p",{className:"text-sm font-medium",children:e("admin.settings")})]}),(0,l.jsxs)("button",{onClick:()=>{localStorage.removeItem("token"),localStorage.removeItem("user"),localStorage.removeItem("isAdmin"),localStorage.removeItem("adminEmail"),window.location.href="/auth/login"},className:"mt-2 flex w-full items-center gap-3 rounded-lg px-3 py-2 text-gray-300 hover:bg-red-500/20 hover:text-red-400 transition-colors",children:[(0,l.jsx)("span",{className:"material-symbols-outlined",children:"logout"}),(0,l.jsx)("p",{className:"text-sm font-medium",children:e("admin.logout")})]})]})]})]})}},87300:function(e,t,s){"use strict";s.d(t,{$8:function(){return n},GJ:function(){return i},My:function(){return r},kS:function(){return o},ts:function(){return l}});let l=()=>{try{let e=localStorage.getItem("user");return e?JSON.parse(e):null}catch(e){return null}},a=()=>localStorage.getItem("token"),n=()=>!!a(),i=()=>{let e=l();return!!e&&["admin","super_admin","operator"].includes(e.role)},r=e=>["admin","super_admin","operator"].includes(e)?"/admin":"/dashboard",o=()=>{localStorage.removeItem("token"),localStorage.removeItem("user"),localStorage.removeItem("isAdmin"),localStorage.removeItem("adminEmail"),window.location.href="/"}},24215:function(e,t,s){"use strict";s.d(t,{cM:function(){return i}});let l={DEBUG:"debug",INFO:"info",WARN:"warn",ERROR:"error"};class a{formatMessage(e,t){let s=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null,l=new Date().toISOString(),a="[".concat(l,"] [").concat(e.toUpperCase(),"]");return s?{prefix:a,message:t,data:s}:{prefix:a,message:t}}debug(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;if(!this.isDevelopment)return;let s=this.formatMessage(l.DEBUG,e,t);t?console.log(s.prefix,s.message,s.data):console.log(s.prefix,s.message)}info(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,s=this.formatMessage(l.INFO,e,t);t?console.info(s.prefix,s.message,s.data):console.info(s.prefix,s.message)}warn(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,s=this.formatMessage(l.WARN,e,t);t?console.warn(s.prefix,s.message,s.data):console.warn(s.prefix,s.message)}error(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,s=this.formatMessage(l.ERROR,e,t);t?(console.error(s.prefix,s.message,t),this.isDevelopment):console.error(s.prefix,s.message)}apiError(e,t){var s,l,a,n;this.error("API Error [".concat(e,"]"),{endpoint:e,status:null==t?void 0:null===(s=t.response)||void 0===s?void 0:s.status,message:(null==t?void 0:null===(a=t.response)||void 0===a?void 0:null===(l=a.data)||void 0===l?void 0:l.message)||(null==t?void 0:t.message),data:null==t?void 0:null===(n=t.response)||void 0===n?void 0:n.data})}constructor(){this.isDevelopment=!1}}let n=new a,i={debug:(e,t)=>n.debug(e,t),info:(e,t)=>n.info(e,t),warn:(e,t)=>n.warn(e,t),error:(e,t)=>n.error(e,t),apiError:(e,t)=>n.apiError(e,t)}},24033:function(e,t,s){e.exports=s(15313)}},function(e){e.O(0,[1176,4829,2385,6299,2971,4938,1744],function(){return e(e.s=49589)}),_N_E=e.O()}]);