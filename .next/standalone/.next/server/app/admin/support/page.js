(()=>{var e={};e.id=1679,e.ids=[1679],e.modules={47849:e=>{"use strict";e.exports=require("next/dist/client/components/action-async-storage.external")},55403:e=>{"use strict";e.exports=require("next/dist/client/components/request-async-storage.external")},94749:e=>{"use strict";e.exports=require("next/dist/client/components/static-generation-async-storage.external")},20399:e=>{"use strict";e.exports=require("next/dist/compiled/next-server/app-page.runtime.prod.js")},25528:e=>{"use strict";e.exports=require("next/dist\\client\\components\\action-async-storage.external.js")},91877:e=>{"use strict";e.exports=require("next/dist\\client\\components\\request-async-storage.external.js")},25319:e=>{"use strict";e.exports=require("next/dist\\client\\components\\static-generation-async-storage.external.js")},39491:e=>{"use strict";e.exports=require("assert")},6113:e=>{"use strict";e.exports=require("crypto")},82361:e=>{"use strict";e.exports=require("events")},57147:e=>{"use strict";e.exports=require("fs")},13685:e=>{"use strict";e.exports=require("http")},85158:e=>{"use strict";e.exports=require("http2")},95687:e=>{"use strict";e.exports=require("https")},22037:e=>{"use strict";e.exports=require("os")},71017:e=>{"use strict";e.exports=require("path")},12781:e=>{"use strict";e.exports=require("stream")},76224:e=>{"use strict";e.exports=require("tty")},57310:e=>{"use strict";e.exports=require("url")},73837:e=>{"use strict";e.exports=require("util")},59796:e=>{"use strict";e.exports=require("zlib")},81552:(e,t,s)=>{"use strict";s.r(t),s.d(t,{GlobalError:()=>l.a,__next_app__:()=>m,originalPathname:()=>x,pages:()=>c,routeModule:()=>u,tree:()=>d});var r=s(50482),a=s(69108),i=s(62563),l=s.n(i),n=s(68300),o={};for(let e in n)0>["default","tree","pages","GlobalError","originalPathname","__next_app__","routeModule"].indexOf(e)&&(o[e]=()=>n[e]);s.d(t,o);let d=["",{children:["admin",{children:["support",{children:["__PAGE__",{},{page:[()=>Promise.resolve().then(s.bind(s,24012)),"W:\\garbet\\Frontend\\app\\admin\\support\\page.js"]}]},{}]},{}]},{layout:[()=>Promise.resolve().then(s.bind(s,69847)),"W:\\garbet\\Frontend\\app\\layout.js"],error:[()=>Promise.resolve().then(s.bind(s,60826)),"W:\\garbet\\Frontend\\app\\error.js"],"not-found":[()=>Promise.resolve().then(s.bind(s,46178)),"W:\\garbet\\Frontend\\app\\not-found.js"]}],c=["W:\\garbet\\Frontend\\app\\admin\\support\\page.js"],x="/admin/support/page",m={require:s,loadChunk:()=>Promise.resolve()},u=new r.AppPageRouteModule({definition:{kind:a.x.APP_PAGE,page:"/admin/support/page",pathname:"/admin/support",bundlePath:"",filename:"",appPaths:[]},userland:{loaderTree:d}})},70521:(e,t,s)=>{Promise.resolve().then(s.bind(s,92212))},92212:(e,t,s)=>{"use strict";s.r(t),s.d(t,{default:()=>u});var r=s(95344),a=s(3729),i=s(20783),l=s.n(i),n=s(22254),o=s(21475),d=s(24774),c=s(94913),x=s(36846);function m(){let e=(0,n.usePathname)(),[t,s]=(0,a.useState)([]),[i,o]=(0,a.useState)(null),[m,u]=(0,a.useState)(!0),[h,g]=(0,a.useState)(!1),[p,b]=(0,a.useState)(""),[f,j]=(0,a.useState)(""),[N,w]=(0,a.useState)(null),[y,v]=(0,a.useState)("all"),[E,k]=(0,a.useState)("all"),[S,C]=(0,a.useState)("all"),[_,B]=(0,a.useState)(""),[T,A]=(0,a.useState)(1),[q,M]=(0,a.useState)(1),[P,R]=(0,a.useState)(0),[F,D]=(0,a.useState)(!1),[$,I]=(0,a.useState)(""),[O,U]=(0,a.useState)(!1),[G,W]=(0,a.useState)(""),[z,Q]=(0,a.useState)(!1),[H,Y]=(0,a.useState)("");(0,a.useEffect)(()=>{Z(),K()},[y,E,S,_,T]);let Z=async()=>{u(!0),b("");try{let e={page:T,limit:20};"all"!==y&&(e.status=y),"all"!==E&&(e.category=E),"all"!==S&&(e.priority=S),_&&(e.search=_);let t=await d.Sb.getAllTickets(e);s(t.data.tickets||[]),M(t.data.totalPages||1),R(t.data.total||0)}catch(e){b(e.response?.data?.message||"Failed to load tickets"),x.cM.apiError("/support/tickets",e)}finally{u(!1)}},K=async()=>{try{let e=await d.Sb.getTicketStatistics();w(e.data)}catch(e){x.cM.apiError("/support/statistics",e)}},L=async e=>{try{let t=await d.Sb.getTicketById(e);o(t.data)}catch(t){b(t.response?.data?.message||"Failed to load ticket details"),x.cM.apiError(`/support/tickets/${e}`,t)}},X=async()=>{if(i){g(!0),b("");try{await d.Sb.updateTicketStatus(i._id,{status:G}),j("Ticket status updated successfully!"),U(!1),Z(),i&&L(i._id),setTimeout(()=>j(""),3e3)}catch(e){b(e.response?.data?.message||"Failed to update status"),x.cM.apiError(`/support/tickets/${i._id}/status`,e)}finally{g(!1)}}},J=async()=>{if(i&&$.trim()){g(!0),b("");try{await d.Sb.respondToTicket(i._id,{message:$}),j("Response added successfully!"),D(!1),I(""),Z(),L(i._id),setTimeout(()=>j(""),3e3)}catch(e){b(e.response?.data?.message||"Failed to add response"),x.cM.apiError(`/support/tickets/${i._id}/respond`,e)}finally{g(!1)}}},V=async()=>{if(i){g(!0),b("");try{await d.Sb.closeTicket(i._id,{resolution:H}),j("Ticket closed successfully!"),Q(!1),Y(""),Z(),L(i._id),setTimeout(()=>j(""),3e3)}catch(e){b(e.response?.data?.message||"Failed to close ticket"),x.cM.apiError(`/support/tickets/${i._id}/close`,e)}finally{g(!1)}}},ee=e=>{switch(e){case"open":return"bg-blue-500/20 text-blue-400";case"in_progress":return"bg-yellow-500/20 text-yellow-400";case"closed":default:return"bg-gray-500/20 text-gray-400";case"resolved":return"bg-green-500/20 text-green-400"}},et=e=>{switch(e){case"urgent":return"bg-red-500/20 text-red-400";case"high":return"bg-orange-500/20 text-orange-400";case"medium":return"bg-yellow-500/20 text-yellow-400";case"low":return"bg-green-500/20 text-green-400";default:return"bg-gray-500/20 text-gray-400"}},es=e=>({general:"General",deposit:"Deposit",withdrawal:"Withdrawal",betting:"Betting",technical:"Technical",account:"Account",other:"Other"})[e]||e;return(0,r.jsxs)("div",{className:"flex min-h-screen w-full bg-background-dark",children:[(0,r.jsxs)("div",{className:"flex bg-background-dark min-h-screen",children:[(0,r.jsxs)("aside",{className:"fixed left-0 top-0 h-screen w-64 flex flex-col bg-background-dark border-r border-surface p-4 z-50",children:[(0,r.jsxs)("div",{className:"flex items-center gap-3 mb-8 px-2",children:[r.jsx("div",{className:"flex h-10 w-10 items-center justify-center rounded-lg bg-primary",children:r.jsx("span",{className:"material-symbols-outlined text-black",children:"casino"})}),(0,r.jsxs)("div",{className:"flex flex-col",children:[r.jsx("h1",{className:"text-base font-bold text-white",children:"Casino Admin"}),r.jsx("p",{className:"text-sm text-gray-400",children:"Management"})]})]}),r.jsx("nav",{className:"flex flex-col gap-2",children:[{id:"dashboard",label:"Dashboard Overview",icon:"dashboard",href:"/admin"},{id:"users",label:"User Management",icon:"group",href:"/admin/users"},{id:"kyc",label:"KYC Management",icon:"badge",href:"/admin/kyc"},{id:"games",label:"Game Management",icon:"gamepad",href:"/admin/games"},{id:"betting",label:"Betting Management",icon:"sports_soccer",href:"/admin/betting"},{id:"promotions",label:"Promotions Management",icon:"campaign",href:"/admin/promotions"},{id:"deposits",label:"Deposits",icon:"arrow_downward",href:"/admin/deposits"},{id:"withdrawals",label:"Withdrawals",icon:"arrow_upward",href:"/admin/withdrawals"},{id:"tournaments",label:"Tournaments",icon:"emoji_events",href:"/admin/tournaments"},{id:"content",label:"Content Management",icon:"wysiwyg",href:"/admin/content"}].map(t=>(0,r.jsxs)(l(),{href:t.href,className:`flex items-center gap-3 rounded-lg px-3 py-2 text-sm font-medium transition-colors ${e===t.href||"dashboard"===t.id&&"/admin"===e?"bg-primary/20 text-primary":"text-gray-300 hover:bg-white/10"}`,children:[r.jsx("span",{className:"material-symbols-outlined",children:t.icon}),r.jsx("p",{children:t.label})]},t.id))}),(0,r.jsxs)("div",{className:"mt-auto",children:[(0,r.jsxs)(l(),{href:"/admin/settings",className:"flex items-center gap-3 rounded-lg px-3 py-2 text-gray-300 hover:bg-white/10 transition-colors",children:[r.jsx("span",{className:"material-symbols-outlined",children:"settings"}),r.jsx("p",{className:"text-sm font-medium",children:"Settings"})]}),(0,r.jsxs)("button",{onClick:()=>{localStorage.removeItem("token"),localStorage.removeItem("user"),localStorage.removeItem("isAdmin"),localStorage.removeItem("adminEmail"),window.location.href="/auth/login"},className:"mt-2 flex w-full items-center gap-3 rounded-lg px-3 py-2 text-gray-300 hover:bg-red-500/20 hover:text-red-400 transition-colors",children:[r.jsx("span",{className:"material-symbols-outlined",children:"logout"}),r.jsx("p",{className:"text-sm font-medium",children:"Logout"})]}),(0,r.jsxs)("div",{className:"mt-4 flex items-center gap-3 border-t border-white/10 pt-4",children:[r.jsx("div",{className:"bg-center bg-no-repeat aspect-square bg-cover rounded-full size-10",style:{backgroundImage:'url("https://lh3.googleusercontent.com/aida-public/AB6AXuAeBaCCsTptl1trq-7t7S9yHg2U-j1m_3eQJ6dpRP-IZjxZIDKL6U_iFBKUwWt18HwxovSG8ldqiQCa7NbmEcelTnHQGSwTeQORHSMYn7gGZDs-U982dOqo8QbAOQy7uCWkHjlHxe0m_eXtY2xDHYQYW3KAKuLgW2ZrQlV3yrUSs8tMyu4QaShzTzhohnzpDGQllaTrkdAQoFvcjS9zzhmKAnFrldqCRC16_VfbZD7OYbVjNJOiQ4Gz2-oKSG6XZ4azP4qWoBeSO74")'}}),(0,r.jsxs)("div",{className:"flex flex-col",children:[r.jsx("h2",{className:"text-sm font-medium text-white",children:"Admin User"}),r.jsx("p",{className:"text-xs text-gray-400",children:"admin@casino.com"})]})]})]})]}),r.jsx("main",{className:"ml-64 flex-1 min-h-screen"})]}),r.jsx("main",{className:"flex-1 p-6 lg:p-10 bg-background-light dark:bg-background-dark overflow-y-auto",children:(0,r.jsxs)("div",{className:"layout-content-container flex flex-col w-full max-w-7xl mx-auto",children:[r.jsx("div",{className:"flex flex-wrap justify-between gap-3 mb-6",children:r.jsx("p",{className:"text-black dark:text-white text-4xl font-black leading-tight tracking-[-0.033em]",children:"Support Tickets"})}),N&&(0,r.jsxs)("div",{className:"grid grid-cols-2 md:grid-cols-5 gap-4 mb-6",children:[(0,r.jsxs)("div",{className:"bg-[#1E1E2B]/50 dark:bg-black/20 rounded-xl border border-white/10 p-4",children:[r.jsx("p",{className:"text-gray-400 text-sm mb-1",children:"Total"}),r.jsx("p",{className:"text-white text-2xl font-bold",children:N.total||0})]}),(0,r.jsxs)("div",{className:"bg-[#1E1E2B]/50 dark:bg-black/20 rounded-xl border border-white/10 p-4",children:[r.jsx("p",{className:"text-gray-400 text-sm mb-1",children:"Open"}),r.jsx("p",{className:"text-blue-400 text-2xl font-bold",children:N.open||0})]}),(0,r.jsxs)("div",{className:"bg-[#1E1E2B]/50 dark:bg-black/20 rounded-xl border border-white/10 p-4",children:[r.jsx("p",{className:"text-gray-400 text-sm mb-1",children:"In Progress"}),r.jsx("p",{className:"text-yellow-400 text-2xl font-bold",children:N.inProgress||0})]}),(0,r.jsxs)("div",{className:"bg-[#1E1E2B]/50 dark:bg-black/20 rounded-xl border border-white/10 p-4",children:[r.jsx("p",{className:"text-gray-400 text-sm mb-1",children:"Closed"}),r.jsx("p",{className:"text-gray-400 text-2xl font-bold",children:N.closed||0})]}),(0,r.jsxs)("div",{className:"bg-[#1E1E2B]/50 dark:bg-black/20 rounded-xl border border-white/10 p-4",children:[r.jsx("p",{className:"text-gray-400 text-sm mb-1",children:"Resolved"}),r.jsx("p",{className:"text-green-400 text-2xl font-bold",children:N.resolved||0})]})]}),p&&r.jsx("div",{className:"mb-4 rounded-lg bg-red-500/20 border border-red-500/50 p-4",children:r.jsx("p",{className:"text-sm text-red-400",children:p})}),f&&r.jsx("div",{className:"mb-4 rounded-lg bg-green-500/20 border border-green-500/50 p-4",children:r.jsx("p",{className:"text-sm text-green-400",children:f})}),(0,r.jsxs)("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-6",children:[r.jsx("div",{className:"lg:col-span-2",children:(0,r.jsxs)("div",{className:"bg-[#1E1E2B]/50 dark:bg-black/20 rounded-xl border border-white/10 p-6",children:[(0,r.jsxs)("div",{className:"flex flex-wrap gap-4 mb-6",children:[r.jsx("input",{type:"text",placeholder:"Search tickets...",value:_,onChange:e=>{B(e.target.value),A(1)},className:"flex-1 min-w-[200px] h-10 rounded-lg bg-white/5 border border-white/10 text-white px-4 focus:outline-none focus:ring-2 focus:ring-[#0dccf2]/50"}),(0,r.jsxs)("select",{value:y,onChange:e=>{v(e.target.value),A(1)},className:"h-10 rounded-lg bg-white/5 border border-white/10 text-white px-4 focus:outline-none focus:ring-2 focus:ring-[#0dccf2]/50",children:[r.jsx("option",{value:"all",className:"bg-[#1E1E2B]",children:"All Status"}),r.jsx("option",{value:"open",className:"bg-[#1E1E2B]",children:"Open"}),r.jsx("option",{value:"in_progress",className:"bg-[#1E1E2B]",children:"In Progress"}),r.jsx("option",{value:"closed",className:"bg-[#1E1E2B]",children:"Closed"}),r.jsx("option",{value:"resolved",className:"bg-[#1E1E2B]",children:"Resolved"})]}),(0,r.jsxs)("select",{value:E,onChange:e=>{k(e.target.value),A(1)},className:"h-10 rounded-lg bg-white/5 border border-white/10 text-white px-4 focus:outline-none focus:ring-2 focus:ring-[#0dccf2]/50",children:[r.jsx("option",{value:"all",className:"bg-[#1E1E2B]",children:"All Categories"}),r.jsx("option",{value:"general",className:"bg-[#1E1E2B]",children:"General"}),r.jsx("option",{value:"deposit",className:"bg-[#1E1E2B]",children:"Deposit"}),r.jsx("option",{value:"withdrawal",className:"bg-[#1E1E2B]",children:"Withdrawal"}),r.jsx("option",{value:"betting",className:"bg-[#1E1E2B]",children:"Betting"}),r.jsx("option",{value:"technical",className:"bg-[#1E1E2B]",children:"Technical"}),r.jsx("option",{value:"account",className:"bg-[#1E1E2B]",children:"Account"}),r.jsx("option",{value:"other",className:"bg-[#1E1E2B]",children:"Other"})]}),(0,r.jsxs)("select",{value:S,onChange:e=>{C(e.target.value),A(1)},className:"h-10 rounded-lg bg-white/5 border border-white/10 text-white px-4 focus:outline-none focus:ring-2 focus:ring-[#0dccf2]/50",children:[r.jsx("option",{value:"all",className:"bg-[#1E1E2B]",children:"All Priorities"}),r.jsx("option",{value:"urgent",className:"bg-[#1E1E2B]",children:"Urgent"}),r.jsx("option",{value:"high",className:"bg-[#1E1E2B]",children:"High"}),r.jsx("option",{value:"medium",className:"bg-[#1E1E2B]",children:"Medium"}),r.jsx("option",{value:"low",className:"bg-[#1E1E2B]",children:"Low"})]})]}),m?r.jsx("div",{className:"flex items-center justify-center py-12",children:r.jsx("div",{className:"size-8 animate-spin rounded-full border-4 border-[#0dccf2] border-t-transparent"})}):0===t.length?r.jsx("div",{className:"text-center py-12",children:r.jsx("p",{className:"text-gray-400",children:"No tickets found"})}):r.jsx("div",{className:"space-y-2 max-h-[600px] overflow-y-auto",children:t.map(e=>(0,r.jsxs)("div",{onClick:()=>{o(e),L(e._id)},className:`p-4 rounded-lg border cursor-pointer transition-colors ${i?._id===e._id?"bg-[#0dccf2]/20 border-[#0dccf2]":"bg-white/5 border-white/10 hover:bg-white/10"}`,children:[(0,r.jsxs)("div",{className:"flex items-start justify-between mb-2",children:[(0,r.jsxs)("div",{className:"flex-1",children:[r.jsx("p",{className:"text-white font-medium",children:e.subject}),r.jsx("p",{className:"text-gray-400 text-sm",children:e.user?.username||e.user?.email||"Unknown User"})]}),(0,r.jsxs)("div",{className:"flex items-center gap-2",children:[r.jsx("span",{className:`px-2 py-1 rounded text-xs font-medium ${ee(e.status)}`,children:e.status.replace("_"," ")}),r.jsx("span",{className:`px-2 py-1 rounded text-xs font-medium ${et(e.priority)}`,children:e.priority})]})]}),(0,r.jsxs)("div",{className:"flex items-center gap-4 text-sm text-gray-400",children:[r.jsx("span",{children:es(e.category)}),r.jsx("span",{children:(0,c.p6)(e.createdAt)}),e.assignedTo&&(0,r.jsxs)("span",{children:["Assigned to: ",e.assignedTo.username]})]})]},e._id))}),q>1&&(0,r.jsxs)("div",{className:"flex items-center justify-between mt-6 pt-6 border-t border-white/10",children:[(0,r.jsxs)("p",{className:"text-gray-400 text-sm",children:["Showing ",(T-1)*20+1," to ",Math.min(20*T,P)," of ",P," tickets"]}),(0,r.jsxs)("div",{className:"flex items-center gap-2",children:[r.jsx("button",{onClick:()=>A(e=>Math.max(1,e-1)),disabled:1===T,className:"px-4 py-2 rounded-lg bg-white/5 border border-white/10 text-white disabled:opacity-50 disabled:cursor-not-allowed hover:bg-white/10 transition-colors",children:"Previous"}),(0,r.jsxs)("span",{className:"text-white px-4",children:["Page ",T," of ",q]}),r.jsx("button",{onClick:()=>A(e=>Math.min(q,e+1)),disabled:T===q,className:"px-4 py-2 rounded-lg bg-white/5 border border-white/10 text-white disabled:opacity-50 disabled:cursor-not-allowed hover:bg-white/10 transition-colors",children:"Next"})]})]})]})}),r.jsx("div",{className:"lg:col-span-1",children:i?(0,r.jsxs)("div",{className:"bg-[#1E1E2B]/50 dark:bg-black/20 rounded-xl border border-white/10 p-6",children:[(0,r.jsxs)("div",{className:"flex items-start justify-between mb-4",children:[r.jsx("h3",{className:"text-white text-lg font-semibold",children:"Ticket Details"}),r.jsx("button",{onClick:()=>o(null),className:"text-gray-400 hover:text-white",children:r.jsx("span",{className:"material-symbols-outlined",children:"close"})})]}),(0,r.jsxs)("div",{className:"space-y-4",children:[(0,r.jsxs)("div",{children:[r.jsx("p",{className:"text-gray-400 text-sm mb-1",children:"Subject"}),r.jsx("p",{className:"text-white",children:i.subject})]}),(0,r.jsxs)("div",{children:[r.jsx("p",{className:"text-gray-400 text-sm mb-1",children:"User"}),(0,r.jsxs)("p",{className:"text-white",children:[i.user?.firstName," ",i.user?.lastName]}),r.jsx("p",{className:"text-gray-400 text-sm",children:i.user?.email})]}),(0,r.jsxs)("div",{children:[r.jsx("p",{className:"text-gray-400 text-sm mb-1",children:"Status"}),r.jsx("span",{className:`inline-block px-2 py-1 rounded text-xs font-medium ${ee(i.status)}`,children:i.status.replace("_"," ")})]}),(0,r.jsxs)("div",{children:[r.jsx("p",{className:"text-gray-400 text-sm mb-1",children:"Priority"}),r.jsx("span",{className:`inline-block px-2 py-1 rounded text-xs font-medium ${et(i.priority)}`,children:i.priority})]}),(0,r.jsxs)("div",{children:[r.jsx("p",{className:"text-gray-400 text-sm mb-1",children:"Category"}),r.jsx("p",{className:"text-white",children:es(i.category)})]}),(0,r.jsxs)("div",{children:[r.jsx("p",{className:"text-gray-400 text-sm mb-1",children:"Created"}),r.jsx("p",{className:"text-white",children:(0,c.o0)(i.createdAt)})]}),i.assignedTo&&(0,r.jsxs)("div",{children:[r.jsx("p",{className:"text-gray-400 text-sm mb-1",children:"Assigned To"}),r.jsx("p",{className:"text-white",children:i.assignedTo.username})]}),(0,r.jsxs)("div",{className:"pt-4 border-t border-white/10",children:[r.jsx("p",{className:"text-gray-400 text-sm mb-2",children:"Initial Message"}),r.jsx("p",{className:"text-white text-sm bg-white/5 p-3 rounded-lg",children:i.message})]}),i.responses&&i.responses.length>1&&(0,r.jsxs)("div",{className:"pt-4 border-t border-white/10",children:[r.jsx("p",{className:"text-gray-400 text-sm mb-2",children:"Conversation"}),r.jsx("div",{className:"space-y-3 max-h-[300px] overflow-y-auto",children:i.responses.slice(1).map((e,t)=>(0,r.jsxs)("div",{className:"bg-white/5 p-3 rounded-lg",children:[(0,r.jsxs)("div",{className:"flex items-center justify-between mb-1",children:[(0,r.jsxs)("p",{className:"text-white text-sm font-medium",children:[e.user?.username||"User",e.isAdmin&&r.jsx("span",{className:"ml-2 text-[#0dccf2] text-xs",children:"(Admin)"})]}),r.jsx("p",{className:"text-gray-400 text-xs",children:(0,c.o0)(e.createdAt)})]}),r.jsx("p",{className:"text-gray-300 text-sm",children:e.message})]},t))})]}),r.jsx("div",{className:"pt-4 border-t border-white/10 space-y-2",children:"closed"!==i.status&&"resolved"!==i.status&&(0,r.jsxs)(r.Fragment,{children:[r.jsx("button",{onClick:()=>{D(!0),I("")},className:"w-full px-4 py-2 rounded-lg bg-[#0dccf2] text-white font-medium hover:bg-[#0bb5d9] transition-colors",children:"Respond"}),r.jsx("button",{onClick:()=>{U(!0),W(i.status)},className:"w-full px-4 py-2 rounded-lg bg-white/5 border border-white/10 text-white font-medium hover:bg-white/10 transition-colors",children:"Change Status"}),r.jsx("button",{onClick:()=>{Q(!0),Y("")},className:"w-full px-4 py-2 rounded-lg bg-red-500/20 border border-red-500/50 text-red-400 font-medium hover:bg-red-500/30 transition-colors",children:"Close Ticket"})]})})]})]}):r.jsx("div",{className:"bg-[#1E1E2B]/50 dark:bg-black/20 rounded-xl border border-white/10 p-6",children:r.jsx("p",{className:"text-gray-400 text-center",children:"Select a ticket to view details"})})})]})]})}),F&&r.jsx("div",{className:"fixed inset-0 bg-black/50 flex items-center justify-center z-50",children:(0,r.jsxs)("div",{className:"bg-[#1E1E2B] rounded-xl border border-white/10 p-6 w-full max-w-md",children:[r.jsx("h3",{className:"text-white text-xl font-semibold mb-4",children:"Respond to Ticket"}),r.jsx("textarea",{value:$,onChange:e=>I(e.target.value),rows:6,className:"w-full rounded-lg bg-white/5 border border-white/10 text-white px-4 py-2 mb-4 focus:outline-none focus:ring-2 focus:ring-[#0dccf2]/50",placeholder:"Enter your response..."}),(0,r.jsxs)("div",{className:"flex gap-2",children:[r.jsx("button",{onClick:J,disabled:h||!$.trim(),className:"flex-1 px-4 py-2 rounded-lg bg-[#0dccf2] text-white font-medium hover:bg-[#0bb5d9] transition-colors disabled:opacity-50 disabled:cursor-not-allowed",children:h?"Sending...":"Send Response"}),r.jsx("button",{onClick:()=>{D(!1),I("")},className:"px-4 py-2 rounded-lg bg-white/5 border border-white/10 text-white font-medium hover:bg-white/10 transition-colors",children:"Cancel"})]})]})}),O&&r.jsx("div",{className:"fixed inset-0 bg-black/50 flex items-center justify-center z-50",children:(0,r.jsxs)("div",{className:"bg-[#1E1E2B] rounded-xl border border-white/10 p-6 w-full max-w-md",children:[r.jsx("h3",{className:"text-white text-xl font-semibold mb-4",children:"Change Status"}),(0,r.jsxs)("select",{value:G,onChange:e=>W(e.target.value),className:"w-full h-12 rounded-lg bg-white/5 border border-white/10 text-white px-4 mb-4 focus:outline-none focus:ring-2 focus:ring-[#0dccf2]/50",children:[r.jsx("option",{value:"open",className:"bg-[#1E1E2B]",children:"Open"}),r.jsx("option",{value:"in_progress",className:"bg-[#1E1E2B]",children:"In Progress"}),r.jsx("option",{value:"resolved",className:"bg-[#1E1E2B]",children:"Resolved"}),r.jsx("option",{value:"closed",className:"bg-[#1E1E2B]",children:"Closed"})]}),(0,r.jsxs)("div",{className:"flex gap-2",children:[r.jsx("button",{onClick:X,disabled:h,className:"flex-1 px-4 py-2 rounded-lg bg-[#0dccf2] text-white font-medium hover:bg-[#0bb5d9] transition-colors disabled:opacity-50 disabled:cursor-not-allowed",children:h?"Updating...":"Update Status"}),r.jsx("button",{onClick:()=>{U(!1),W("")},className:"px-4 py-2 rounded-lg bg-white/5 border border-white/10 text-white font-medium hover:bg-white/10 transition-colors",children:"Cancel"})]})]})}),z&&r.jsx("div",{className:"fixed inset-0 bg-black/50 flex items-center justify-center z-50",children:(0,r.jsxs)("div",{className:"bg-[#1E1E2B] rounded-xl border border-white/10 p-6 w-full max-w-md",children:[r.jsx("h3",{className:"text-white text-xl font-semibold mb-4",children:"Close Ticket"}),r.jsx("textarea",{value:H,onChange:e=>Y(e.target.value),rows:4,className:"w-full rounded-lg bg-white/5 border border-white/10 text-white px-4 py-2 mb-4 focus:outline-none focus:ring-2 focus:ring-[#0dccf2]/50",placeholder:"Resolution notes (optional)..."}),(0,r.jsxs)("div",{className:"flex gap-2",children:[r.jsx("button",{onClick:V,disabled:h,className:"flex-1 px-4 py-2 rounded-lg bg-red-500 text-white font-medium hover:bg-red-600 transition-colors disabled:opacity-50 disabled:cursor-not-allowed",children:h?"Closing...":"Close Ticket"}),r.jsx("button",{onClick:()=>{Q(!1),Y("")},className:"px-4 py-2 rounded-lg bg-white/5 border border-white/10 text-white font-medium hover:bg-white/10 transition-colors",children:"Cancel"})]})]})})]})}function u(){return r.jsx(o.Z,{children:r.jsx(m,{})})}},21475:(e,t,s)=>{"use strict";s.d(t,{Z:()=>n});var r=s(95344),a=s(3729),i=s(22254),l=s(2324);function n({children:e}){let t=(0,i.useRouter)(),s=(0,i.usePathname)(),[n,o]=(0,a.useState)(!1),[d,c]=(0,a.useState)(!0);return((0,a.useEffect)(()=>{(()=>{if(!(0,l.$8)()){let e=encodeURIComponent(s||"/admin");t.push(`/auth/login?next=${e}`);return}if(!(0,l.GJ)()){t.push("/dashboard");return}o(!0),c(!1)})()},[t,s]),d)?r.jsx("div",{className:"flex min-h-screen w-full items-center justify-center bg-background-dark",children:(0,r.jsxs)("div",{className:"flex flex-col items-center gap-4",children:[r.jsx("div",{className:"size-8 animate-spin rounded-full border-4 border-[#0dccf2] border-t-transparent"}),r.jsx("p",{className:"text-white/70 text-sm",children:"Verifying access..."})]})}):n?r.jsx(r.Fragment,{children:e}):null}},22254:(e,t,s)=>{e.exports=s(14767)},2324:(e,t,s)=>{"use strict";s.d(t,{$8:()=>i,GJ:()=>l,My:()=>n,kS:()=>o,ts:()=>r});let r=()=>null,a=()=>null,i=()=>!!a(),l=()=>{let e=r();return!!e&&["admin","super_admin","operator"].includes(e.role)},n=e=>["admin","super_admin","operator"].includes(e)?"/admin":"/dashboard",o=()=>{}},94913:(e,t,s)=>{"use strict";s.d(t,{X6:()=>n,dN:()=>l,o0:()=>a,p6:()=>r});let r=(e,t={})=>{if(!e)return"N/A";try{let s=new Date(e);if(isNaN(s.getTime()))return"N/A";let r={day:"2-digit",month:"2-digit",year:"numeric",...t};return s.toLocaleDateString("tr-TR",r)}catch(e){return console.error("Error formatting date:",e),"N/A"}},a=e=>{if(!e)return"N/A";try{let t=new Date(e);if(isNaN(t.getTime()))return"N/A";return t.toLocaleDateString("tr-TR",{day:"2-digit",month:"2-digit",year:"numeric",hour:"2-digit",minute:"2-digit"})}catch(e){return console.error("Error formatting date time:",e),"N/A"}},i=(e,t="TRY",s="tr-TR")=>{if(null==e)return i(0,t,s);try{let r="string"==typeof e?parseFloat(e):e;if(isNaN(r))return i(0,t,s);return new Intl.NumberFormat(s,{style:"currency",currency:t,minimumFractionDigits:2,maximumFractionDigits:2}).format(r)}catch(s){return console.error("Error formatting currency:",s),`${e} ${t}`}},l=e=>i(e,"TRY","tr-TR"),n=e=>{if(null==e)return"0%";try{let t="string"==typeof e?parseFloat(e):e;if(isNaN(t))return"0%";if(t>0)return`+${t.toFixed(1)}%`;if(t<0)return`${t.toFixed(1)}%`;return"0%"}catch(e){return console.error("Error formatting change:",e),"0%"}}},36846:(e,t,s)=>{"use strict";s.d(t,{cM:()=>l});let r={DEBUG:"debug",INFO:"info",WARN:"warn",ERROR:"error"};class a{constructor(){this.isDevelopment=!1}formatMessage(e,t,s=null){let r=new Date().toISOString(),a=`[${r}] [${e.toUpperCase()}]`;return s?{prefix:a,message:t,data:s}:{prefix:a,message:t}}debug(e,t=null){if(!this.isDevelopment)return;let s=this.formatMessage(r.DEBUG,e,t);t?console.log(s.prefix,s.message,s.data):console.log(s.prefix,s.message)}info(e,t=null){let s=this.formatMessage(r.INFO,e,t);t?console.info(s.prefix,s.message,s.data):console.info(s.prefix,s.message)}warn(e,t=null){let s=this.formatMessage(r.WARN,e,t);t?console.warn(s.prefix,s.message,s.data):console.warn(s.prefix,s.message)}error(e,t=null){let s=this.formatMessage(r.ERROR,e,t);t?(console.error(s.prefix,s.message,t),this.isDevelopment):console.error(s.prefix,s.message)}apiError(e,t){this.error(`API Error [${e}]`,{endpoint:e,status:t?.response?.status,message:t?.response?.data?.message||t?.message,data:t?.response?.data})}}let i=new a,l={debug:(e,t)=>i.debug(e,t),info:(e,t)=>i.info(e,t),warn:(e,t)=>i.warn(e,t),error:(e,t)=>i.error(e,t),apiError:(e,t)=>i.apiError(e,t)}},24012:(e,t,s)=>{"use strict";s.r(t),s.d(t,{$$typeof:()=>i,__esModule:()=>a,default:()=>l});let r=(0,s(86843).createProxy)(String.raw`W:\garbet\Frontend\app\admin\support\page.js`),{__esModule:a,$$typeof:i}=r,l=r.default}};var t=require("../../../webpack-runtime.js");t.C(e);var s=e=>t(t.s=e),r=t.X(0,[1263,9069],()=>s(81552));module.exports=r})();