(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[5760],{59032:function(e,t,l){Promise.resolve().then(l.bind(l,46420))},46420:function(e,t,l){"use strict";l.r(t),l.d(t,{default:function(){return u}});var s=l(57437),a=l(2265),i=l(24033),r=l(24322),n=l(96299);function d(e){let{value:t,isRolling:l=!1,size:i="large"}=e,[r,n]=(0,a.useState)(t||1),[d,o]=(0,a.useState)(!1);return(0,a.useEffect)(()=>{if(l){o(!0);let e=setInterval(()=>{n(Math.floor(6*Math.random())+1)},100);return()=>{clearInterval(e),o(!1)}}t&&(o(!1),n(t))},[l,t]),(0,s.jsxs)("div",{className:"relative ".concat({small:"w-16 h-16 text-2xl",medium:"w-24 h-24 text-4xl",large:"w-32 h-32 text-5xl",xlarge:"w-40 h-40 text-6xl"}[i]," ").concat(d?"animate-bounce":""),children:[(0,s.jsxs)("div",{className:"w-full h-full rounded-xl bg-gradient-to-br from-white to-gray-200 shadow-2xl border-4 border-gray-400 flex items-center justify-center relative overflow-hidden ".concat(d?"animate-spin":""),children:[(0,s.jsx)("div",{className:"absolute inset-2 rounded-lg bg-white",children:(0,s.jsx)("div",{className:"relative w-full h-full",children:(({1:["center"],2:["top-left","bottom-right"],3:["top-left","center","bottom-right"],4:["top-left","top-right","bottom-left","bottom-right"],5:["top-left","top-right","center","bottom-left","bottom-right"],6:["top-left","top-right","middle-left","middle-right","bottom-left","bottom-right"]})[r]||[]).map((e,t)=>(0,s.jsx)("div",{className:"absolute ".concat({"top-left":"top-2 left-2","top-right":"top-2 right-2","middle-left":"top-1/2 left-2 -translate-y-1/2","middle-right":"top-1/2 right-2 -translate-y-1/2",center:"top-1/2 left-1/2 -translate-x-1/2 -translate-y-1/2","bottom-left":"bottom-2 left-2","bottom-right":"bottom-2 right-2"}[e]," ").concat("xlarge"===i?"w-6 h-6":"large"===i?"w-5 h-5":"medium"===i?"w-4 h-4":"w-3 h-3"," bg-black rounded-full")},t))})}),(0,s.jsx)("div",{className:"absolute inset-0 bg-gradient-to-br from-white/30 to-transparent rounded-xl pointer-events-none"})]}),d&&(0,s.jsx)("div",{className:"absolute inset-0 rounded-xl bg-[#0dccf2] opacity-50 blur-xl animate-pulse"})]})}var o=l(62385),c=l(24215);function x(e){var t,l;let{balance:i,matchmakingStatus:r,setMatchmakingStatus:n,setMyGame:d,setError:c,setSuccess:x,fetchUserData:m}=e,[u,p]=(0,a.useState)(""),[h,b]=(0,a.useState)(!1),[v,g]=(0,a.useState)(!1);(0,a.useEffect)(()=>{if(null==r?void 0:r.inQueue){let e=setInterval(async()=>{await j()},2e3);return()=>clearInterval(e)}},[r]);let f=async()=>{var e,t,l,s,a,r;if(!u||0>=parseFloat(u)){c("Please enter a valid bet amount");return}if(parseFloat(u)>i){c("Insufficient balance");return}b(!0),c("");try{let l=await o.mb.getMatchmakingStatus(),s=(null===(e=l.data)||void 0===e?void 0:e.data)||l.data;if(s.inQueue){n(s),x("Already in queue, searching for opponent..."),b(!1);return}let a=await o.mb.joinQueue({betAmount:parseFloat(u)}),i=(null===(t=a.data)||void 0===t?void 0:t.data)||a.data;i.matched&&i.game?(d(i.game),x("Match found!"),await m()):(i.queue?n({inQueue:!0,queue:i.queue}):n({inQueue:!0}),x("Searching for opponent..."))}catch(e){if((null===(l=e.response)||void 0===l?void 0:l.status)===409)try{let e=await o.mb.getMatchmakingStatus(),t=(null===(s=e.data)||void 0===s?void 0:s.data)||e.data;t.inQueue?(n(t),x("Already in queue, searching for opponent...")):c("Please try again")}catch(e){c("Already in queue. Please wait...")}else c((null===(r=e.response)||void 0===r?void 0:null===(a=r.data)||void 0===a?void 0:a.message)||"Failed to join queue")}finally{b(!1)}},j=async()=>{g(!0);try{var e;let t=await o.mb.getMatchmakingStatus(),l=(null===(e=t.data)||void 0===e?void 0:e.data)||t.data;l.matched&&l.game?(d(l.game),n(null),x("Match found!"),await m()):l.inQueue?n(l):n(null)}catch(e){}finally{g(!1)}},N=async()=>{try{await o.mb.leaveQueue(),n(null),x("Left queue"),await m()}catch(l){var e,t;c((null===(t=l.response)||void 0===t?void 0:null===(e=t.data)||void 0===e?void 0:e.message)||"Failed to leave queue")}};return(0,s.jsxs)("div",{className:"bg-[#111718] rounded-xl border border-[#3b5054] p-6",children:[(0,s.jsx)("h2",{className:"text-white text-2xl font-bold mb-4",children:"\uD83C\uDFAE Play Mode"}),(null==r?void 0:r.inQueue)?(0,s.jsxs)("div",{className:"text-center",children:[(0,s.jsx)("div",{className:"size-16 animate-spin rounded-full border-4 border-[#0dccf2] border-t-transparent mx-auto mb-4"}),(0,s.jsx)("p",{className:"text-white text-lg font-bold mb-2",children:"Searching for opponent..."}),(0,s.jsxs)("p",{className:"text-white/60 text-sm mb-4",children:["Bet Amount: ₺",null===(l=r.queue)||void 0===l?void 0:null===(t=l.betAmount)||void 0===t?void 0:t.toFixed(2)]}),(0,s.jsx)("button",{onClick:N,className:"px-4 py-2 bg-red-500/20 text-red-400 rounded-lg hover:bg-red-500/30 transition-colors",children:"Cancel Search"})]}):(0,s.jsxs)("div",{className:"space-y-4",children:[(0,s.jsxs)("div",{children:[(0,s.jsx)("label",{className:"block text-white/70 text-sm mb-2",children:"Bet Amount"}),(0,s.jsx)("input",{type:"number",value:u,onChange:e=>p(e.target.value),placeholder:"Enter bet amount",className:"w-full h-12 px-4 bg-[#283639] text-white rounded-lg border-none focus:ring-2 focus:ring-[#0dccf2]",min:"1",step:"0.01"}),(0,s.jsx)("p",{className:"text-white/50 text-xs mt-1",children:"You'll be matched with a player with a similar bet amount"})]}),(0,s.jsx)("button",{onClick:f,disabled:h||!u||0>=parseFloat(u),className:"w-full h-12 bg-[#0dccf2] text-black rounded-lg font-bold hover:bg-[#0dccf2]/90 transition-colors disabled:opacity-50",children:h?"Joining...":"Find Opponent"})]})]})}function m(e){var t,l,i,r,n,c,x,m,u,p,h,b,v,g,f,j,N,y,w,S,k,B,R,A,F,P,C,D,M,_,E,W,z,G,O,I,Y,q,T,Q,L,V,U,Z,$,H;let{game:J,user:K,setMyGame:X,setError:ee,setSuccess:et,fetchUserData:el}=e,[es,ea]=(0,a.useState)(!1),[ei,er]=(0,a.useState)(!1),[en,ed]=(0,a.useState)(!1),eo=async()=>{if(!ei){er(!0);try{var e;let t=await o.mb.getGame(J._id),l=(null===(e=t.data)||void 0===e?void 0:e.data)||t.data,s=l.game||l;X(s),"completed"===s.status&&(ed(!1),await el())}catch(e){}finally{er(!1)}}};(0,a.useEffect)(()=>{if("in-progress"===J.status){let e=setInterval(()=>{eo()},2e3);return()=>clearInterval(e)}"completed"===J.status&&eo()},[J.status,J._id]);let ec=async()=>{ea(!0),ed(!0),ee(""),setTimeout(async()=>{var e,t,l,s,a,i,r,n,d,c,x,m,u;try{let m=await o.mb.rollDice(J._id),u=(null===(e=m.data)||void 0===e?void 0:e.data)||m.data;if(X(u.game||u),ed(!1),u.isComplete){let e="player1"===u.winner?(null===(s=u.game)||void 0===s?void 0:null===(l=s.players)||void 0===l?void 0:null===(t=l.player1)||void 0===t?void 0:t.username)||(null===(i=J.players)||void 0===i?void 0:null===(a=i.player1)||void 0===a?void 0:a.username):(null===(d=u.game)||void 0===d?void 0:null===(n=d.players)||void 0===n?void 0:null===(r=n.player2)||void 0===r?void 0:r.username)||(null===(x=J.players)||void 0===x?void 0:null===(c=x.player2)||void 0===c?void 0:c.username);et("Game complete! Winner: ".concat(e)),await el(),await eo()}else et("Dice rolled! Waiting for opponent..."),await eo()}catch(e){ee((null===(u=e.response)||void 0===u?void 0:null===(m=u.data)||void 0===m?void 0:m.message)||"Failed to roll dice"),ed(!1)}finally{ea(!1)}},2e3)},ex=(null===(i=J.players)||void 0===i?void 0:null===(l=i.player1)||void 0===l?void 0:null===(t=l.user)||void 0===t?void 0:t.toString())===(null==K?void 0:null===(r=K._id)||void 0===r?void 0:r.toString()),em=(null===(x=J.players)||void 0===x?void 0:null===(c=x.player2)||void 0===c?void 0:null===(n=c.user)||void 0===n?void 0:n.toString())===(null==K?void 0:null===(m=K._id)||void 0===m?void 0:m.toString()),eu=ex?null===(p=J.players)||void 0===p?void 0:null===(u=p.player1)||void 0===u?void 0:u.diceRoll:null===(b=J.players)||void 0===b?void 0:null===(h=b.player2)||void 0===h?void 0:h.diceRoll,ep=ex?null===(g=J.players)||void 0===g?void 0:null===(v=g.player2)||void 0===v?void 0:v.diceRoll:null===(j=J.players)||void 0===j?void 0:null===(f=j.player1)||void 0===f?void 0:f.diceRoll,eh=ex?null===(y=J.players)||void 0===y?void 0:null===(N=y.player2)||void 0===N?void 0:N.username:null===(S=J.players)||void 0===S?void 0:null===(w=S.player1)||void 0===w?void 0:w.username,eb=ex&&!(null===(B=J.players)||void 0===B?void 0:null===(k=B.player1)||void 0===k?void 0:k.diceRoll)||em&&!(null===(A=J.players)||void 0===A?void 0:null===(R=A.player2)||void 0===R?void 0:R.diceRoll),ev=(null===(P=J.players)||void 0===P?void 0:null===(F=P.player1)||void 0===F?void 0:F.diceRoll)&&(null===(D=J.players)||void 0===D?void 0:null===(C=D.player2)||void 0===C?void 0:C.diceRoll);return(0,s.jsxs)("div",{className:"bg-[#111718] rounded-xl border border-[#3b5054] p-6 shadow-xl",children:[(0,s.jsxs)("div",{className:"text-center mb-6",children:[(0,s.jsxs)("h2",{className:"text-white text-3xl font-black mb-2",children:["Game #",J.gameNumber]}),(0,s.jsx)("div",{className:"inline-block px-4 py-1 bg-[#0dccf2]/20 text-[#0dccf2] rounded-full text-sm font-semibold",children:"Player vs Player"})]}),(0,s.jsx)("div",{className:"flex justify-center mb-8",children:(0,s.jsx)("div",{className:"relative",children:en?(0,s.jsx)(d,{value:null,isRolling:!0,size:"xlarge"}):ev?(0,s.jsxs)("div",{className:"flex items-center gap-6",children:[(0,s.jsxs)("div",{className:"text-center",children:[(0,s.jsx)("p",{className:"text-white/60 text-sm mb-2",children:"You"}),(0,s.jsx)(d,{value:eu||0,isRolling:!1,size:"large"}),(0,s.jsx)("p",{className:"text-[#0dccf2] font-black text-2xl mt-2",children:eu||0})]}),(0,s.jsx)("div",{className:"text-white/40 text-4xl font-black",children:"VS"}),(0,s.jsxs)("div",{className:"text-center",children:[(0,s.jsx)("p",{className:"text-white/60 text-sm mb-2",children:"Opponent"}),(0,s.jsx)(d,{value:ep||0,isRolling:!1,size:"large"}),(0,s.jsx)("p",{className:"text-purple-400 font-black text-2xl mt-2",children:ep||0})]})]}):eu?(0,s.jsxs)("div",{className:"text-center",children:[(0,s.jsx)("p",{className:"text-white/60 text-sm mb-2",children:"Your Roll"}),(0,s.jsx)(d,{value:eu,isRolling:!1,size:"xlarge"}),(0,s.jsx)("p",{className:"text-[#0dccf2] font-black text-3xl mt-4",children:eu})]}):ep?(0,s.jsxs)("div",{className:"text-center",children:[(0,s.jsx)("p",{className:"text-white/60 text-sm mb-2",children:"Opponent Rolled"}),(0,s.jsx)(d,{value:ep,isRolling:!1,size:"xlarge"}),(0,s.jsx)("p",{className:"text-purple-400 font-black text-3xl mt-4",children:ep})]}):(0,s.jsx)("div",{className:"w-40 h-40 rounded-xl bg-gradient-to-br from-gray-700 to-gray-900 border-4 border-gray-600 flex items-center justify-center",children:(0,s.jsx)("span",{className:"text-white/40 text-sm",children:"Waiting for rolls..."})})})}),(0,s.jsxs)("div",{className:"grid grid-cols-2 gap-6 mb-6",children:[(0,s.jsxs)("div",{className:"bg-gradient-to-br from-[#1b2527] to-[#0dccf2]/10 rounded-xl p-5 border-2 border-[#0dccf2]/30 shadow-lg",children:[(0,s.jsxs)("div",{className:"flex items-center gap-2 mb-3",children:[(0,s.jsx)("span",{className:"material-symbols-outlined text-[#0dccf2]",children:"person"}),(0,s.jsx)("p",{className:"text-white/60 text-sm",children:"You"})]}),(0,s.jsx)("p",{className:"text-white font-bold text-xl mb-3",children:ex?null===(_=J.players)||void 0===_?void 0:null===(M=_.player1)||void 0===M?void 0:M.username:null===(W=J.players)||void 0===W?void 0:null===(E=W.player2)||void 0===E?void 0:E.username}),(0,s.jsxs)("div",{className:"space-y-2",children:[(0,s.jsxs)("div",{className:"flex justify-between items-center bg-[#0dccf2]/10 rounded-lg p-2",children:[(0,s.jsx)("span",{className:"text-white/60 text-xs",children:"Bet:"}),(0,s.jsxs)("span",{className:"text-[#0dccf2] font-bold",children:["₺",null===(z=ex?null===(O=J.players)||void 0===O?void 0:null===(G=O.player1)||void 0===G?void 0:G.betAmount:null===(Y=J.players)||void 0===Y?void 0:null===(I=Y.player2)||void 0===I?void 0:I.betAmount)||void 0===z?void 0:z.toFixed(2)]})]}),eu&&(0,s.jsxs)("div",{className:"mt-4 p-3 bg-[#0dccf2]/20 rounded-lg border border-[#0dccf2]/50",children:[(0,s.jsx)("p",{className:"text-white/60 text-xs mb-1",children:"Your Roll:"}),(0,s.jsx)("div",{className:"flex justify-center",children:(0,s.jsx)(d,{value:eu,isRolling:!1,size:"medium"})}),(0,s.jsx)("p",{className:"text-[#0dccf2] text-2xl font-black text-center mt-2",children:eu})]})]})]}),(0,s.jsxs)("div",{className:"bg-gradient-to-br from-[#1b2527] to-purple-500/10 rounded-xl p-5 border-2 border-purple-500/30 shadow-lg",children:[(0,s.jsxs)("div",{className:"flex items-center gap-2 mb-3",children:[(0,s.jsx)("span",{className:"material-symbols-outlined text-purple-400",children:"person_outline"}),(0,s.jsx)("p",{className:"text-white/60 text-sm",children:"Opponent"})]}),(0,s.jsx)("p",{className:"text-white font-bold text-xl mb-3",children:eh}),(0,s.jsxs)("div",{className:"space-y-2",children:[(0,s.jsxs)("div",{className:"flex justify-between items-center bg-purple-500/10 rounded-lg p-2",children:[(0,s.jsx)("span",{className:"text-white/60 text-xs",children:"Bet:"}),(0,s.jsxs)("span",{className:"text-purple-400 font-bold",children:["₺",null===(q=ex?null===(Q=J.players)||void 0===Q?void 0:null===(T=Q.player2)||void 0===T?void 0:T.betAmount:null===(V=J.players)||void 0===V?void 0:null===(L=V.player1)||void 0===L?void 0:L.betAmount)||void 0===q?void 0:q.toFixed(2)]})]}),ep&&(0,s.jsxs)("div",{className:"mt-4 p-3 bg-purple-500/20 rounded-lg border border-purple-500/50",children:[(0,s.jsx)("p",{className:"text-white/60 text-xs mb-1",children:"Opponent Roll:"}),(0,s.jsx)("div",{className:"flex justify-center",children:(0,s.jsx)(d,{value:ep,isRolling:!1,size:"medium"})}),(0,s.jsx)("p",{className:"text-purple-400 text-2xl font-black text-center mt-2",children:ep})]})]})]})]}),"completed"===J.status&&J.selectedWinner&&(0,s.jsxs)("div",{className:"bg-green-500/20 border border-green-500/50 rounded-lg p-4 mb-4",children:[(0,s.jsxs)("p",{className:"text-green-400 font-bold text-lg text-center",children:["Winner: ","player1"===J.selectedWinner?null===(Z=J.players)||void 0===Z?void 0:null===(U=Z.player1)||void 0===U?void 0:U.username:null===(H=J.players)||void 0===H?void 0:null===($=H.player2)||void 0===$?void 0:$.username]}),ex&&"player1"===J.selectedWinner||em&&"player2"===J.selectedWinner?(0,s.jsx)("p",{className:"text-green-400 text-center mt-2",children:"\uD83C\uDF89 You won!"}):(0,s.jsx)("p",{className:"text-red-400 text-center mt-2",children:"You lost"})]}),"in-progress"===J.status&&eb&&(0,s.jsx)("button",{onClick:ec,disabled:es||en,className:"w-full h-14 bg-gradient-to-r from-[#0dccf2] to-[#0bb5d9] text-black rounded-xl font-black text-lg hover:from-[#0bb5d9] hover:to-[#0dccf2] transition-all transform hover:scale-105 shadow-lg shadow-[#0dccf2]/50 disabled:opacity-50 disabled:transform-none disabled:shadow-none disabled:cursor-not-allowed flex items-center justify-center gap-2",children:es||en?(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)(d,{value:null,isRolling:!0,size:"small"}),(0,s.jsx)("span",{children:"Rolling Dice..."})]}):(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)("span",{className:"material-symbols-outlined",children:"casino"}),(0,s.jsx)("span",{children:"Roll Dice"})]})}),"in-progress"===J.status&&!eb&&!ev&&(0,s.jsxs)("div",{className:"text-center p-6 bg-[#1b2527] rounded-xl border border-[#3b5054]",children:[(0,s.jsx)("div",{className:"size-12 animate-spin rounded-full border-4 border-purple-500 border-t-transparent mx-auto mb-3"}),(0,s.jsx)("p",{className:"text-white font-semibold mb-1",children:ep?"Opponent has rolled! Waiting for results...":"Waiting for opponent to roll..."}),(0,s.jsx)("p",{className:"text-white/60 text-sm",children:eu?"Your roll: ".concat(eu):"Your turn will come next!"})]}),"in-progress"===J.status&&ev&&(0,s.jsxs)("div",{className:"text-center p-6 bg-gradient-to-br from-green-500/20 to-[#1b2527] rounded-xl border-2 border-green-500/50",children:[(0,s.jsxs)("div",{className:"flex items-center justify-center gap-2 mb-2",children:[(0,s.jsx)("span",{className:"material-symbols-outlined text-green-400 text-2xl",children:"hourglass_empty"}),(0,s.jsx)("p",{className:"text-white font-bold text-lg",children:"Both players have rolled!"})]}),(0,s.jsx)("p",{className:"text-white/60 text-sm",children:"Calculating winner..."})]})]})}var u=function(){var e,t,l,u,p,h,b,v,g,f,j,N,y,w,S,k,B,R,A,F,P,C,D,M,_,E,W,z;let{t:G}=(0,n.$)(),O=(0,i.useRouter)(),[I,Y]=(0,a.useState)(null),[q,T]=(0,a.useState)(null),[Q,L]=(0,a.useState)(0),[V,U]=(0,a.useState)(!0),[Z,$]=(0,a.useState)(!1),[H,J]=(0,a.useState)(""),[K,X]=(0,a.useState)(""),[ee,et]=(0,a.useState)(""),[el,es]=(0,a.useState)(null),[ea,ei]=(0,a.useState)([]),[er,en]=(0,a.useState)([]),[ed,eo]=(0,a.useState)(null),[ec,ex]=(0,a.useState)([]),[em,eu]=(0,a.useState)([]),[ep,eh]=(0,a.useState)(null),[eb,ev]=(0,a.useState)(null),[eg,ef]=(0,a.useState)(null),[ej,eN]=(0,a.useState)(null);(0,a.useEffect)(()=>{ew(),eS(),ek(),eB(),ey();let e=setInterval(()=>{Z||eS(),ey()},3e3);return eo(e),()=>{e&&clearInterval(e)}},[]);let ey=async()=>{try{var e;let t=await o.mb.getMatchmakingStatus(),l=(null===(e=t.data)||void 0===e?void 0:e.data)||t.data;l.matched&&l.game&&(ef(l.game),eh("play"),await ew())}catch(e){}},ew=async()=>{try{let e=await o.kv.me();T(e.data),L(e.data.balance||0)}catch(t){var e;(null===(e=t.response)||void 0===e?void 0:e.status)===401?O.push("/auth/login"):c.cM.apiError("/auth/me",t)}},eS=async()=>{var e,t,l,s;try{let s=(await o.mb.getActiveGame()).data,a=(null==s?void 0:null===(e=s.data)||void 0===e?void 0:e.game)||(null==s?void 0:s.game)||null;if(a){let e=(null==s?void 0:null===(t=s.data)||void 0===t?void 0:t.betStats)||(null==s?void 0:s.betStats),i=(null==s?void 0:null===(l=s.data)||void 0===l?void 0:l.bets)||[];Y({...a,betStats:e});let r=i.slice(0,20).map(e=>{var t;return{id:e._id,username:(null===(t=e.user)||void 0===t?void 0:t.username)||"Anonymous",amount:e.betAmount,option:e.selectedOption,time:new Date(e.createdAt)}});ex(r);let n=new Map;i.forEach(e=>{var t;let l=(null===(t=e.user)||void 0===t?void 0:t.username)||"Anonymous";n.has(l)||n.set(l,{username:l,player1Bets:0,player2Bets:0,totalAmount:0});let s=n.get(l);"player1"===e.selectedOption?s.player1Bets++:s.player2Bets++,s.totalAmount+=e.betAmount}),eu(Array.from(n.values()))}else Y(null),ex([]),eu([])}catch(e){(null===(s=e.response)||void 0===s?void 0:s.status)!==404&&c.cM.apiError("/dice-roll-games/active",e),Y(null),ex([]),eu([])}finally{U(!1)}},ek=async()=>{try{var e;let t=await o.mb.getAllGames({status:"completed",limit:10}),l=(null===(e=t.data)||void 0===e?void 0:e.data)||t.data;ei((null==l?void 0:l.games)||[])}catch(e){c.cM.apiError("/dice-roll-games",e)}},eB=async()=>{try{var e;let t=await o.Yu.getMyBets({limit:10}),l=(null===(e=t.data)||void 0===e?void 0:e.data)||t.data;en((null==l?void 0:l.bets)||[])}catch(e){c.cM.apiError("/dice-roll-bets/my-bets",e)}},eR=e=>{et(e)},eA=async()=>{var e,t,l;if(!I){J("No active game available");return}if(!el){J("Please select Player 1 or Player 2");return}if(!ee||0>=parseFloat(ee)){J("Please enter a valid bet amount");return}let s=parseFloat(ee);if(s>Q){J("Insufficient balance");return}$(!0),J(""),X("");try{let t=await o.mb.placeBet(I._id,{selectedOption:el,betAmount:s});X("Bet placed successfully!"),et(""),es(null);let l=(null===(e=t.data)||void 0===e?void 0:e.data)||t.data;(null==l?void 0:l.userBalance)!==void 0&&L(l.userBalance),await Promise.all([eS(),eB(),ew()])}catch(e){J((null===(l=e.response)||void 0===l?void 0:null===(t=l.data)||void 0===t?void 0:t.message)||"Failed to place bet"),c.cM.apiError("/dice-roll-bets",e)}finally{$(!1)}},eF=e=>{switch(e){case"accepting-bets":return"bg-green-500/20 text-green-400";case"closed":return"bg-yellow-500/20 text-yellow-400";case"completed":return"bg-blue-500/20 text-blue-400";default:return"bg-gray-500/20 text-gray-400"}};return(0,s.jsx)(r.Z,{children:(0,s.jsx)("div",{className:"relative flex min-h-screen w-full flex-col bg-[#151328]",children:(0,s.jsx)("main",{className:"flex-1 px-4 sm:px-6 lg:px-8 py-8",children:(0,s.jsxs)("div",{className:"max-w-7xl mx-auto",children:[(0,s.jsx)("div",{className:"mb-8 text-center lg:text-left",children:(0,s.jsxs)("div",{className:"flex items-center justify-center lg:justify-start gap-4 mb-4",children:[(0,s.jsxs)("div",{className:"relative",children:[(0,s.jsx)(d,{value:null,isRolling:!0,size:"medium"}),(0,s.jsx)("div",{className:"absolute inset-0 bg-[#0dccf2] opacity-20 blur-2xl rounded-full"})]}),(0,s.jsxs)("div",{children:[(0,s.jsx)("h1",{className:"text-white text-5xl font-black mb-2 bg-gradient-to-r from-[#0dccf2] to-white bg-clip-text text-transparent",children:"Dice Roll"}),(0,s.jsx)("p",{className:"text-white/60 text-base",children:"Play against other players or place bets on matches!"})]})]})}),!ep&&!eg&&(0,s.jsxs)("div",{className:"mb-8 grid grid-cols-1 md:grid-cols-2 gap-6",children:[(0,s.jsxs)("button",{onClick:()=>eh("play"),className:"group relative bg-gradient-to-br from-[#111718] to-[#0dccf2]/10 rounded-2xl border-2 border-[#0dccf2] p-8 hover:border-[#0dccf2] hover:shadow-2xl hover:shadow-[#0dccf2]/30 transition-all transform hover:scale-105 overflow-hidden",children:[(0,s.jsx)("div",{className:"absolute inset-0 bg-gradient-to-br from-[#0dccf2]/0 to-[#0dccf2]/10 opacity-0 group-hover:opacity-100 transition-opacity"}),(0,s.jsxs)("div",{className:"relative z-10",children:[(0,s.jsxs)("div",{className:"flex items-center gap-4 mb-4",children:[(0,s.jsx)("div",{className:"p-3 bg-[#0dccf2]/20 rounded-xl",children:(0,s.jsx)("span",{className:"material-symbols-outlined text-5xl text-[#0dccf2]",children:"person"})}),(0,s.jsx)("h2",{className:"text-white text-3xl font-black",children:"Play"})]}),(0,s.jsx)("p",{className:"text-white/70 text-base leading-relaxed",children:"Match with another player and roll dice. Winner takes all the pot!"}),(0,s.jsxs)("div",{className:"mt-4 flex items-center gap-2 text-[#0dccf2] text-sm font-semibold",children:[(0,s.jsx)("span",{children:"Start Playing"}),(0,s.jsx)("span",{className:"material-symbols-outlined group-hover:translate-x-1 transition-transform",children:"arrow_forward"})]})]})]}),(0,s.jsxs)("button",{onClick:()=>eh("bet"),className:"group relative bg-gradient-to-br from-[#111718] to-purple-500/10 rounded-2xl border-2 border-purple-500 p-8 hover:border-purple-400 hover:shadow-2xl hover:shadow-purple-500/30 transition-all transform hover:scale-105 overflow-hidden",children:[(0,s.jsx)("div",{className:"absolute inset-0 bg-gradient-to-br from-purple-500/0 to-purple-500/10 opacity-0 group-hover:opacity-100 transition-opacity"}),(0,s.jsxs)("div",{className:"relative z-10",children:[(0,s.jsxs)("div",{className:"flex items-center gap-4 mb-4",children:[(0,s.jsx)("div",{className:"p-3 bg-purple-500/20 rounded-xl",children:(0,s.jsx)("span",{className:"material-symbols-outlined text-5xl text-purple-400",children:"casino"})}),(0,s.jsx)("h2",{className:"text-white text-3xl font-black",children:"Place Bet"})]}),(0,s.jsx)("p",{className:"text-white/70 text-base leading-relaxed",children:"Bet on existing matches and watch the action unfold in real-time!"}),(0,s.jsxs)("div",{className:"mt-4 flex items-center gap-2 text-purple-400 text-sm font-semibold",children:[(0,s.jsx)("span",{children:"View Matches"}),(0,s.jsx)("span",{className:"material-symbols-outlined group-hover:translate-x-1 transition-transform",children:"arrow_forward"})]})]})]})]}),(ep||eg)&&(0,s.jsxs)("button",{onClick:()=>{eh(null),ef(null),ev(null)},className:"mb-4 flex items-center gap-2 text-white/60 hover:text-white transition-colors",children:[(0,s.jsx)("span",{className:"material-symbols-outlined",children:"arrow_back"}),(0,s.jsx)("span",{children:"Back to Options"})]}),(0,s.jsx)("div",{className:"mb-6 bg-[#111718] rounded-xl border border-[#3b5054] p-4",children:(0,s.jsxs)("div",{className:"flex items-center justify-between",children:[(0,s.jsxs)("div",{children:[(0,s.jsx)("p",{className:"text-white/60 text-sm",children:"Your Balance"}),(0,s.jsxs)("p",{className:"text-white text-2xl font-bold",children:["₺",Q.toFixed(2)]})]}),(0,s.jsx)("button",{onClick:()=>O.push("/deposit"),className:"px-4 py-2 bg-[#0dccf2] text-black rounded-lg font-bold hover:bg-[#0dccf2]/90 transition-colors",children:"Deposit"})]})}),"play"===ep&&!eg&&(0,s.jsx)("div",{className:"mb-6",children:(0,s.jsx)(x,{balance:Q,matchmakingStatus:eb,setMatchmakingStatus:ev,setMyGame:ef,setError:J,setSuccess:X,fetchUserData:ew})}),eg&&(0,s.jsx)("div",{className:"mb-6",children:(0,s.jsx)(m,{game:eg,user:q,setMyGame:ef,setError:J,setSuccess:X,fetchUserData:ew})}),"bet"===ep&&(0,s.jsxs)("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-6",children:[(0,s.jsx)("div",{className:"lg:col-span-2",children:V?(0,s.jsxs)("div",{className:"bg-[#111718] rounded-xl border border-[#3b5054] p-8 text-center",children:[(0,s.jsx)("div",{className:"size-8 animate-spin rounded-full border-4 border-[#0dccf2] border-t-transparent mx-auto"}),(0,s.jsx)("p",{className:"text-white/60 mt-4",children:"Loading game..."})]}):I?(0,s.jsxs)("div",{className:"space-y-6",children:[(0,s.jsxs)("div",{className:"bg-[#111718] rounded-xl border border-[#3b5054] overflow-hidden",children:[(0,s.jsx)("div",{className:"bg-[#1b2527] px-6 py-4 border-b border-[#3b5054]",children:(0,s.jsxs)("div",{className:"flex items-center justify-between",children:[(0,s.jsxs)("div",{children:[(0,s.jsxs)("h2",{className:"text-white text-xl font-bold",children:["Game #",I.gameNumber]}),(0,s.jsx)("span",{className:"inline-block px-3 py-1 rounded-full text-xs font-semibold mt-2 ".concat(eF(I.status)),children:"accepting-bets"===I.status?"Accepting Bets":I.status})]}),(0,s.jsxs)("div",{className:"text-right",children:[(0,s.jsx)("p",{className:"text-white/60 text-sm",children:"Total Bets"}),(0,s.jsx)("p",{className:"text-white text-lg font-bold",children:I.totalBets||0})]})]})}),(0,s.jsxs)("div",{className:"p-6",children:[(0,s.jsxs)("div",{className:"grid grid-cols-2 gap-4 mb-6",children:[(0,s.jsxs)("div",{className:"rounded-lg border-2 p-4 cursor-pointer transition-all ".concat("player1"===el?"bg-[#0dccf2]/20 border-[#0dccf2]":"bg-[#1b2527] border-[#3b5054] hover:border-[#0dccf2]/50"),onClick:()=>"accepting-bets"===I.status&&es("player1"),children:[(0,s.jsxs)("div",{className:"flex items-center justify-between mb-3",children:[(0,s.jsx)("h3",{className:"text-white font-bold text-lg",children:(null===(t=I.options)||void 0===t?void 0:null===(e=t.player1)||void 0===e?void 0:e.name)||"Player 1"}),"player1"===el&&(0,s.jsx)("span",{className:"material-symbols-outlined text-[#0dccf2]",children:"check_circle"})]}),(0,s.jsxs)("div",{className:"space-y-2",children:[(0,s.jsxs)("div",{className:"flex justify-between text-sm",children:[(0,s.jsx)("span",{className:"text-white/60",children:"Dice Range:"}),(0,s.jsx)("span",{className:"text-white font-semibold",children:"1-3"})]}),(0,s.jsxs)("div",{className:"flex justify-between text-sm",children:[(0,s.jsx)("span",{className:"text-white/60",children:"Bets:"}),(0,s.jsx)("span",{className:"text-white font-semibold",children:(null===(u=I.options)||void 0===u?void 0:null===(l=u.player1)||void 0===l?void 0:l.betCount)||0})]}),(0,s.jsxs)("div",{className:"flex justify-between text-sm",children:[(0,s.jsx)("span",{className:"text-white/60",children:"Total:"}),(0,s.jsxs)("span",{className:"text-white font-semibold",children:["₺",((null===(h=I.options)||void 0===h?void 0:null===(p=h.player1)||void 0===p?void 0:p.totalBetAmount)||0).toFixed(2)]})]})]})]}),(0,s.jsxs)("div",{className:"rounded-xl border-2 p-5 cursor-pointer transition-all transform hover:scale-105 ".concat("player2"===el?"bg-purple-500/20 border-purple-500 shadow-lg shadow-purple-500/30":"bg-[#1b2527] border-[#3b5054] hover:border-purple-500/50"),onClick:()=>"accepting-bets"===I.status&&es("player2"),children:[(0,s.jsxs)("div",{className:"flex items-center justify-between mb-3",children:[(0,s.jsxs)("h3",{className:"text-white font-bold text-lg flex items-center gap-2",children:[(0,s.jsx)("span",{className:"material-symbols-outlined text-purple-400",children:"person_outline"}),(null===(v=I.options)||void 0===v?void 0:null===(b=v.player2)||void 0===b?void 0:b.name)||"Player 2"]}),"player2"===el&&(0,s.jsx)("span",{className:"material-symbols-outlined text-purple-400 animate-pulse",children:"check_circle"})]}),(0,s.jsxs)("div",{className:"space-y-2",children:[(0,s.jsxs)("div",{className:"flex items-center justify-between text-sm bg-purple-500/10 rounded-lg p-2",children:[(0,s.jsx)("span",{className:"text-white/60",children:"Dice Range:"}),(0,s.jsx)("span",{className:"text-purple-400 font-bold",children:"4-6"})]}),(0,s.jsxs)("div",{className:"flex justify-between text-sm",children:[(0,s.jsx)("span",{className:"text-white/60",children:"Bets:"}),(0,s.jsx)("span",{className:"text-white font-semibold",children:(null===(f=I.options)||void 0===f?void 0:null===(g=f.player2)||void 0===g?void 0:g.betCount)||0})]}),(0,s.jsxs)("div",{className:"flex justify-between text-sm",children:[(0,s.jsx)("span",{className:"text-white/60",children:"Total:"}),(0,s.jsxs)("span",{className:"text-purple-400 font-bold",children:["₺",((null===(N=I.options)||void 0===N?void 0:null===(j=N.player2)||void 0===j?void 0:j.totalBetAmount)||0).toFixed(2)]})]})]})]})]}),"accepting-bets"===I.status&&(0,s.jsxs)("div",{className:"bg-[#1b2527] rounded-lg p-4 border border-[#3b5054]",children:[(0,s.jsx)("p",{className:"text-white/60 text-sm mb-3",children:"Bet Amount"}),(0,s.jsx)("div",{className:"flex gap-2 mb-4 flex-wrap",children:["10","50","100","500","1000"].map(e=>(0,s.jsxs)("button",{onClick:()=>eR(e),className:"px-4 py-2 rounded-lg text-sm font-semibold transition-colors ".concat(ee===e?"bg-[#0dccf2] text-black":"bg-[#283639] text-white hover:bg-[#3b5054]"),children:["₺",e]},e))}),(0,s.jsx)("div",{className:"mb-4",children:(0,s.jsx)("input",{type:"number",value:ee,onChange:e=>et(e.target.value),placeholder:"Enter custom amount",className:"w-full h-12 px-4 bg-[#283639] text-white rounded-lg border-none focus:ring-2 focus:ring-[#0dccf2]",min:"1",step:"0.01"})}),(0,s.jsx)("button",{onClick:eA,disabled:Z||!el||!ee||0>=parseFloat(ee),className:"w-full h-12 bg-[#0dccf2] text-black rounded-lg font-bold hover:bg-[#0dccf2]/90 transition-colors disabled:opacity-50 disabled:cursor-not-allowed",children:Z?"Placing Bet...":"Place Bet on ".concat("player1"===el?null===(w=I.options)||void 0===w?void 0:null===(y=w.player1)||void 0===y?void 0:y.name:null===(k=I.options)||void 0===k?void 0:null===(S=k.player2)||void 0===S?void 0:S.name)}),ee&&el&&(0,s.jsx)("div",{className:"mt-4 p-3 bg-[#0dccf2]/10 rounded-lg border border-[#0dccf2]/30",children:(0,s.jsxs)("div",{className:"flex justify-between text-sm",children:[(0,s.jsx)("span",{className:"text-white/60",children:"Potential Win:"}),(0,s.jsxs)("span",{className:"text-[#0dccf2] font-bold",children:["₺",(parseFloat(ee)*(I.payoutMultiplier||2)).toFixed(2)]})]})})]}),"completed"===I.status&&I.selectedWinner&&(0,s.jsxs)("div",{className:"mt-6 p-6 bg-gradient-to-br from-green-500/20 to-[#1b2527] rounded-xl border-2 border-green-500/50 shadow-lg",children:[(0,s.jsxs)("div",{className:"flex items-center justify-center gap-4 mb-4",children:[(0,s.jsx)("span",{className:"material-symbols-outlined text-green-400 text-4xl",children:"emoji_events"}),(0,s.jsxs)("div",{children:[(0,s.jsx)("p",{className:"text-white/60 text-sm mb-1",children:"Game Result"}),(0,s.jsxs)("p",{className:"text-white font-black text-2xl",children:["Winner: ","player1"===I.selectedWinner?null===(R=I.options)||void 0===R?void 0:null===(B=R.player1)||void 0===B?void 0:B.name:null===(F=I.options)||void 0===F?void 0:null===(A=F.player2)||void 0===A?void 0:A.name]})]})]}),I.diceResult&&(0,s.jsxs)("div",{className:"flex items-center justify-center gap-3",children:[(0,s.jsx)(d,{value:I.diceResult,isRolling:!1,size:"medium"}),(0,s.jsxs)("span",{className:"text-[#0dccf2] font-bold text-xl",children:["Dice: ",I.diceResult]})]})]})]})]}),H&&(0,s.jsx)("div",{className:"bg-red-500/20 border border-red-500/50 rounded-lg p-4",children:(0,s.jsx)("p",{className:"text-red-400 text-sm",children:H})}),K&&(0,s.jsx)("div",{className:"bg-green-500/20 border border-green-500/50 rounded-lg p-4",children:(0,s.jsx)("p",{className:"text-green-400 text-sm",children:K})})]}):(0,s.jsxs)("div",{className:"bg-[#111718] rounded-xl border border-[#3b5054] p-8 text-center",children:[(0,s.jsx)("span",{className:"material-symbols-outlined text-6xl text-white/40 mb-4",children:"casino"}),(0,s.jsx)("p",{className:"text-white text-xl font-bold mb-2",children:"No Active Game"}),(0,s.jsx)("p",{className:"text-white/60",children:"Wait for admin to create a new game"})]})}),(0,s.jsxs)("div",{className:"lg:col-span-1 space-y-6",children:[I&&(0,s.jsxs)(s.Fragment,{children:[(0,s.jsxs)("div",{className:"bg-[#111718] rounded-xl border border-[#3b5054] overflow-hidden",children:[(0,s.jsxs)("div",{className:"bg-[#1b2527] px-4 py-3 border-b border-[#3b5054]",children:[(0,s.jsxs)("div",{className:"flex items-center gap-2",children:[(0,s.jsx)("div",{className:"h-2 w-2 bg-red-500 rounded-full animate-pulse"}),(0,s.jsx)("h3",{className:"text-white font-bold text-lg",children:"LIVE MATCH"})]}),(0,s.jsxs)("p",{className:"text-white/60 text-xs mt-1",children:["Game #",I.gameNumber]})]}),(0,s.jsxs)("div",{className:"p-4",children:[(0,s.jsxs)("div",{className:"flex items-center justify-between mb-4",children:[(0,s.jsxs)("div",{className:"text-center flex-1",children:[(0,s.jsx)("p",{className:"text-white/60 text-xs mb-1",children:"Player 1"}),(0,s.jsx)("p",{className:"text-white font-bold text-lg",children:(null===(C=I.options)||void 0===C?void 0:null===(P=C.player1)||void 0===P?void 0:P.name)||"Player 1"}),(0,s.jsxs)("p",{className:"text-[#0dccf2] text-sm mt-1",children:[(null===(D=I.betStats)||void 0===D?void 0:D.player1Bets)||0," bets • ₺",((null===(M=I.betStats)||void 0===M?void 0:M.player1Total)||0).toFixed(2)]})]}),(0,s.jsx)("div",{className:"px-4 text-white/40",children:"VS"}),(0,s.jsxs)("div",{className:"text-center flex-1",children:[(0,s.jsx)("p",{className:"text-white/60 text-xs mb-1",children:"Player 2"}),(0,s.jsx)("p",{className:"text-white font-bold text-lg",children:(null===(E=I.options)||void 0===E?void 0:null===(_=E.player2)||void 0===_?void 0:_.name)||"Player 2"}),(0,s.jsxs)("p",{className:"text-[#0dccf2] text-sm mt-1",children:[(null===(W=I.betStats)||void 0===W?void 0:W.player2Bets)||0," bets • ₺",((null===(z=I.betStats)||void 0===z?void 0:z.player2Total)||0).toFixed(2)]})]})]}),(0,s.jsxs)("div",{className:"bg-[#1b2527] rounded-lg p-3 mt-4",children:[(0,s.jsxs)("div",{className:"flex justify-between text-sm mb-2",children:[(0,s.jsx)("span",{className:"text-white/60",children:"Total Bets:"}),(0,s.jsx)("span",{className:"text-white font-bold",children:I.totalBets||0})]}),(0,s.jsxs)("div",{className:"flex justify-between text-sm",children:[(0,s.jsx)("span",{className:"text-white/60",children:"Total Amount:"}),(0,s.jsxs)("span",{className:"text-white font-bold",children:["₺",(I.totalBetAmount||0).toFixed(2)]})]})]})]})]}),(0,s.jsxs)("div",{className:"bg-[#111718] rounded-xl border border-[#3b5054] overflow-hidden",children:[(0,s.jsxs)("div",{className:"bg-[#1b2527] px-4 py-3 border-b border-[#3b5054]",children:[(0,s.jsx)("h3",{className:"text-white font-bold",children:"\uD83C\uDFAE Live Players"}),(0,s.jsxs)("p",{className:"text-white/60 text-xs mt-1",children:[em.length," players betting"]})]}),(0,s.jsx)("div",{className:"p-4 max-h-[300px] overflow-y-auto",children:0===em.length?(0,s.jsx)("p",{className:"text-white/60 text-sm text-center py-4",children:"No players yet"}):(0,s.jsx)("div",{className:"space-y-2",children:em.map((e,t)=>(0,s.jsxs)("div",{className:"bg-[#1b2527] rounded-lg p-3 border border-[#3b5054]",children:[(0,s.jsxs)("div",{className:"flex items-center justify-between mb-2",children:[(0,s.jsxs)("div",{className:"flex items-center gap-2",children:[(0,s.jsx)("div",{className:"h-2 w-2 bg-green-500 rounded-full"}),(0,s.jsx)("span",{className:"text-white font-semibold text-sm",children:e.username})]}),(0,s.jsxs)("span",{className:"text-white/60 text-xs",children:["₺",e.totalAmount.toFixed(2)]})]}),(0,s.jsxs)("div",{className:"flex gap-2 text-xs",children:[e.player1Bets>0&&(0,s.jsxs)("span",{className:"bg-[#0dccf2]/20 text-[#0dccf2] px-2 py-1 rounded",children:["P1: ",e.player1Bets]}),e.player2Bets>0&&(0,s.jsxs)("span",{className:"bg-purple-500/20 text-purple-400 px-2 py-1 rounded",children:["P2: ",e.player2Bets]})]})]},t))})})]}),(0,s.jsxs)("div",{className:"bg-[#111718] rounded-xl border border-[#3b5054] overflow-hidden",children:[(0,s.jsxs)("div",{className:"bg-[#1b2527] px-4 py-3 border-b border-[#3b5054]",children:[(0,s.jsx)("h3",{className:"text-white font-bold",children:"⚡ Live Bet Feed"}),(0,s.jsx)("p",{className:"text-white/60 text-xs mt-1",children:"Recent bets in real-time"})]}),(0,s.jsx)("div",{className:"p-4 max-h-[300px] overflow-y-auto",children:0===ec.length?(0,s.jsx)("p",{className:"text-white/60 text-sm text-center py-4",children:"No bets yet"}):(0,s.jsx)("div",{className:"space-y-2",children:ec.map(e=>(0,s.jsx)("div",{className:"bg-[#1b2527] rounded-lg p-3 border border-[#3b5054]",children:(0,s.jsxs)("div",{className:"flex items-center justify-between",children:[(0,s.jsxs)("div",{className:"flex items-center gap-2",children:[(0,s.jsx)("span",{className:"material-symbols-outlined text-[#0dccf2] text-sm",children:"player1"===e.option?"person":"person_outline"}),(0,s.jsx)("span",{className:"text-white font-semibold text-sm",children:e.username}),(0,s.jsx)("span",{className:"text-xs px-2 py-0.5 rounded ".concat("player1"===e.option?"bg-[#0dccf2]/20 text-[#0dccf2]":"bg-purple-500/20 text-purple-400"),children:"player1"===e.option?"P1":"P2"})]}),(0,s.jsxs)("div",{className:"text-right",children:[(0,s.jsxs)("span",{className:"text-white font-bold text-sm",children:["₺",e.amount.toFixed(2)]}),(0,s.jsx)("p",{className:"text-white/40 text-xs",children:e.time.toLocaleTimeString("en-US",{hour:"2-digit",minute:"2-digit"})})]})]})},e.id))})})]})]}),ea.length>0&&(0,s.jsxs)("div",{className:"bg-[#111718] rounded-xl border border-[#3b5054] overflow-hidden",children:[(0,s.jsx)("div",{className:"bg-[#1b2527] px-4 py-3 border-b border-[#3b5054]",children:(0,s.jsx)("h3",{className:"text-white font-bold",children:"\uD83D\uDCDC Recent Games"})}),(0,s.jsx)("div",{className:"p-4 max-h-[300px] overflow-y-auto",children:(0,s.jsx)("div",{className:"space-y-2",children:ea.slice(0,5).map(e=>(0,s.jsxs)("div",{className:"bg-[#1b2527] rounded-lg p-3 border border-[#3b5054]",children:[(0,s.jsxs)("div",{className:"flex items-center justify-between mb-2",children:[(0,s.jsxs)("span",{className:"text-white font-semibold text-sm",children:["Game #",e.gameNumber]}),(0,s.jsx)("span",{className:"px-2 py-1 rounded text-xs ".concat(eF(e.status)),children:e.status})]}),e.winner&&(0,s.jsxs)("p",{className:"text-white/60 text-xs",children:["Winner: ","player1"===e.winner?"Player 1":"Player 2",e.winningRoll&&" (".concat(e.winningRoll,")")]})]},e._id))})})]}),(0,s.jsxs)("div",{className:"bg-[#111718] rounded-xl border border-[#3b5054] overflow-hidden",children:[(0,s.jsx)("div",{className:"bg-[#1b2527] px-4 py-3 border-b border-[#3b5054]",children:(0,s.jsx)("h3",{className:"text-white font-bold",children:"\uD83D\uDCB0 My Bets"})}),(0,s.jsx)("div",{className:"p-4 max-h-[300px] overflow-y-auto",children:0===er.length?(0,s.jsx)("p",{className:"text-white/60 text-sm text-center py-4",children:"No bets yet"}):(0,s.jsx)("div",{className:"space-y-2",children:er.map(e=>(0,s.jsxs)("div",{className:"bg-[#1b2527] rounded-lg p-3 border border-[#3b5054]",children:[(0,s.jsxs)("div",{className:"flex justify-between items-start mb-2",children:[(0,s.jsxs)("span",{className:"text-white font-semibold text-sm",children:["Game #",e.gameNumber]}),(0,s.jsx)("span",{className:"px-2 py-1 rounded text-xs ".concat("won"===e.status?"bg-green-500/20 text-green-400":"lost"===e.status?"bg-red-500/20 text-red-400":"bg-yellow-500/20 text-yellow-400"),children:e.status})]}),(0,s.jsxs)("div",{className:"space-y-1",children:[(0,s.jsxs)("p",{className:"text-white/60 text-xs",children:["Bet: ₺",e.betAmount.toFixed(2)," on ","player1"===e.selectedOption?"Player 1":"Player 2"]}),e.winAmount>0&&(0,s.jsxs)("p",{className:"text-green-400 text-xs font-semibold",children:["Win: ₺",e.winAmount.toFixed(2)]})]})]},e._id))})})]})]})]})]})})})})}},24322:function(e,t,l){"use strict";l.d(t,{Z:function(){return d}});var s=l(57437),a=l(2265),i=l(24033),r=l(87300),n=l(60473);function d(e){let{children:t,requiredRole:l=null,allowedRoles:d=null}=e,o=(0,i.useRouter)(),[c,x]=(0,a.useState)(!1),[m,u]=(0,a.useState)(!0);return((0,a.useEffect)(()=>{(()=>{if(!(0,r.$8)()){o.push("/auth/login");return}let e=(0,r.ts)();if(!e){o.push("/auth/login");return}if(l&&e.role!==l||d&&!d.includes(e.role)){o.push((0,r.My)(e.role));return}x(!0),u(!1)})()},[o,l,d]),m)?(0,s.jsx)("div",{className:"flex min-h-screen items-center justify-center bg-background-dark",children:(0,s.jsxs)("div",{className:"text-center",children:[(0,s.jsx)("div",{className:"mb-4 inline-block h-8 w-8 animate-spin rounded-full border-4 border-solid border-primary border-r-transparent"}),(0,s.jsx)("p",{className:"text-white",children:"Loading..."})]})}):c?(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)(n.Z,{}),t]}):null}}},function(e){e.O(0,[1176,4829,2385,6299,1761,473,2971,4938,1744],function(){return e(e.s=59032)}),_N_E=e.O()}]);