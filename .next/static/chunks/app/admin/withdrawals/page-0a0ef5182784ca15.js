(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[7114],{45904:function(e,t,a){Promise.resolve().then(a.bind(a,9684))},9684:function(e,t,a){"use strict";a.r(t);var s=a(57437),l=a(2265);a(61396);var n=a(24033),r=a(96666),i=a(62385),o=a(66209),d=a(24215),c=a(96299),u=a(28707);t.default=function(){var e,t;let{t:a}=(0,c.$)();(0,n.usePathname)();let[m,x]=(0,l.useState)(""),[h,g]=(0,l.useState)("pending"),[b,p]=(0,l.useState)(1),[f,w]=(0,l.useState)(!1),[v,N]=(0,l.useState)(""),[j,y]=(0,l.useState)([]),[k,S]=(0,l.useState)(1),[C,E]=(0,l.useState)(0),[A,B]=(0,l.useState)(null),[I,R]=(0,l.useState)(!1),[_,F]=(0,l.useState)(""),[D,U]=(0,l.useState)([]),[M,T]=(0,l.useState)(!1),[O,P]=(0,l.useState)(""),[W,z]=(0,l.useState)(""),[H,L]=(0,l.useState)(""),[G,Z]=(0,l.useState)(""),[$,J]=(0,l.useState)(""),[q,V]=(0,l.useState)(!1),[Y,X]=(0,l.useState)("all"),[K,Q]=(0,l.useState)(!1),[ee,et]=(0,l.useState)(!1),[ea,es]=(0,l.useState)(null),[el,en]=(0,l.useState)({iban:"",ibanHolderName:"",bankName:""}),[er,ei]=(0,l.useState)({amount:"",type:"add",description:""});(0,l.useEffect)(()=>{eo()},[h,b,G,$,Y]);let eo=async()=>{w(!0),N("");try{let e={status:"Status: All"===h?void 0:h,page:b,limit:50};G&&(e.startDate=G),$&&(e.endDate=$),Y&&"all"!==Y&&(e.paymentMethod=Y);let t=await i.Sb.getWithdrawalPool(e);y(t.data.withdrawals||[]),S(t.data.totalPages||1),E(t.data.total||0)}catch(a){var e,t;N((null===(t=a.response)||void 0===t?void 0:null===(e=t.data)||void 0===e?void 0:e.message)||"Failed to load withdrawals"),d.cM.apiError("/admin/withdrawals",a)}finally{w(!1)}},ed=e=>{switch(e){case"approved":return"bg-green-500/20 text-green-400";case"pending":return"bg-yellow-500/20 text-yellow-400";case"rejected":return"bg-red-500/20 text-red-400";default:return"bg-gray-500/20 text-gray-400"}},ec=e=>({pending:"Beklemede",approved:"Onaylandı",rejected:"Reddedildi"})[e]||e,eu=async e=>{try{await i.Sb.approveWithdrawal(e,{adminNotes:_}),L("Withdrawal approved successfully"),R(!1),F(""),eo()}catch(e){var t,a;N((null===(a=e.response)||void 0===a?void 0:null===(t=a.data)||void 0===t?void 0:t.message)||"Failed to approve withdrawal")}},em=async e=>{try{await i.Sb.rejectWithdrawal(e,{reason:W}),L("Withdrawal rejected successfully"),R(!1),z(""),eo()}catch(e){var t,a;N((null===(a=e.response)||void 0===a?void 0:null===(t=a.data)||void 0===t?void 0:t.message)||"Failed to reject withdrawal")}},ex=async()=>{if(O&&0!==D.length)try{"approve"===O?(await i.Sb.bulkApproveWithdrawals({withdrawalIds:D}),L("Successfully approved ".concat(D.length," withdrawals"))):"reject"===O&&(await i.Sb.bulkRejectWithdrawals({withdrawalIds:D,reason:W}),L("Successfully rejected ".concat(D.length," withdrawals"))),T(!1),U([]),P(""),z(""),eo()}catch(a){var e,t;N((null===(t=a.response)||void 0===t?void 0:null===(e=t.data)||void 0===e?void 0:e.message)||"Failed to perform bulk action")}},eh=async()=>{if(ea&&el.iban)try{await i.Sb.updateUserIban(ea,el),L("IBAN updated successfully"),Q(!1),en({iban:"",ibanHolderName:"",bankName:""}),eo()}catch(a){var e,t;N((null===(t=a.response)||void 0===t?void 0:null===(e=t.data)||void 0===e?void 0:e.message)||"Failed to update IBAN")}},eg=async()=>{if(ea&&er.amount)try{await i.Sb.updateUserBalance(ea,{amount:parseFloat(er.amount),type:er.type,description:er.description}),L("Balance updated successfully"),et(!1),ei({amount:"",type:"add",description:""}),eo()}catch(a){var e,t;N((null===(t=a.response)||void 0===t?void 0:null===(e=t.data)||void 0===e?void 0:e.message)||"Failed to update balance")}},eb=j.filter(e=>"pending"===e.status).reduce((e,t)=>e+(parseFloat(t.amount)||0),0),ep=j.filter(e=>{if(m){var t,a,s,l;let n=m.toLowerCase(),r=(null===(a=e.user)||void 0===a?void 0:null===(t=a.username)||void 0===t?void 0:t.toLowerCase())||"",i=(null===(l=e.user)||void 0===l?void 0:null===(s=l.email)||void 0===s?void 0:s.toLowerCase())||"",o=(e._id||e.id||"").toString().toLowerCase();return r.includes(n)||i.includes(n)||o.includes(n)}return!0});return(0,s.jsx)(r.Z,{children:(0,s.jsxs)("div",{className:"flex min-h-screen w-full bg-background-dark",children:[(0,s.jsx)(u.Z,{}),(0,s.jsx)("main",{className:"flex-1 p-6 lg:p-10 bg-background-light dark:bg-background-dark ml-0 lg:ml-64",children:(0,s.jsxs)("div",{className:"flex flex-col w-full max-w-7xl mx-auto",children:[(0,s.jsxs)("div",{className:"flex flex-wrap justify-between gap-3 mb-6",children:[(0,s.jsx)("p",{className:"text-black dark:text-white text-4xl font-black leading-tight tracking-[-0.033em] min-w-72",children:a("admin.withdrawalManagement")}),(0,s.jsxs)("div",{className:"flex items-center gap-2",children:[D.length>0&&(0,s.jsxs)(s.Fragment,{children:[(0,s.jsxs)("button",{onClick:()=>T(!0),className:"flex items-center justify-center gap-2 overflow-hidden rounded-lg h-10 px-4 bg-yellow-500 text-white text-sm font-bold leading-normal tracking-[0.015em] hover:bg-yellow-600 transition-colors",children:[(0,s.jsx)("span",{className:"material-symbols-outlined text-lg",children:"check_circle"}),(0,s.jsxs)("span",{className:"truncate",children:["Bulk Action (",D.length,")"]})]}),(0,s.jsx)("button",{onClick:()=>U([]),className:"flex items-center justify-center gap-2 overflow-hidden rounded-lg h-10 px-4 bg-gray-500 text-white text-sm font-bold leading-normal tracking-[0.015em] hover:bg-gray-600 transition-colors",children:(0,s.jsx)("span",{className:"truncate",children:"Clear"})})]}),(0,s.jsxs)("button",{onClick:()=>{let e=["ID,User,Amount,IBAN,Status,Date",...j.map(e=>{var t,a;return[e._id||e.id,(null===(t=e.user)||void 0===t?void 0:t.username)||(null===(a=e.user)||void 0===a?void 0:a.email)||"N/A",e.amount,e.iban||"N/A",e.status,(0,o.p6)(e.createdAt)].join(",")})].join("\n"),t=new Blob([e],{type:"text/csv"}),a=window.URL.createObjectURL(t),s=document.createElement("a");s.href=a,s.download="withdrawals_".concat(new Date().toISOString().split("T")[0],".csv"),s.click()},className:"flex items-center justify-center gap-2 overflow-hidden rounded-lg h-10 px-4 bg-green-500 text-white text-sm font-bold leading-normal tracking-[0.015em] hover:bg-green-600 transition-colors",children:[(0,s.jsx)("span",{className:"material-symbols-outlined text-lg",children:"download"}),(0,s.jsx)("span",{className:"truncate",children:"Export CSV"})]})]})]}),v&&(0,s.jsx)("div",{className:"mb-4 rounded-lg bg-red-500/20 border border-red-500/50 p-4",children:(0,s.jsx)("p",{className:"text-sm text-red-400",children:v})}),H&&(0,s.jsx)("div",{className:"mb-4 rounded-lg bg-green-500/20 border border-green-500/50 p-4",children:(0,s.jsx)("p",{className:"text-sm text-green-400",children:H})}),(0,s.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4 mb-6",children:[(0,s.jsxs)("div",{className:"flex flex-col gap-2 rounded-xl p-6 bg-white/5 border border-white/10",children:[(0,s.jsx)("p",{className:"text-white/70 text-base font-medium leading-normal",children:"Total Pending Withdrawals"}),(0,s.jsxs)("p",{className:"text-white tracking-light text-2xl font-bold leading-tight",children:["₺",eb.toFixed(2)]})]}),(0,s.jsxs)("div",{className:"flex flex-col gap-2 rounded-xl p-6 bg-white/5 border border-white/10",children:[(0,s.jsx)("p",{className:"text-white/70 text-base font-medium leading-normal",children:"Total Records"}),(0,s.jsx)("p",{className:"text-white tracking-light text-2xl font-bold leading-tight",children:C})]})]}),(0,s.jsxs)("div",{className:"bg-[#1E1E2B]/50 dark:bg-black/20 rounded-xl border border-white/10",children:[(0,s.jsxs)("div",{className:"p-4 flex flex-col lg:flex-row gap-4",children:[(0,s.jsx)("div",{className:"flex-grow",children:(0,s.jsx)("label",{className:"flex flex-col min-w-40 h-12 w-full",children:(0,s.jsxs)("div",{className:"flex w-full flex-1 items-stretch rounded-lg h-full",children:[(0,s.jsx)("div",{className:"text-white/50 flex border-none bg-white/5 items-center justify-center pl-4 rounded-l-lg border-r-0",children:(0,s.jsx)("span",{className:"material-symbols-outlined",children:"search"})}),(0,s.jsx)("input",{className:"form-input flex w-full min-w-0 flex-1 resize-none overflow-hidden rounded-lg text-white focus:outline-0 focus:ring-2 focus:ring-[#0dccf2]/50 border-none bg-white/5 h-full placeholder:text-white/50 px-4 rounded-l-none border-l-0 pl-2 text-base font-normal leading-normal",placeholder:"Search by username, email, or ID...",value:m,onChange:e=>x(e.target.value),type:"text"})]})})}),(0,s.jsxs)("div",{className:"flex items-center gap-4 flex-wrap",children:[(0,s.jsxs)("div",{className:"relative",children:[(0,s.jsxs)("select",{className:"appearance-none form-select h-12 w-full lg:w-40 rounded-lg bg-white/5 border-none text-white focus:ring-2 focus:ring-[#0dccf2]/50 pl-4 pr-10",value:h,onChange:e=>{g(e.target.value),p(1)},children:[(0,s.jsx)("option",{value:"Status: All",className:"bg-[#1E1E2B] text-white",children:"Status: All"}),(0,s.jsx)("option",{value:"pending",className:"bg-[#1E1E2B] text-white",children:"Pending"}),(0,s.jsx)("option",{value:"approved",className:"bg-[#1E1E2B] text-white",children:"Approved"}),(0,s.jsx)("option",{value:"rejected",className:"bg-[#1E1E2B] text-white",children:"Rejected"})]}),(0,s.jsx)("span",{className:"material-symbols-outlined text-white/50 absolute right-3 top-1/2 -translate-y-1/2 pointer-events-none",children:"expand_more"})]}),q?(0,s.jsxs)("div",{className:"flex gap-2 items-center",children:[(0,s.jsx)("input",{type:"date",value:G,onChange:e=>Z(e.target.value),className:"h-12 rounded-lg bg-white/5 px-4 text-white text-sm border border-white/10 focus:outline-none focus:ring-2 focus:ring-[#0dccf2]/50"}),(0,s.jsx)("input",{type:"date",value:$,onChange:e=>J(e.target.value),className:"h-12 rounded-lg bg-white/5 px-4 text-white text-sm border border-white/10 focus:outline-none focus:ring-2 focus:ring-[#0dccf2]/50"}),(0,s.jsx)("button",{onClick:()=>{V(!1),Z(""),J("")},className:"h-12 w-12 rounded-lg bg-white/5 hover:bg-white/10 flex items-center justify-center transition-colors",children:(0,s.jsx)("span",{className:"material-symbols-outlined text-white/50",children:"close"})})]}):(0,s.jsxs)("button",{onClick:()=>V(!0),className:"h-12 px-4 rounded-lg bg-white/5 hover:bg-white/10 text-white text-sm font-medium flex items-center gap-2 transition-colors",children:[(0,s.jsx)("span",{className:"material-symbols-outlined",children:"calendar_today"}),"Date Range"]})]})]}),(0,s.jsx)("div",{className:"px-4 py-3",children:(0,s.jsx)("div",{className:"flex overflow-hidden rounded-xl border border-[#3b5054] bg-[#111718]",children:f?(0,s.jsx)("div",{className:"flex items-center justify-center w-full py-12",children:(0,s.jsx)("div",{className:"size-8 animate-spin rounded-full border-4 border-[#0dccf2] border-t-transparent"})}):0===ep.length?(0,s.jsx)("div",{className:"text-center w-full py-12",children:(0,s.jsx)("p",{className:"text-gray-400",children:"No withdrawals found"})}):(0,s.jsxs)("table",{className:"w-full",children:[(0,s.jsx)("thead",{children:(0,s.jsxs)("tr",{className:"bg-[#1b2527]",children:[(0,s.jsx)("th",{className:"px-4 py-3 text-left text-white text-sm font-medium",children:(0,s.jsx)("input",{type:"checkbox",checked:D.length===ep.filter(e=>"pending"===e.status).length&&ep.filter(e=>"pending"===e.status).length>0,onChange:e=>{e.target.checked?U(ep.filter(e=>"pending"===e.status).map(e=>e._id||e.id)):U([])},className:"rounded border-white/20 bg-transparent"})}),(0,s.jsx)("th",{className:"px-4 py-3 text-left text-white text-sm font-medium",children:"User"}),(0,s.jsx)("th",{className:"px-4 py-3 text-left text-white text-sm font-medium",children:"Amount"}),(0,s.jsx)("th",{className:"px-4 py-3 text-left text-white text-sm font-medium",children:"IBAN"}),(0,s.jsx)("th",{className:"px-4 py-3 text-left text-white text-sm font-medium",children:"Status"}),(0,s.jsx)("th",{className:"px-4 py-3 text-left text-white text-sm font-medium",children:"Date"}),(0,s.jsx)("th",{className:"px-4 py-3 text-left text-white text-sm font-medium",children:"Actions"})]})}),(0,s.jsx)("tbody",{children:ep.map(e=>{var t,a;return(0,s.jsxs)("tr",{className:"border-t border-t-[#3b5054] hover:bg-[#1b2527]/50 transition-colors",children:[(0,s.jsx)("td",{className:"h-[72px] px-4 py-2",children:"pending"===e.status&&(0,s.jsx)("input",{type:"checkbox",checked:D.includes(e._id||e.id),onChange:t=>{t.target.checked?U([...D,e._id||e.id]):U(D.filter(t=>t!==(e._id||e.id)))},className:"rounded border-white/20 bg-transparent"})}),(0,s.jsx)("td",{className:"h-[72px] px-4 py-2 text-white text-sm font-normal",children:(null===(t=e.user)||void 0===t?void 0:t.username)||(null===(a=e.user)||void 0===a?void 0:a.email)||"N/A"}),(0,s.jsxs)("td",{className:"h-[72px] px-4 py-2 text-white text-sm font-normal",children:["₺",parseFloat(e.amount||0).toFixed(2)]}),(0,s.jsx)("td",{className:"h-[72px] px-4 py-2 text-white text-sm font-normal",children:e.iban?"".concat(e.iban.substring(0,12),"..."):"N/A"}),(0,s.jsx)("td",{className:"h-[72px] px-4 py-2",children:(0,s.jsx)("span",{className:"inline-flex items-center justify-center rounded-full text-xs font-semibold px-3 py-1 ".concat(ed(e.status)),children:ec(e.status)})}),(0,s.jsx)("td",{className:"h-[72px] px-4 py-2 text-[#9cb5ba] text-sm font-normal",children:(0,o.p6)(e.createdAt)}),(0,s.jsx)("td",{className:"h-[72px] px-4 py-2",children:(0,s.jsx)("div",{className:"flex items-center gap-2",children:"pending"===e.status&&(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)("button",{onClick:()=>{B(e),R(!0)},className:"p-2 text-green-400 hover:text-green-300 hover:bg-[#283639] rounded-md transition-colors",title:"Approve",children:(0,s.jsx)("span",{className:"material-symbols-outlined text-xl",children:"check_circle"})}),(0,s.jsx)("button",{onClick:()=>{B(e),R(!0)},className:"p-2 text-red-400 hover:text-red-300 hover:bg-[#283639] rounded-md transition-colors",title:"Reject",children:(0,s.jsx)("span",{className:"material-symbols-outlined text-xl",children:"cancel"})}),(0,s.jsx)("button",{onClick:()=>{var t,a,s,l;es((null===(t=e.user)||void 0===t?void 0:t._id)||e.user),en({iban:e.iban||(null===(a=e.user)||void 0===a?void 0:a.iban)||"",ibanHolderName:e.ibanHolderName||(null===(s=e.user)||void 0===s?void 0:s.ibanHolderName)||"",bankName:e.bankName||(null===(l=e.user)||void 0===l?void 0:l.bankName)||""}),Q(!0)},className:"p-2 text-blue-400 hover:text-blue-300 hover:bg-[#283639] rounded-md transition-colors",title:"Edit IBAN",children:(0,s.jsx)("span",{className:"material-symbols-outlined text-xl",children:"account_balance"})}),(0,s.jsx)("button",{onClick:()=>{var t;es((null===(t=e.user)||void 0===t?void 0:t._id)||e.user),ei({amount:"",type:"add",description:""}),et(!0)},className:"p-2 text-purple-400 hover:text-purple-300 hover:bg-[#283639] rounded-md transition-colors",title:"Update Balance",children:(0,s.jsx)("span",{className:"material-symbols-outlined text-xl",children:"account_balance_wallet"})})]})})})]},e._id||e.id)})})]})})}),k>1&&(0,s.jsxs)("div",{className:"px-4 py-4 flex items-center justify-between border-t border-[#3b5054]",children:[(0,s.jsxs)("p",{className:"text-[#9cb5ba] text-sm",children:["Showing ",(b-1)*50+1," to ",Math.min(50*b,C)," of ",C," results"]}),(0,s.jsxs)("div",{className:"flex items-center gap-2",children:[(0,s.jsx)("button",{onClick:()=>p(Math.max(1,b-1)),disabled:1===b,className:"px-4 py-2 rounded-lg bg-white/5 text-white hover:bg-white/10 disabled:opacity-50 disabled:cursor-not-allowed transition-colors",children:"Previous"}),(0,s.jsxs)("span",{className:"text-white text-sm px-4",children:["Page ",b," of ",k]}),(0,s.jsx)("button",{onClick:()=>p(Math.min(k,b+1)),disabled:b===k,className:"px-4 py-2 rounded-lg bg-white/5 text-white hover:bg-white/10 disabled:opacity-50 disabled:cursor-not-allowed transition-colors",children:"Next"})]})]})]})]})}),I&&A&&(0,s.jsx)("div",{className:"fixed inset-0 bg-black/50 flex items-center justify-center z-50",children:(0,s.jsxs)("div",{className:"bg-[#1E1E2B] rounded-xl p-6 max-w-md w-full mx-4 border border-white/10",children:[(0,s.jsx)("h3",{className:"text-white text-xl font-bold mb-4",children:"Approve or Reject Withdrawal"}),(0,s.jsxs)("div",{className:"space-y-4",children:[(0,s.jsxs)("div",{children:[(0,s.jsxs)("p",{className:"text-white/70 text-sm mb-1",children:["User: ",(null===(e=A.user)||void 0===e?void 0:e.username)||(null===(t=A.user)||void 0===t?void 0:t.email)]}),(0,s.jsxs)("p",{className:"text-white/70 text-sm mb-1",children:["Amount: ₺",parseFloat(A.amount||0).toFixed(2)]}),(0,s.jsxs)("p",{className:"text-white/70 text-sm mb-4",children:["IBAN: ",A.iban||"N/A"]})]}),(0,s.jsxs)("div",{children:[(0,s.jsx)("label",{className:"block text-white/70 text-sm mb-2",children:"Admin Notes (optional)"}),(0,s.jsx)("textarea",{value:_,onChange:e=>F(e.target.value),className:"w-full rounded-lg bg-white/5 border border-white/10 text-white px-4 py-2 focus:outline-none focus:ring-2 focus:ring-[#0dccf2]/50",rows:3})]}),(0,s.jsxs)("div",{children:[(0,s.jsx)("label",{className:"block text-white/70 text-sm mb-2",children:"Rejection Reason (if rejecting)"}),(0,s.jsx)("textarea",{value:W,onChange:e=>z(e.target.value),className:"w-full rounded-lg bg-white/5 border border-white/10 text-white px-4 py-2 focus:outline-none focus:ring-2 focus:ring-[#0dccf2]/50",rows:3})]}),(0,s.jsxs)("div",{className:"flex gap-3",children:[(0,s.jsx)("button",{onClick:()=>eu(A._id||A.id),className:"flex-1 px-4 py-2 bg-green-500 text-white rounded-lg hover:bg-green-600 transition-colors",children:"Approve"}),(0,s.jsx)("button",{onClick:()=>em(A._id||A.id),className:"flex-1 px-4 py-2 bg-red-500 text-white rounded-lg hover:bg-red-600 transition-colors",children:"Reject"}),(0,s.jsx)("button",{onClick:()=>{R(!1),B(null),F(""),z("")},className:"px-4 py-2 bg-white/5 text-white rounded-lg hover:bg-white/10 transition-colors",children:"Close"})]})]})]})}),K&&(0,s.jsx)("div",{className:"fixed inset-0 bg-black/50 flex items-center justify-center z-50",children:(0,s.jsxs)("div",{className:"bg-[#1E1E2B] rounded-xl p-6 max-w-md w-full mx-4 border border-white/10",children:[(0,s.jsx)("h3",{className:"text-white text-xl font-bold mb-4",children:"Update User IBAN"}),(0,s.jsxs)("div",{className:"space-y-4",children:[(0,s.jsxs)("div",{children:[(0,s.jsx)("label",{className:"block text-white/70 text-sm mb-2",children:"IBAN *"}),(0,s.jsx)("input",{type:"text",value:el.iban,onChange:e=>en({...el,iban:e.target.value}),className:"w-full h-12 rounded-lg bg-white/5 border border-white/10 text-white px-4 focus:outline-none focus:ring-2 focus:ring-[#0dccf2]/50",required:!0})]}),(0,s.jsxs)("div",{children:[(0,s.jsx)("label",{className:"block text-white/70 text-sm mb-2",children:"IBAN Holder Name"}),(0,s.jsx)("input",{type:"text",value:el.ibanHolderName,onChange:e=>en({...el,ibanHolderName:e.target.value}),className:"w-full h-12 rounded-lg bg-white/5 border border-white/10 text-white px-4 focus:outline-none focus:ring-2 focus:ring-[#0dccf2]/50"})]}),(0,s.jsxs)("div",{children:[(0,s.jsx)("label",{className:"block text-white/70 text-sm mb-2",children:"Bank Name"}),(0,s.jsx)("input",{type:"text",value:el.bankName,onChange:e=>en({...el,bankName:e.target.value}),className:"w-full h-12 rounded-lg bg-white/5 border border-white/10 text-white px-4 focus:outline-none focus:ring-2 focus:ring-[#0dccf2]/50"})]}),(0,s.jsxs)("div",{className:"flex gap-3",children:[(0,s.jsx)("button",{onClick:eh,className:"flex-1 px-4 py-2 bg-[#0dccf2] text-white rounded-lg hover:bg-[#0dccf2]/90 transition-colors",children:"Update"}),(0,s.jsx)("button",{onClick:()=>{Q(!1),en({iban:"",ibanHolderName:"",bankName:""})},className:"px-4 py-2 bg-white/5 text-white rounded-lg hover:bg-white/10 transition-colors",children:"Cancel"})]})]})]})}),ee&&(0,s.jsx)("div",{className:"fixed inset-0 bg-black/50 flex items-center justify-center z-50",children:(0,s.jsxs)("div",{className:"bg-[#1E1E2B] rounded-xl p-6 max-w-md w-full mx-4 border border-white/10",children:[(0,s.jsx)("h3",{className:"text-white text-xl font-bold mb-4",children:"Update User Balance"}),(0,s.jsxs)("div",{className:"space-y-4",children:[(0,s.jsxs)("div",{children:[(0,s.jsx)("label",{className:"block text-white/70 text-sm mb-2",children:"Amount *"}),(0,s.jsx)("input",{type:"number",value:er.amount,onChange:e=>ei({...er,amount:e.target.value}),className:"w-full h-12 rounded-lg bg-white/5 border border-white/10 text-white px-4 focus:outline-none focus:ring-2 focus:ring-[#0dccf2]/50",required:!0,min:"0",step:"0.01"})]}),(0,s.jsxs)("div",{children:[(0,s.jsx)("label",{className:"block text-white/70 text-sm mb-2",children:"Type *"}),(0,s.jsxs)("select",{value:er.type,onChange:e=>ei({...er,type:e.target.value}),className:"w-full h-12 rounded-lg bg-white/5 border border-white/10 text-white px-4 focus:outline-none focus:ring-2 focus:ring-[#0dccf2]/50",children:[(0,s.jsx)("option",{value:"add",className:"bg-[#1E1E2B] text-white",children:"Add (Credit)"}),(0,s.jsx)("option",{value:"subtract",className:"bg-[#1E1E2B] text-white",children:"Subtract (Debit)"})]})]}),(0,s.jsxs)("div",{children:[(0,s.jsx)("label",{className:"block text-white/70 text-sm mb-2",children:"Description"}),(0,s.jsx)("textarea",{value:er.description,onChange:e=>ei({...er,description:e.target.value}),className:"w-full rounded-lg bg-white/5 border border-white/10 text-white px-4 py-2 focus:outline-none focus:ring-2 focus:ring-[#0dccf2]/50",rows:3})]}),(0,s.jsxs)("div",{className:"flex gap-3",children:[(0,s.jsx)("button",{onClick:eg,className:"flex-1 px-4 py-2 bg-[#0dccf2] text-white rounded-lg hover:bg-[#0dccf2]/90 transition-colors",children:"Update"}),(0,s.jsx)("button",{onClick:()=>{et(!1),ei({amount:"",type:"add",description:""})},className:"px-4 py-2 bg-white/5 text-white rounded-lg hover:bg-white/10 transition-colors",children:"Cancel"})]})]})]})}),M&&(0,s.jsx)("div",{className:"fixed inset-0 bg-black/50 flex items-center justify-center z-50",children:(0,s.jsxs)("div",{className:"bg-[#1E1E2B] rounded-xl p-6 max-w-md w-full mx-4 border border-white/10",children:[(0,s.jsxs)("h3",{className:"text-white text-xl font-bold mb-4",children:["Bulk Action for ",(0,s.jsx)("span",{className:"font-bold text-white",children:D.length})," selected withdrawal(s)"]}),(0,s.jsxs)("div",{className:"space-y-4",children:[(0,s.jsxs)("div",{children:[(0,s.jsx)("label",{className:"block text-white/70 text-sm mb-2",children:"Action"}),(0,s.jsxs)("select",{value:O,onChange:e=>P(e.target.value),className:"w-full h-12 rounded-lg bg-white/5 border border-white/10 text-white px-4 focus:outline-none focus:ring-2 focus:ring-[#0dccf2]/50",children:[(0,s.jsx)("option",{value:"",className:"bg-[#1E1E2B] text-white",children:"Select Action"}),(0,s.jsx)("option",{value:"approve",className:"bg-[#1E1E2B] text-white",children:"Approve All"}),(0,s.jsx)("option",{value:"reject",className:"bg-[#1E1E2B] text-white",children:"Reject All"})]})]}),"reject"===O&&(0,s.jsxs)("div",{children:[(0,s.jsx)("label",{className:"block text-white/70 text-sm mb-2",children:"Rejection Reason"}),(0,s.jsx)("textarea",{value:W,onChange:e=>z(e.target.value),className:"w-full rounded-lg bg-white/5 border border-white/10 text-white px-4 py-2 focus:outline-none focus:ring-2 focus:ring-[#0dccf2]/50",rows:3})]}),(0,s.jsxs)("div",{className:"flex gap-3",children:[(0,s.jsx)("button",{onClick:ex,disabled:!O,className:"flex-1 px-4 py-2 bg-[#0dccf2] text-white rounded-lg hover:bg-[#0dccf2]/90 transition-colors disabled:opacity-50",children:"Execute"}),(0,s.jsx)("button",{onClick:()=>{T(!1),P(""),z("")},className:"px-4 py-2 bg-white/5 text-white rounded-lg hover:bg-white/10 transition-colors",children:"Cancel"})]})]})]})})]})})}},96666:function(e,t,a){"use strict";a.d(t,{Z:function(){return i}});var s=a(57437),l=a(2265),n=a(24033),r=a(87300);function i(e){let{children:t}=e,a=(0,n.useRouter)(),i=(0,n.usePathname)(),[o,d]=(0,l.useState)(!1),[c,u]=(0,l.useState)(!0);return((0,l.useEffect)(()=>{(()=>{if(!(0,r.$8)()){let e=encodeURIComponent(i||"/admin");a.push("/auth/login?next=".concat(e));return}if(!(0,r.GJ)()){a.push("/dashboard");return}d(!0),u(!1)})()},[a,i]),c)?(0,s.jsx)("div",{className:"flex min-h-screen w-full items-center justify-center bg-background-dark",children:(0,s.jsxs)("div",{className:"flex flex-col items-center gap-4",children:[(0,s.jsx)("div",{className:"size-8 animate-spin rounded-full border-4 border-[#0dccf2] border-t-transparent"}),(0,s.jsx)("p",{className:"text-white/70 text-sm",children:"Verifying access..."})]})}):o?(0,s.jsx)(s.Fragment,{children:t}):null}},28707:function(e,t,a){"use strict";a.d(t,{Z:function(){return d}});var s=a(57437),l=a(2265),n=a(61396),r=a.n(n),i=a(24033),o=a(96299);function d(){let{t:e}=(0,o.$)(),t=(0,i.usePathname)(),[a,n]=(0,l.useState)(!1),d=[{id:"dashboard",label:e("admin.dashboard"),icon:"dashboard",href:"/admin"},{id:"users",label:e("admin.users"),icon:"group",href:"/admin/users"},{id:"kyc",label:e("admin.kyc"),icon:"badge",href:"/admin/kyc"},{id:"games",label:e("admin.games"),icon:"gamepad",href:"/admin/games"},{id:"betting",label:e("admin.betting"),icon:"sports_soccer",href:"/admin/betting"},{id:"promotions",label:e("admin.promotions"),icon:"campaign",href:"/admin/promotions"},{id:"deposits",label:e("admin.deposits"),icon:"arrow_downward",href:"/admin/deposits"},{id:"withdrawals",label:e("admin.withdrawals"),icon:"arrow_upward",href:"/admin/withdrawals"},{id:"tournaments",label:e("admin.tournaments"),icon:"emoji_events",href:"/admin/tournaments"},{id:"content",label:e("admin.content"),icon:"wysiwyg",href:"/admin/content"}];return(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)("button",{onClick:()=>n(!a),className:"lg:hidden fixed top-4 left-4 z-[60] p-2 bg-background-dark border border-surface rounded-lg text-white hover:bg-white/10 transition-colors","aria-label":"Toggle sidebar",children:(0,s.jsx)("span",{className:"material-symbols-outlined",children:a?"close":"menu"})}),a&&(0,s.jsx)("div",{className:"lg:hidden fixed inset-0 bg-black/50 z-[55]",onClick:()=>n(!1)}),(0,s.jsxs)("aside",{className:"fixed left-0 top-0 h-screen w-64 flex flex-col bg-background-dark border-r border-surface p-4 z-50 transition-transform duration-300 ".concat(a?"translate-x-0":"-translate-x-full lg:translate-x-0"),children:[(0,s.jsxs)("div",{className:"flex items-center gap-3 mb-8 px-2",children:[(0,s.jsx)("div",{className:"flex h-10 w-10 items-center justify-center rounded-lg bg-primary",children:(0,s.jsx)("span",{className:"material-symbols-outlined text-black",children:"casino"})}),(0,s.jsxs)("div",{className:"flex flex-col",children:[(0,s.jsx)("h1",{className:"text-base font-bold text-white",children:e("admin.title")}),(0,s.jsx)("p",{className:"text-sm text-gray-400",children:e("admin.management")})]})]}),(0,s.jsx)("nav",{className:"flex flex-col gap-2",children:d.map(e=>(0,s.jsxs)(r(),{href:e.href,onClick:()=>n(!1),className:"flex items-center gap-3 rounded-lg px-3 py-2 text-sm font-medium transition-colors ".concat(t===e.href||"dashboard"===e.id&&"/admin"===t?"bg-primary/20 text-primary":"text-gray-300 hover:bg-white/10"),children:[(0,s.jsx)("span",{className:"material-symbols-outlined",children:e.icon}),(0,s.jsx)("p",{children:e.label})]},e.id))}),(0,s.jsxs)("div",{className:"mt-auto",children:[(0,s.jsxs)(r(),{href:"/admin/settings",onClick:()=>n(!1),className:"flex items-center gap-3 rounded-lg px-3 py-2 text-gray-300 hover:bg-white/10 transition-colors",children:[(0,s.jsx)("span",{className:"material-symbols-outlined",children:"settings"}),(0,s.jsx)("p",{className:"text-sm font-medium",children:e("admin.settings")})]}),(0,s.jsxs)("button",{onClick:()=>{localStorage.removeItem("token"),localStorage.removeItem("user"),localStorage.removeItem("isAdmin"),localStorage.removeItem("adminEmail"),window.location.href="/auth/login"},className:"mt-2 flex w-full items-center gap-3 rounded-lg px-3 py-2 text-gray-300 hover:bg-red-500/20 hover:text-red-400 transition-colors",children:[(0,s.jsx)("span",{className:"material-symbols-outlined",children:"logout"}),(0,s.jsx)("p",{className:"text-sm font-medium",children:e("admin.logout")})]})]})]})]})}},87300:function(e,t,a){"use strict";a.d(t,{$8:function(){return n},GJ:function(){return r},My:function(){return i},kS:function(){return o},ts:function(){return s}});let s=()=>{try{let e=localStorage.getItem("user");return e?JSON.parse(e):null}catch(e){return null}},l=()=>localStorage.getItem("token"),n=()=>!!l(),r=()=>{let e=s();return!!e&&["admin","super_admin","operator"].includes(e.role)},i=e=>["admin","super_admin","operator"].includes(e)?"/admin":"/dashboard",o=()=>{localStorage.removeItem("token"),localStorage.removeItem("user"),localStorage.removeItem("isAdmin"),localStorage.removeItem("adminEmail"),window.location.href="/"}},66209:function(e,t,a){"use strict";a.d(t,{X6:function(){return i},dN:function(){return r},o0:function(){return l},p6:function(){return s}});let s=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(!e)return"N/A";try{let a=new Date(e);if(isNaN(a.getTime()))return"N/A";let s={day:"2-digit",month:"2-digit",year:"numeric",...t};return a.toLocaleDateString("tr-TR",s)}catch(e){return console.error("Error formatting date:",e),"N/A"}},l=e=>{if(!e)return"N/A";try{let t=new Date(e);if(isNaN(t.getTime()))return"N/A";return t.toLocaleDateString("tr-TR",{day:"2-digit",month:"2-digit",year:"numeric",hour:"2-digit",minute:"2-digit"})}catch(e){return console.error("Error formatting date time:",e),"N/A"}},n=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"TRY",a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"tr-TR";if(null==e)return n(0,t,a);try{let s="string"==typeof e?parseFloat(e):e;if(isNaN(s))return n(0,t,a);return new Intl.NumberFormat(a,{style:"currency",currency:t,minimumFractionDigits:2,maximumFractionDigits:2}).format(s)}catch(a){return console.error("Error formatting currency:",a),"".concat(e," ").concat(t)}},r=e=>n(e,"TRY","tr-TR"),i=e=>{if(null==e)return"0%";try{let t="string"==typeof e?parseFloat(e):e;if(isNaN(t))return"0%";if(t>0)return"+".concat(t.toFixed(1),"%");if(t<0)return"".concat(t.toFixed(1),"%");return"0%"}catch(e){return console.error("Error formatting change:",e),"0%"}}},24215:function(e,t,a){"use strict";a.d(t,{cM:function(){return r}});let s={DEBUG:"debug",INFO:"info",WARN:"warn",ERROR:"error"};class l{formatMessage(e,t){let a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null,s=new Date().toISOString(),l="[".concat(s,"] [").concat(e.toUpperCase(),"]");return a?{prefix:l,message:t,data:a}:{prefix:l,message:t}}debug(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;if(!this.isDevelopment)return;let a=this.formatMessage(s.DEBUG,e,t);t?console.log(a.prefix,a.message,a.data):console.log(a.prefix,a.message)}info(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,a=this.formatMessage(s.INFO,e,t);t?console.info(a.prefix,a.message,a.data):console.info(a.prefix,a.message)}warn(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,a=this.formatMessage(s.WARN,e,t);t?console.warn(a.prefix,a.message,a.data):console.warn(a.prefix,a.message)}error(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,a=this.formatMessage(s.ERROR,e,t);t?(console.error(a.prefix,a.message,t),this.isDevelopment):console.error(a.prefix,a.message)}apiError(e,t){var a,s,l,n;this.error("API Error [".concat(e,"]"),{endpoint:e,status:null==t?void 0:null===(a=t.response)||void 0===a?void 0:a.status,message:(null==t?void 0:null===(l=t.response)||void 0===l?void 0:null===(s=l.data)||void 0===s?void 0:s.message)||(null==t?void 0:t.message),data:null==t?void 0:null===(n=t.response)||void 0===n?void 0:n.data})}constructor(){this.isDevelopment=!1}}let n=new l,r={debug:(e,t)=>n.debug(e,t),info:(e,t)=>n.info(e,t),warn:(e,t)=>n.warn(e,t),error:(e,t)=>n.error(e,t),apiError:(e,t)=>n.apiError(e,t)}},24033:function(e,t,a){e.exports=a(15313)}},function(e){e.O(0,[1176,4829,2385,6299,2971,4938,1744],function(){return e(e.s=45904)}),_N_E=e.O()}]);