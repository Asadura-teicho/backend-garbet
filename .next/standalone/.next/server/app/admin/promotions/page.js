(()=>{var e={};e.id=999,e.ids=[999],e.modules={47849:e=>{"use strict";e.exports=require("next/dist/client/components/action-async-storage.external")},55403:e=>{"use strict";e.exports=require("next/dist/client/components/request-async-storage.external")},94749:e=>{"use strict";e.exports=require("next/dist/client/components/static-generation-async-storage.external")},20399:e=>{"use strict";e.exports=require("next/dist/compiled/next-server/app-page.runtime.prod.js")},25528:e=>{"use strict";e.exports=require("next/dist\\client\\components\\action-async-storage.external.js")},91877:e=>{"use strict";e.exports=require("next/dist\\client\\components\\request-async-storage.external.js")},25319:e=>{"use strict";e.exports=require("next/dist\\client\\components\\static-generation-async-storage.external.js")},39491:e=>{"use strict";e.exports=require("assert")},6113:e=>{"use strict";e.exports=require("crypto")},82361:e=>{"use strict";e.exports=require("events")},57147:e=>{"use strict";e.exports=require("fs")},13685:e=>{"use strict";e.exports=require("http")},85158:e=>{"use strict";e.exports=require("http2")},95687:e=>{"use strict";e.exports=require("https")},22037:e=>{"use strict";e.exports=require("os")},71017:e=>{"use strict";e.exports=require("path")},12781:e=>{"use strict";e.exports=require("stream")},76224:e=>{"use strict";e.exports=require("tty")},57310:e=>{"use strict";e.exports=require("url")},73837:e=>{"use strict";e.exports=require("util")},59796:e=>{"use strict";e.exports=require("zlib")},77844:(e,t,s)=>{"use strict";s.r(t),s.d(t,{GlobalError:()=>n.a,__next_app__:()=>u,originalPathname:()=>m,pages:()=>d,routeModule:()=>x,tree:()=>c});var r=s(50482),a=s(69108),i=s(62563),n=s.n(i),l=s(68300),o={};for(let e in l)0>["default","tree","pages","GlobalError","originalPathname","__next_app__","routeModule"].indexOf(e)&&(o[e]=()=>l[e]);s.d(t,o);let c=["",{children:["admin",{children:["promotions",{children:["__PAGE__",{},{page:[()=>Promise.resolve().then(s.bind(s,8431)),"W:\\garbet\\Frontend\\app\\admin\\promotions\\page.js"]}]},{}]},{}]},{layout:[()=>Promise.resolve().then(s.bind(s,69847)),"W:\\garbet\\Frontend\\app\\layout.js"],error:[()=>Promise.resolve().then(s.bind(s,60826)),"W:\\garbet\\Frontend\\app\\error.js"],"not-found":[()=>Promise.resolve().then(s.bind(s,46178)),"W:\\garbet\\Frontend\\app\\not-found.js"]}],d=["W:\\garbet\\Frontend\\app\\admin\\promotions\\page.js"],m="/admin/promotions/page",u={require:s,loadChunk:()=>Promise.resolve()},x=new r.AppPageRouteModule({definition:{kind:a.x.APP_PAGE,page:"/admin/promotions/page",pathname:"/admin/promotions",bundlePath:"",filename:"",appPaths:[]},userland:{loaderTree:c}})},41930:(e,t,s)=>{Promise.resolve().then(s.bind(s,8696))},8696:(e,t,s)=>{"use strict";s.r(t),s.d(t,{default:()=>m});var r=s(95344),a=s(3729);s(20783);var i=s(22254),n=s(21475),l=s(90797),o=s(24774),c=s(94913),d=s(36846);let m=function(){(0,i.usePathname)();let[e,t]=(0,a.useState)([]),[s,m]=(0,a.useState)(!0),[u,x]=(0,a.useState)(!1),[p,h]=(0,a.useState)(""),[g,b]=(0,a.useState)(""),[f,j]=(0,a.useState)(""),[w,N]=(0,a.useState)("all"),[v,y]=(0,a.useState)("all"),[k,D]=(0,a.useState)(1),[E,S]=(0,a.useState)(1),[P,C]=(0,a.useState)(0),[F,_]=(0,a.useState)(!1),[A,q]=(0,a.useState)(!1),[B,M]=(0,a.useState)(!1),[T,R]=(0,a.useState)(null),[I,$]=(0,a.useState)({title:"",type:"welcome",description:"",startDate:"",endDate:"",status:"active",minDeposit:0,maxDeposit:null,bonusPercent:0,bonusAmount:0,maxBonus:null,rolloverMultiplier:5,maxUses:null,maxUsesPerUser:1,bannerImage:"",termsAndConditions:"",isFeatured:!1,priority:0});(0,a.useEffect)(()=>{U()},[w,v,f,k]);let U=async()=>{m(!0),h("");try{let e={page:k,limit:20};f&&(e.search=f),"all"!==w&&(e.status=w),"all"!==v&&(e.type=v);let s=await o.Sb.getPromotions(e);t(s.data.promotions||[]),S(s.data.totalPages||1),C(s.data.total||0)}catch(e){h(e.response?.data?.message||"Failed to load promotions"),d.cM.apiError("/admin/promotions",e)}finally{m(!1)}},O=async()=>{x(!0),h("");try{if(new Date(I.startDate)>=new Date(I.endDate)){h("End date must be after start date"),x(!1);return}await o.Sb.createPromotion(I),b("Promotion created successfully!"),_(!1),G(),U(),setTimeout(()=>b(""),3e3)}catch(e){h(e.response?.data?.message||"Failed to create promotion"),d.cM.apiError("/admin/promotions",e)}finally{x(!1)}},W=async()=>{if(T){x(!0),h("");try{if(new Date(I.startDate)>=new Date(I.endDate)){h("End date must be after start date"),x(!1);return}await o.Sb.updatePromotion(T._id,I),b("Promotion updated successfully!"),q(!1),R(null),G(),U(),setTimeout(()=>b(""),3e3)}catch(e){h(e.response?.data?.message||"Failed to update promotion"),d.cM.apiError(`/admin/promotions/${T._id}`,e)}finally{x(!1)}}},z=async()=>{if(T){x(!0),h("");try{await o.Sb.deletePromotion(T._id),b("Promotion deleted successfully!"),M(!1),R(null),U(),setTimeout(()=>b(""),3e3)}catch(e){h(e.response?.data?.message||"Failed to delete promotion"),d.cM.apiError(`/admin/promotions/${T._id}`,e)}finally{x(!1)}}},G=()=>{$({title:"",type:"welcome",description:"",startDate:"",endDate:"",status:"active",minDeposit:0,maxDeposit:null,bonusPercent:0,bonusAmount:0,maxBonus:null,rolloverMultiplier:5,maxUses:null,maxUsesPerUser:1,bannerImage:"",termsAndConditions:"",isFeatured:!1,priority:0})},Z=e=>{R(e),$({title:e.title||"",type:e.type||"welcome",description:e.description||"",startDate:e.startDate?new Date(e.startDate).toISOString().split("T")[0]:"",endDate:e.endDate?new Date(e.endDate).toISOString().split("T")[0]:"",status:e.status||"active",minDeposit:e.minDeposit||0,maxDeposit:e.maxDeposit||null,bonusPercent:e.bonusPercent||0,bonusAmount:e.bonusAmount||0,maxBonus:e.maxBonus||null,rolloverMultiplier:e.rolloverMultiplier||5,maxUses:e.maxUses||null,maxUsesPerUser:e.maxUsesPerUser||1,bannerImage:e.bannerImage||"",termsAndConditions:e.termsAndConditions||"",isFeatured:e.isFeatured||!1,priority:e.priority||0}),q(!0)},J=e=>{switch(e){case"active":return"bg-green-500/20 text-green-400";case"inactive":default:return"bg-gray-500/20 text-gray-400";case"expired":return"bg-red-500/20 text-red-400";case"scheduled":return"bg-yellow-500/20 text-yellow-400"}},L=e=>({welcome:"Welcome",deposit:"Deposit",cashback:"Cashback",reload:"Reload",free_spins:"Free Spins",tournament:"Tournament",other:"Other"})[e]||e;return r.jsx(n.Z,{children:(0,r.jsxs)("div",{className:"flex min-h-screen w-full bg-background-dark",children:[r.jsx(l.Z,{}),r.jsx("main",{className:"flex-1 p-6 lg:p-10 bg-background-light dark:bg-background-dark ml-0 lg:ml-64",children:r.jsx("div",{className:"w-full max-w-7xl mx-auto",children:(0,r.jsxs)("div",{className:"flex flex-col gap-6",children:[(0,r.jsxs)("div",{className:"flex flex-wrap justify-between items-center gap-4",children:[(0,r.jsxs)("div",{className:"flex flex-col gap-2",children:[r.jsx("p",{className:"text-white text-4xl font-black leading-tight tracking-[-0.033em]",children:"Promotions Management"}),r.jsx("p",{className:"text-[#9cb5ba] text-base font-normal leading-normal",children:"Create, view, edit, and delete promotions and bonuses."})]}),(0,r.jsxs)("button",{onClick:()=>{G(),_(!0)},className:"flex min-w-[84px] cursor-pointer items-center justify-center gap-2 overflow-hidden rounded-lg h-11 px-6 bg-[#0dccf2] text-[#111718] text-sm font-bold leading-normal tracking-[0.015em] hover:bg-[#0dccf2]/90 transition-colors",children:[r.jsx("span",{className:"material-symbols-outlined",children:"add_circle"}),r.jsx("span",{className:"truncate",children:"Create New Promotion"})]})]}),p&&r.jsx("div",{className:"rounded-lg bg-red-500/20 border border-red-500/50 p-4",children:r.jsx("p",{className:"text-sm text-red-400",children:p})}),g&&r.jsx("div",{className:"rounded-lg bg-green-500/20 border border-green-500/50 p-4",children:r.jsx("p",{className:"text-sm text-green-400",children:g})}),(0,r.jsxs)("div",{className:"flex flex-col md:flex-row gap-4",children:[r.jsx("div",{className:"flex-1",children:r.jsx("label",{className:"flex flex-col min-w-40 h-12 w-full",children:(0,r.jsxs)("div",{className:"flex w-full flex-1 items-stretch rounded-lg h-full",children:[r.jsx("div",{className:"text-[#9cb5ba] flex border-none bg-[#1b2527] items-center justify-center pl-4 rounded-l-lg",children:r.jsx("span",{className:"material-symbols-outlined",children:"search"})}),r.jsx("input",{className:"form-input flex w-full min-w-0 flex-1 resize-none overflow-hidden rounded-r-lg text-white focus:outline-0 focus:ring-2 focus:ring-[#0dccf2] focus:ring-inset border-none bg-[#1b2527] h-full placeholder:text-[#9cb5ba] px-4 text-base font-normal leading-normal",placeholder:"Search by promotion title...",value:f,onChange:e=>{j(e.target.value),D(1)},type:"text"})]})})}),(0,r.jsxs)("div",{className:"flex items-center gap-3",children:[(0,r.jsxs)("select",{value:w,onChange:e=>{N(e.target.value),D(1)},className:"h-12 rounded-lg bg-[#1b2527] border border-[#3b5054] text-white px-4 focus:outline-none focus:ring-2 focus:ring-[#0dccf2]",children:[r.jsx("option",{value:"all",className:"bg-[#1b2527]",children:"All Status"}),r.jsx("option",{value:"active",className:"bg-[#1b2527]",children:"Active"}),r.jsx("option",{value:"inactive",className:"bg-[#1b2527]",children:"Inactive"}),r.jsx("option",{value:"expired",className:"bg-[#1b2527]",children:"Expired"}),r.jsx("option",{value:"scheduled",className:"bg-[#1b2527]",children:"Scheduled"})]}),(0,r.jsxs)("select",{value:v,onChange:e=>{y(e.target.value),D(1)},className:"h-12 rounded-lg bg-[#1b2527] border border-[#3b5054] text-white px-4 focus:outline-none focus:ring-2 focus:ring-[#0dccf2]",children:[r.jsx("option",{value:"all",className:"bg-[#1b2527]",children:"All Types"}),r.jsx("option",{value:"welcome",className:"bg-[#1b2527]",children:"Welcome"}),r.jsx("option",{value:"deposit",className:"bg-[#1b2527]",children:"Deposit"}),r.jsx("option",{value:"cashback",className:"bg-[#1b2527]",children:"Cashback"}),r.jsx("option",{value:"reload",className:"bg-[#1b2527]",children:"Reload"}),r.jsx("option",{value:"free_spins",className:"bg-[#1b2527]",children:"Free Spins"}),r.jsx("option",{value:"tournament",className:"bg-[#1b2527]",children:"Tournament"}),r.jsx("option",{value:"other",className:"bg-[#1b2527]",children:"Other"})]})]})]}),r.jsx("div",{className:"@container",children:r.jsx("div",{className:"overflow-hidden rounded-lg border border-[#3b5054] bg-[#111718]",children:s?r.jsx("div",{className:"flex items-center justify-center py-12",children:r.jsx("div",{className:"size-8 animate-spin rounded-full border-4 border-[#0dccf2] border-t-transparent"})}):0===e.length?r.jsx("div",{className:"text-center py-12",children:r.jsx("p",{className:"text-gray-400",children:"No promotions found"})}):(0,r.jsxs)("table",{className:"min-w-full",children:[r.jsx("thead",{className:"bg-[#1b2527]",children:(0,r.jsxs)("tr",{children:[r.jsx("th",{className:"px-6 py-4 text-left text-xs font-medium text-gray-300 uppercase tracking-wider w-2/6",children:"Promotion Title"}),r.jsx("th",{className:"px-6 py-4 text-left text-xs font-medium text-gray-300 uppercase tracking-wider",children:"Type"}),r.jsx("th",{className:"px-6 py-4 text-left text-xs font-medium text-gray-300 uppercase tracking-wider",children:"Start Date"}),r.jsx("th",{className:"px-6 py-4 text-left text-xs font-medium text-gray-300 uppercase tracking-wider",children:"End Date"}),r.jsx("th",{className:"px-6 py-4 text-left text-xs font-medium text-gray-300 uppercase tracking-wider",children:"Status"}),r.jsx("th",{className:"px-6 py-4 text-right text-xs font-medium text-gray-300 uppercase tracking-wider",children:"Actions"})]})}),r.jsx("tbody",{className:"divide-y divide-[#3b5054]",children:e.map(e=>(0,r.jsxs)("tr",{className:"hover:bg-[#1b2527]/50 transition-colors",children:[r.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-white text-sm font-medium",children:e.title}),r.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-[#9cb5ba] text-sm",children:L(e.type)}),r.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-[#9cb5ba] text-sm",children:(0,c.p6)(e.startDate)}),r.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-[#9cb5ba] text-sm",children:(0,c.p6)(e.endDate)}),r.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:r.jsx("span",{className:`inline-flex items-center px-3 py-1 rounded-full text-xs font-semibold ${J(e.status)}`,children:e.status})}),r.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-right text-sm font-medium",children:(0,r.jsxs)("div",{className:"flex items-center justify-end gap-2",children:[r.jsx("button",{onClick:()=>Z(e),className:"text-[#9cb5ba] hover:text-[#0dccf2] transition-colors",title:"Edit",children:r.jsx("span",{className:"material-symbols-outlined",children:"edit"})}),r.jsx("button",{onClick:()=>{R(e),M(!0)},className:"text-[#9cb5ba] hover:text-red-400 transition-colors",title:"Delete",children:r.jsx("span",{className:"material-symbols-outlined",children:"delete"})})]})})]},e._id))})]})})}),E>1&&(0,r.jsxs)("div",{className:"flex items-center justify-between text-sm text-[#9cb5ba]",children:[(0,r.jsxs)("p",{children:["Showing ",r.jsx("span",{className:"font-medium text-white",children:(k-1)*20+1})," to"," ",r.jsx("span",{className:"font-medium text-white",children:Math.min(20*k,P)})," of"," ",r.jsx("span",{className:"font-medium text-white",children:P})," results"]}),(0,r.jsxs)("div",{className:"flex items-center gap-2",children:[r.jsx("button",{onClick:()=>D(e=>Math.max(1,e-1)),disabled:1===k,className:"flex items-center justify-center p-2 rounded-lg hover:bg-[#1b2527] disabled:opacity-50 disabled:cursor-not-allowed transition-colors",children:r.jsx("span",{className:"material-symbols-outlined",children:"chevron_left"})}),(0,r.jsxs)("span",{className:"text-white px-4",children:["Page ",k," of ",E]}),r.jsx("button",{onClick:()=>D(e=>Math.min(E,e+1)),disabled:k===E,className:"flex items-center justify-center p-2 rounded-lg hover:bg-[#1b2527] disabled:opacity-50 disabled:cursor-not-allowed transition-colors",children:r.jsx("span",{className:"material-symbols-outlined",children:"chevron_right"})})]})]})]})})}),(F||A)&&r.jsx("div",{className:"fixed inset-0 bg-black/50 flex items-center justify-center z-50 p-4",children:(0,r.jsxs)("div",{className:"bg-[#1E1E2B] rounded-xl border border-white/10 p-6 w-full max-w-2xl max-h-[90vh] overflow-y-auto",children:[r.jsx("h3",{className:"text-white text-xl font-semibold mb-4",children:F?"Create New Promotion":"Edit Promotion"}),(0,r.jsxs)("div",{className:"space-y-4",children:[(0,r.jsxs)("div",{className:"grid grid-cols-2 gap-4",children:[(0,r.jsxs)("div",{children:[r.jsx("label",{className:"block text-white text-sm mb-2",children:"Title *"}),r.jsx("input",{type:"text",value:I.title,onChange:e=>$({...I,title:e.target.value}),className:"w-full h-10 rounded-lg bg-white/5 border border-white/10 text-white px-4 focus:outline-none focus:ring-2 focus:ring-[#0dccf2]/50",required:!0})]}),(0,r.jsxs)("div",{children:[r.jsx("label",{className:"block text-white text-sm mb-2",children:"Type *"}),(0,r.jsxs)("select",{value:I.type,onChange:e=>$({...I,type:e.target.value}),className:"w-full h-10 rounded-lg bg-white/5 border border-white/10 text-white px-4 focus:outline-none focus:ring-2 focus:ring-[#0dccf2]/50",required:!0,children:[r.jsx("option",{value:"welcome",className:"bg-[#1E1E2B] text-white",children:"Welcome"}),r.jsx("option",{value:"deposit",className:"bg-[#1E1E2B] text-white",children:"Deposit"}),r.jsx("option",{value:"cashback",className:"bg-[#1E1E2B] text-white",children:"Cashback"}),r.jsx("option",{value:"reload",className:"bg-[#1E1E2B] text-white",children:"Reload"}),r.jsx("option",{value:"free_spins",className:"bg-[#1E1E2B] text-white",children:"Free Spins"}),r.jsx("option",{value:"tournament",className:"bg-[#1E1E2B] text-white",children:"Tournament"}),r.jsx("option",{value:"other",className:"bg-[#1E1E2B] text-white",children:"Other"})]})]})]}),(0,r.jsxs)("div",{children:[r.jsx("label",{className:"block text-white text-sm mb-2",children:"Description"}),r.jsx("textarea",{value:I.description,onChange:e=>$({...I,description:e.target.value}),rows:3,className:"w-full rounded-lg bg-white/5 border border-white/10 text-white px-4 py-2 focus:outline-none focus:ring-2 focus:ring-[#0dccf2]/50"})]}),(0,r.jsxs)("div",{className:"grid grid-cols-2 gap-4",children:[(0,r.jsxs)("div",{children:[r.jsx("label",{className:"block text-white text-sm mb-2",children:"Start Date *"}),r.jsx("input",{type:"date",value:I.startDate,onChange:e=>$({...I,startDate:e.target.value}),className:"w-full h-10 rounded-lg bg-white/5 border border-white/10 text-white px-4 focus:outline-none focus:ring-2 focus:ring-[#0dccf2]/50",required:!0})]}),(0,r.jsxs)("div",{children:[r.jsx("label",{className:"block text-white text-sm mb-2",children:"End Date *"}),r.jsx("input",{type:"date",value:I.endDate,onChange:e=>$({...I,endDate:e.target.value}),className:"w-full h-10 rounded-lg bg-white/5 border border-white/10 text-white px-4 focus:outline-none focus:ring-2 focus:ring-[#0dccf2]/50",required:!0})]})]}),(0,r.jsxs)("div",{className:"grid grid-cols-2 gap-4",children:[(0,r.jsxs)("div",{children:[r.jsx("label",{className:"block text-white text-sm mb-2",children:"Status *"}),(0,r.jsxs)("select",{value:I.status,onChange:e=>$({...I,status:e.target.value}),className:"w-full h-10 rounded-lg bg-white/5 border border-white/10 text-white px-4 focus:outline-none focus:ring-2 focus:ring-[#0dccf2]/50",children:[r.jsx("option",{value:"active",className:"bg-[#1E1E2B]",children:"Active"}),r.jsx("option",{value:"inactive",className:"bg-[#1E1E2B]",children:"Inactive"}),r.jsx("option",{value:"scheduled",className:"bg-[#1E1E2B]",children:"Scheduled"}),r.jsx("option",{value:"expired",className:"bg-[#1E1E2B]",children:"Expired"})]})]}),(0,r.jsxs)("div",{children:[r.jsx("label",{className:"block text-white text-sm mb-2",children:"Priority"}),r.jsx("input",{type:"number",min:"0",value:I.priority,onChange:e=>$({...I,priority:parseInt(e.target.value)||0}),className:"w-full h-10 rounded-lg bg-white/5 border border-white/10 text-white px-4 focus:outline-none focus:ring-2 focus:ring-[#0dccf2]/50"})]})]}),(0,r.jsxs)("div",{className:"grid grid-cols-3 gap-4",children:[(0,r.jsxs)("div",{children:[r.jsx("label",{className:"block text-white text-sm mb-2",children:"Bonus %"}),r.jsx("input",{type:"number",min:"0",max:"100",value:I.bonusPercent,onChange:e=>$({...I,bonusPercent:parseFloat(e.target.value)||0}),className:"w-full h-10 rounded-lg bg-white/5 border border-white/10 text-white px-4 focus:outline-none focus:ring-2 focus:ring-[#0dccf2]/50"})]}),(0,r.jsxs)("div",{children:[r.jsx("label",{className:"block text-white text-sm mb-2",children:"Bonus Amount"}),r.jsx("input",{type:"number",min:"0",value:I.bonusAmount,onChange:e=>$({...I,bonusAmount:parseFloat(e.target.value)||0}),className:"w-full h-10 rounded-lg bg-white/5 border border-white/10 text-white px-4 focus:outline-none focus:ring-2 focus:ring-[#0dccf2]/50"})]}),(0,r.jsxs)("div",{children:[r.jsx("label",{className:"block text-white text-sm mb-2",children:"Max Bonus"}),r.jsx("input",{type:"number",min:"0",value:I.maxBonus||"",onChange:e=>$({...I,maxBonus:e.target.value?parseFloat(e.target.value):null}),className:"w-full h-10 rounded-lg bg-white/5 border border-white/10 text-white px-4 focus:outline-none focus:ring-2 focus:ring-[#0dccf2]/50"})]})]}),r.jsx("div",{className:"flex items-center gap-2",children:(0,r.jsxs)("label",{className:"flex items-center gap-2",children:[r.jsx("input",{type:"checkbox",checked:I.isFeatured,onChange:e=>$({...I,isFeatured:e.target.checked}),className:"size-5 rounded border-2 border-white/20 bg-white/5 text-[#0dccf2] focus:ring-2 focus:ring-[#0dccf2]/50"}),r.jsx("span",{className:"text-white text-sm",children:"Featured"})]})}),(0,r.jsxs)("div",{className:"flex gap-2 pt-4",children:[r.jsx("button",{onClick:F?O:W,disabled:u||!I.title||!I.startDate||!I.endDate,className:"flex-1 px-4 py-2 rounded-lg bg-[#0dccf2] text-white font-medium hover:bg-[#0bb5d9] transition-colors disabled:opacity-50 disabled:cursor-not-allowed",children:u?"Saving...":F?"Create Promotion":"Update Promotion"}),r.jsx("button",{onClick:()=>{_(!1),q(!1),R(null),G()},className:"px-4 py-2 rounded-lg bg-white/5 border border-white/10 text-white font-medium hover:bg-white/10 transition-colors",children:"Cancel"})]})]})]})}),B&&T&&r.jsx("div",{className:"fixed inset-0 bg-black/50 flex items-center justify-center z-50",children:(0,r.jsxs)("div",{className:"bg-[#1E1E2B] rounded-xl border border-white/10 p-6 w-full max-w-md",children:[r.jsx("h3",{className:"text-white text-xl font-semibold mb-4",children:"Delete Promotion"}),(0,r.jsxs)("p",{className:"text-gray-300 mb-6",children:['Are you sure you want to delete "',T.title,'"? This action cannot be undone.']}),(0,r.jsxs)("div",{className:"flex gap-2",children:[r.jsx("button",{onClick:z,disabled:u,className:"flex-1 px-4 py-2 rounded-lg bg-red-500 text-white font-medium hover:bg-red-600 transition-colors disabled:opacity-50 disabled:cursor-not-allowed",children:u?"Deleting...":"Delete"}),r.jsx("button",{onClick:()=>{M(!1),R(null)},className:"px-4 py-2 rounded-lg bg-white/5 border border-white/10 text-white font-medium hover:bg-white/10 transition-colors",children:"Cancel"})]})]})})]})})}},21475:(e,t,s)=>{"use strict";s.d(t,{Z:()=>l});var r=s(95344),a=s(3729),i=s(22254),n=s(2324);function l({children:e}){let t=(0,i.useRouter)(),s=(0,i.usePathname)(),[l,o]=(0,a.useState)(!1),[c,d]=(0,a.useState)(!0);return((0,a.useEffect)(()=>{(()=>{if(!(0,n.$8)()){let e=encodeURIComponent(s||"/admin");t.push(`/auth/login?next=${e}`);return}if(!(0,n.GJ)()){t.push("/dashboard");return}o(!0),d(!1)})()},[t,s]),c)?r.jsx("div",{className:"flex min-h-screen w-full items-center justify-center bg-background-dark",children:(0,r.jsxs)("div",{className:"flex flex-col items-center gap-4",children:[r.jsx("div",{className:"size-8 animate-spin rounded-full border-4 border-[#0dccf2] border-t-transparent"}),r.jsx("p",{className:"text-white/70 text-sm",children:"Verifying access..."})]})}):l?r.jsx(r.Fragment,{children:e}):null}},90797:(e,t,s)=>{"use strict";s.d(t,{Z:()=>c});var r=s(95344),a=s(3729),i=s(20783),n=s.n(i),l=s(22254),o=s(19747);function c(){let{t:e}=(0,o.$)(),t=(0,l.usePathname)(),[s,i]=(0,a.useState)(!1),c=[{id:"dashboard",label:e("admin.dashboard"),icon:"dashboard",href:"/admin"},{id:"users",label:e("admin.users"),icon:"group",href:"/admin/users"},{id:"kyc",label:e("admin.kyc"),icon:"badge",href:"/admin/kyc"},{id:"games",label:e("admin.games"),icon:"gamepad",href:"/admin/games"},{id:"betting",label:e("admin.betting"),icon:"sports_soccer",href:"/admin/betting"},{id:"promotions",label:e("admin.promotions"),icon:"campaign",href:"/admin/promotions"},{id:"deposits",label:e("admin.deposits"),icon:"arrow_downward",href:"/admin/deposits"},{id:"withdrawals",label:e("admin.withdrawals"),icon:"arrow_upward",href:"/admin/withdrawals"},{id:"tournaments",label:e("admin.tournaments"),icon:"emoji_events",href:"/admin/tournaments"},{id:"content",label:e("admin.content"),icon:"wysiwyg",href:"/admin/content"}];return(0,r.jsxs)(r.Fragment,{children:[r.jsx("button",{onClick:()=>i(!s),className:"lg:hidden fixed top-4 left-4 z-[60] p-2 bg-background-dark border border-surface rounded-lg text-white hover:bg-white/10 transition-colors","aria-label":"Toggle sidebar",children:r.jsx("span",{className:"material-symbols-outlined",children:s?"close":"menu"})}),s&&r.jsx("div",{className:"lg:hidden fixed inset-0 bg-black/50 z-[55]",onClick:()=>i(!1)}),(0,r.jsxs)("aside",{className:`fixed left-0 top-0 h-screen w-64 flex flex-col bg-background-dark border-r border-surface p-4 z-50 transition-transform duration-300 ${s?"translate-x-0":"-translate-x-full lg:translate-x-0"}`,children:[(0,r.jsxs)("div",{className:"flex items-center gap-3 mb-8 px-2",children:[r.jsx("div",{className:"flex h-10 w-10 items-center justify-center rounded-lg bg-primary",children:r.jsx("span",{className:"material-symbols-outlined text-black",children:"casino"})}),(0,r.jsxs)("div",{className:"flex flex-col",children:[r.jsx("h1",{className:"text-base font-bold text-white",children:e("admin.title")}),r.jsx("p",{className:"text-sm text-gray-400",children:e("admin.management")})]})]}),r.jsx("nav",{className:"flex flex-col gap-2",children:c.map(e=>(0,r.jsxs)(n(),{href:e.href,onClick:()=>i(!1),className:`flex items-center gap-3 rounded-lg px-3 py-2 text-sm font-medium transition-colors ${t===e.href||"dashboard"===e.id&&"/admin"===t?"bg-primary/20 text-primary":"text-gray-300 hover:bg-white/10"}`,children:[r.jsx("span",{className:"material-symbols-outlined",children:e.icon}),r.jsx("p",{children:e.label})]},e.id))}),(0,r.jsxs)("div",{className:"mt-auto",children:[(0,r.jsxs)(n(),{href:"/admin/settings",onClick:()=>i(!1),className:"flex items-center gap-3 rounded-lg px-3 py-2 text-gray-300 hover:bg-white/10 transition-colors",children:[r.jsx("span",{className:"material-symbols-outlined",children:"settings"}),r.jsx("p",{className:"text-sm font-medium",children:e("admin.settings")})]}),(0,r.jsxs)("button",{onClick:()=>{localStorage.removeItem("token"),localStorage.removeItem("user"),localStorage.removeItem("isAdmin"),localStorage.removeItem("adminEmail"),window.location.href="/auth/login"},className:"mt-2 flex w-full items-center gap-3 rounded-lg px-3 py-2 text-gray-300 hover:bg-red-500/20 hover:text-red-400 transition-colors",children:[r.jsx("span",{className:"material-symbols-outlined",children:"logout"}),r.jsx("p",{className:"text-sm font-medium",children:e("admin.logout")})]})]})]})]})}},22254:(e,t,s)=>{e.exports=s(14767)},2324:(e,t,s)=>{"use strict";s.d(t,{$8:()=>i,GJ:()=>n,My:()=>l,kS:()=>o,ts:()=>r});let r=()=>null,a=()=>null,i=()=>!!a(),n=()=>{let e=r();return!!e&&["admin","super_admin","operator"].includes(e.role)},l=e=>["admin","super_admin","operator"].includes(e)?"/admin":"/dashboard",o=()=>{}},94913:(e,t,s)=>{"use strict";s.d(t,{X6:()=>l,dN:()=>n,o0:()=>a,p6:()=>r});let r=(e,t={})=>{if(!e)return"N/A";try{let s=new Date(e);if(isNaN(s.getTime()))return"N/A";let r={day:"2-digit",month:"2-digit",year:"numeric",...t};return s.toLocaleDateString("tr-TR",r)}catch(e){return console.error("Error formatting date:",e),"N/A"}},a=e=>{if(!e)return"N/A";try{let t=new Date(e);if(isNaN(t.getTime()))return"N/A";return t.toLocaleDateString("tr-TR",{day:"2-digit",month:"2-digit",year:"numeric",hour:"2-digit",minute:"2-digit"})}catch(e){return console.error("Error formatting date time:",e),"N/A"}},i=(e,t="TRY",s="tr-TR")=>{if(null==e)return i(0,t,s);try{let r="string"==typeof e?parseFloat(e):e;if(isNaN(r))return i(0,t,s);return new Intl.NumberFormat(s,{style:"currency",currency:t,minimumFractionDigits:2,maximumFractionDigits:2}).format(r)}catch(s){return console.error("Error formatting currency:",s),`${e} ${t}`}},n=e=>i(e,"TRY","tr-TR"),l=e=>{if(null==e)return"0%";try{let t="string"==typeof e?parseFloat(e):e;if(isNaN(t))return"0%";if(t>0)return`+${t.toFixed(1)}%`;if(t<0)return`${t.toFixed(1)}%`;return"0%"}catch(e){return console.error("Error formatting change:",e),"0%"}}},36846:(e,t,s)=>{"use strict";s.d(t,{cM:()=>n});let r={DEBUG:"debug",INFO:"info",WARN:"warn",ERROR:"error"};class a{constructor(){this.isDevelopment=!1}formatMessage(e,t,s=null){let r=new Date().toISOString(),a=`[${r}] [${e.toUpperCase()}]`;return s?{prefix:a,message:t,data:s}:{prefix:a,message:t}}debug(e,t=null){if(!this.isDevelopment)return;let s=this.formatMessage(r.DEBUG,e,t);t?console.log(s.prefix,s.message,s.data):console.log(s.prefix,s.message)}info(e,t=null){let s=this.formatMessage(r.INFO,e,t);t?console.info(s.prefix,s.message,s.data):console.info(s.prefix,s.message)}warn(e,t=null){let s=this.formatMessage(r.WARN,e,t);t?console.warn(s.prefix,s.message,s.data):console.warn(s.prefix,s.message)}error(e,t=null){let s=this.formatMessage(r.ERROR,e,t);t?(console.error(s.prefix,s.message,t),this.isDevelopment):console.error(s.prefix,s.message)}apiError(e,t){this.error(`API Error [${e}]`,{endpoint:e,status:t?.response?.status,message:t?.response?.data?.message||t?.message,data:t?.response?.data})}}let i=new a,n={debug:(e,t)=>i.debug(e,t),info:(e,t)=>i.info(e,t),warn:(e,t)=>i.warn(e,t),error:(e,t)=>i.error(e,t),apiError:(e,t)=>i.apiError(e,t)}},8431:(e,t,s)=>{"use strict";s.r(t),s.d(t,{$$typeof:()=>i,__esModule:()=>a,default:()=>n});let r=(0,s(86843).createProxy)(String.raw`W:\garbet\Frontend\app\admin\promotions\page.js`),{__esModule:a,$$typeof:i}=r,n=r.default}};var t=require("../../../webpack-runtime.js");t.C(e);var s=e=>t(t.s=e),r=t.X(0,[1263,9069],()=>s(77844));module.exports=r})();