(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[1112],{58876:function(e,t,s){Promise.resolve().then(s.bind(s,21327))},21327:function(e,t,s){"use strict";s.r(t),s.d(t,{default:function(){return x}});var a=s(57437),r=s(2265),l=s(61396),n=s.n(l),o=s(24033),c=s(60473),i=s(96299),d=s(62385),m=s(24215);function x(){let{t:e}=(0,i.$)(),t=(0,o.useRouter)(),[s,l]=(0,r.useState)(e("sports.today")),[x,p]=(0,r.useState)([]),[h,u]=(0,r.useState)(e("sports.time")),[f,g]=(0,r.useState)([]),[b,y]=(0,r.useState)(!0),[j,N]=(0,r.useState)(""),[v,w]=(0,r.useState)(""),[k,D]=(0,r.useState)(!1);(0,r.useEffect)(()=>{S()},[s]);let S=async()=>{y(!0),N("");try{let t={status:"upcoming",page:1,limit:50};if(s===e("sports.today")){let e=new Date;e.setHours(0,0,0,0);let s=new Date(e);s.setDate(s.getDate()+1),t.startDate=e.toISOString(),t.endDate=s.toISOString()}else if(s===e("sports.tomorrow")){let e=new Date;e.setDate(e.getDate()+1),e.setHours(0,0,0,0);let s=new Date(e);s.setDate(s.getDate()+1),t.startDate=e.toISOString(),t.endDate=s.toISOString()}else if(s===e("sports.threeDays")){let e=new Date;e.setHours(0,0,0,0);let s=new Date(e);s.setDate(s.getDate()+3),t.startDate=e.toISOString(),t.endDate=s.toISOString()}let a=await d.pp.getMatches(t);g(a.data.matches||[])}catch(e){var t,a;console.error("Error fetching matches:",e),N((null===(a=e.response)||void 0===a?void 0:null===(t=a.data)||void 0===t?void 0:t.message)||"Failed to load matches"),m.cM.apiError("/matches",e)}finally{y(!1)}},T=f.map(e=>{var t,s;let a=null===(t=e.markets)||void 0===t?void 0:t.find(e=>"1X2"===e.type),r={};a&&a.selections.forEach(e=>{"Team A Win"===e.name?r["1"]=e.odds:"Draw"===e.name?r.X=e.odds:"Team B Win"===e.name&&(r["2"]=e.odds)});let l=new Date(e.matchDate),n=l.toDateString()===new Date().toDateString(),o=l.toDateString()===new Date(Date.now()+864e5).toDateString(),c=l.toLocaleDateString("tr-TR",{day:"numeric",month:"short"});n?c="Today":o&&(c="Tomorrow");let i=e.matchTime||l.toLocaleTimeString("tr-TR",{hour:"2-digit",minute:"2-digit"});return{id:e._id,_id:e._id,date:"".concat(c,", ").concat(i),teams:[{name:e.teamA,logo:null},{name:e.teamB,logo:null}],odds:r,matchName:e.matchName,league:e.league,status:e.status,moreOptions:(null===(s=e.markets)||void 0===s?void 0:s.length)||0,rawMatch:e}}),_=(e,t,s)=>{let a={matchId:e._id,matchName:e.matchName||"".concat(e.teamA," vs ").concat(e.teamB),selection:"1"===t?"Team A Win":"X"===t?"Draw":"Team B Win",odds:parseFloat(s),marketType:"1X2",marketName:"Match Winner"},r=x.findIndex(t=>t.matchId===e._id&&t.selection===a.selection);r>=0?p(x.filter((e,t)=>t!==r)):p([...x,a])},F=async()=>{if(0===x.length||!v||0>=parseFloat(v)){N("Please select bets and enter a stake amount");return}D(!0),N("");try{for(let e of x)await d.pp.placeBet(e.matchId,{marketType:e.marketType,marketName:e.marketName,selection:e.selection,stake:parseFloat(v),useBonusBalance:!1});p([]),w(""),t.push("/dashboard")}catch(t){var e,s;N((null===(s=t.response)||void 0===s?void 0:null===(e=s.data)||void 0===e?void 0:e.message)||"Failed to place bet"),m.cM.apiError("/matches/bet",t)}finally{D(!1)}},I=x.length>0?x.reduce((e,t)=>e*t.odds,1).toFixed(2):"0.00",O=x.length>0&&v?(parseFloat(v)*parseFloat(I)).toFixed(2):"0.00";return(0,a.jsxs)("div",{className:"relative flex h-auto min-h-screen w-full flex-col bg-background-dark",children:[(0,a.jsx)(c.Z,{}),(0,a.jsx)("div",{className:"mx-auto w-full max-w-screen-2xl p-4 sm:p-6 lg:p-8",children:(0,a.jsxs)("div",{className:"grid grid-cols-12 gap-6",children:[(0,a.jsx)("aside",{className:"col-span-12 hidden lg:col-span-3 lg:block",children:(0,a.jsxs)("div",{className:"sticky top-24 flex flex-col gap-6 rounded-lg bg-surface p-4",children:[(0,a.jsx)("label",{className:"flex flex-col min-w-40 h-12 w-full",children:(0,a.jsxs)("div",{className:"flex w-full flex-1 items-stretch rounded-lg h-full",children:[(0,a.jsx)("div",{className:"text-text-secondary flex border-none bg-background-dark items-center justify-center pl-4 rounded-l-lg border-r-0",children:(0,a.jsx)("span",{className:"material-symbols-outlined",children:"search"})}),(0,a.jsx)("input",{className:"form-input flex w-full min-w-0 flex-1 resize-none overflow-hidden rounded-lg text-text-primary focus:outline-0 focus:ring-2 focus:ring-primary/50 border-none bg-background-dark h-full placeholder:text-text-secondary px-4 rounded-l-none border-l-0 pl-2 text-sm font-normal leading-normal",placeholder:e("sports.searchPlaceholder"),type:"text"})]})}),(0,a.jsx)("div",{className:"flex",children:(0,a.jsx)("div",{className:"flex h-10 flex-1 items-center justify-center rounded-lg bg-background-dark p-1",children:[e("sports.today"),e("sports.tomorrow"),e("sports.threeDays"),e("sports.all")].map(e=>(0,a.jsxs)("label",{className:"flex cursor-pointer h-full grow items-center justify-center overflow-hidden rounded-md px-2 text-text-secondary text-sm font-medium leading-normal ".concat(s===e?"bg-accent-teal shadow-lg shadow-accent-teal/10 text-background-dark":""),children:[(0,a.jsx)("span",{className:"truncate",children:e}),(0,a.jsx)("input",{checked:s===e,onChange:()=>l(e),className:"invisible w-0",name:"date-filter",type:"radio",value:e})]},e))})}),(0,a.jsxs)("div",{className:"flex flex-col",children:[(0,a.jsxs)("details",{className:"flex flex-col border-t border-t-border-color py-2 group",open:!0,children:[(0,a.jsxs)("summary",{className:"flex cursor-pointer items-center justify-between gap-6 py-2",children:[(0,a.jsx)("p",{className:"text-sm font-medium leading-normal text-text-primary",children:e("sports.football")}),(0,a.jsx)("span",{className:"material-symbols-outlined text-text-secondary group-open:rotate-180 transition-transform",children:"expand_more"})]}),(0,a.jsxs)("div",{className:"flex flex-col gap-1 pl-4 pb-2",children:[(0,a.jsx)(n(),{className:"text-sm font-normal leading-normal text-accent-blue hover:underline",href:"/sports?country=turkey",children:e("sports.turkey")}),(0,a.jsx)(n(),{className:"text-sm font-normal leading-normal text-text-secondary hover:text-white",href:"/sports?country=england",children:e("sports.england")}),(0,a.jsx)(n(),{className:"text-sm font-normal leading-normal text-text-secondary hover:text-white",href:"/sports?country=spain",children:e("sports.spain")})]})]}),(0,a.jsxs)("details",{className:"flex flex-col border-t border-t-border-color py-2 group",children:[(0,a.jsxs)("summary",{className:"flex cursor-pointer items-center justify-between gap-6 py-2",children:[(0,a.jsx)("p",{className:"text-sm font-medium leading-normal text-text-primary",children:e("sports.basketball")}),(0,a.jsx)("span",{className:"material-symbols-outlined text-text-secondary group-open:rotate-180 transition-transform",children:"expand_more"})]}),(0,a.jsxs)("div",{className:"flex flex-col gap-1 pl-4 pb-2",children:[(0,a.jsx)(n(),{className:"text-sm font-normal leading-normal text-text-secondary hover:text-white",href:"/sports?sport=basketball&country=turkey",children:e("sports.turkey")}),(0,a.jsx)(n(),{className:"text-sm font-normal leading-normal text-text-secondary hover:text-white",href:"/sports?sport=basketball&country=usa",children:"USA"})]})]}),(0,a.jsxs)("details",{className:"flex flex-col border-t border-t-border-color py-2 group",children:[(0,a.jsxs)("summary",{className:"flex cursor-pointer items-center justify-between gap-6 py-2",children:[(0,a.jsx)("p",{className:"text-sm font-medium leading-normal text-text-primary",children:e("sports.tennis")}),(0,a.jsx)("span",{className:"material-symbols-outlined text-text-secondary group-open:rotate-180 transition-transform",children:"expand_more"})]}),(0,a.jsxs)("div",{className:"flex flex-col gap-1 pl-4 pb-2",children:[(0,a.jsx)(n(),{className:"text-sm font-normal leading-normal text-text-secondary hover:text-white",href:"/sports?sport=tennis",children:"ATP Tour"}),(0,a.jsx)(n(),{className:"text-sm font-normal leading-normal text-text-secondary hover:text-white",href:"/sports?sport=tennis&tour=wta",children:"WTA Tour"})]})]})]})]})}),(0,a.jsxs)("main",{className:"col-span-12 lg:col-span-6 flex flex-col gap-6",children:[(0,a.jsxs)("div",{className:"flex flex-col sm:flex-row sm:items-center sm:justify-between gap-4",children:[(0,a.jsxs)("p",{className:"text-xs text-text-secondary",children:[e("sports.breadcrumbSports")," > ",e("sports.breadcrumbFootball")," > ",(0,a.jsxs)("span",{className:"text-text-primary",children:[e("sports.turkey")," > ",e("sports.superLig")]})]}),(0,a.jsxs)("div",{className:"flex items-center gap-2 text-sm",children:[(0,a.jsx)("span",{className:"text-text-secondary",children:e("sports.sortBy")}),(0,a.jsx)("button",{onClick:()=>u(e("sports.time")),className:"rounded-md px-3 py-1 ".concat(h===e("sports.time")?"bg-surface text-text-primary":"text-text-secondary"),children:e("sports.time")}),(0,a.jsx)("button",{onClick:()=>u(e("sports.league")),className:"rounded-md px-3 py-1 ".concat(h===e("sports.league")?"bg-surface text-text-primary":"text-text-secondary"),children:e("sports.league")})]})]}),(0,a.jsxs)("div",{className:"flex flex-col gap-4",children:[(0,a.jsxs)("h3",{className:"font-heading text-lg font-semibold text-white",children:[e("sports.turkey")," - ",e("sports.superLig")]}),j&&(0,a.jsx)("div",{className:"rounded-lg bg-red-500/20 border border-red-500/50 p-4",children:(0,a.jsx)("p",{className:"text-sm text-red-400",children:j})}),b?(0,a.jsx)("div",{className:"flex items-center justify-center py-12",children:(0,a.jsx)("p",{className:"text-text-secondary",children:"Loading matches..."})}):0===T.length?(0,a.jsx)("div",{className:"flex items-center justify-center py-12",children:(0,a.jsx)("p",{className:"text-text-secondary",children:"No matches found"})}):T.map(e=>(0,a.jsxs)("div",{className:"flex flex-col gap-3 rounded-lg bg-surface p-4 shadow-lg shadow-black/20",children:[(0,a.jsxs)("div",{className:"flex justify-between items-center text-xs text-text-secondary",children:[(0,a.jsx)("span",{children:e.date}),(0,a.jsxs)(n(),{className:"flex items-center gap-1 text-accent-blue hover:underline",href:"/sports",children:[(0,a.jsxs)("span",{children:["+",e.moreOptions]}),(0,a.jsx)("span",{className:"material-symbols-outlined !text-sm",children:"chevron_right"})]})]}),(0,a.jsx)("div",{className:"flex flex-col gap-3",children:e.teams.map((e,t)=>(0,a.jsxs)("div",{className:"flex items-center gap-3",children:[(0,a.jsx)("div",{className:"size-6 bg-center bg-no-repeat bg-contain",style:{backgroundImage:"url('".concat(e.logo,"')")}}),(0,a.jsx)("span",{className:"text-sm font-medium text-text-primary",children:e.name})]},t))}),(0,a.jsx)("div",{className:"grid grid-cols-3 gap-2 pt-2 border-t border-border-color",children:["1","X","2"].map(t=>{var s;let r=x.some(s=>s.matchId===e._id&&("1"===t&&"Team A Win"===s.selection||"X"===t&&"Draw"===s.selection||"2"===t&&"Team B Win"===s.selection));return(0,a.jsxs)("button",{onClick:()=>_(e,t,e.odds[t]),className:"flex items-center justify-between rounded-md p-2 transition-colors ".concat(r?"bg-primary/30 border-2 border-primary":"bg-background-dark hover:bg-primary/20"),children:[(0,a.jsx)("span",{className:"text-xs text-text-secondary",children:t}),(0,a.jsx)("span",{className:"text-sm font-bold text-primary",children:(null===(s=e.odds[t])||void 0===s?void 0:s.toFixed(2))||"N/A"})]},t)})})]},e.id))]})]}),(0,a.jsx)("aside",{className:"col-span-12 hidden lg:col-span-3 lg:block",children:(0,a.jsxs)("div",{className:"sticky top-24 flex flex-col gap-4 rounded-lg bg-surface p-4",children:[(0,a.jsx)("h3",{className:"font-heading text-lg font-semibold text-white",children:e("sports.betSlip")}),0===x.length?(0,a.jsxs)("div",{className:"flex flex-col items-center justify-center rounded-lg border-2 border-dashed border-border-color p-8 text-center",children:[(0,a.jsx)("span",{className:"material-symbols-outlined text-4xl text-text-secondary",children:"receipt_long"}),(0,a.jsx)("p",{className:"mt-2 text-sm text-text-secondary",children:e("sports.selectOutcome")})]}):(0,a.jsx)("div",{className:"flex flex-col gap-4"}),(0,a.jsxs)("div",{className:"flex flex-col gap-4",children:[x.length>0&&(0,a.jsx)("div",{className:"flex flex-col gap-2 max-h-48 overflow-y-auto",children:x.map((e,t)=>(0,a.jsxs)("div",{className:"flex items-center justify-between rounded-md bg-background-dark p-2 text-xs",children:[(0,a.jsx)("span",{className:"text-text-secondary truncate",children:e.matchName}),(0,a.jsx)("button",{onClick:()=>p(x.filter((e,s)=>s!==t)),className:"text-red-400 hover:text-red-300 ml-2",children:(0,a.jsx)("span",{className:"material-symbols-outlined text-sm",children:"close"})})]},t))}),(0,a.jsxs)("div",{className:"flex items-center justify-between text-sm",children:[(0,a.jsx)("span",{className:"text-text-secondary",children:e("sports.totalOdds")}),(0,a.jsx)("span",{className:"font-bold text-white",children:I})]}),(0,a.jsxs)("div",{className:"flex flex-col gap-2",children:[(0,a.jsx)("label",{className:"text-xs text-text-secondary",children:e("sports.totalStake")}),(0,a.jsx)("input",{type:"number",value:v,onChange:e=>w(e.target.value),placeholder:"0.00",min:"0",step:"0.01",className:"w-full rounded-md bg-background-dark px-3 py-2 text-white focus:outline-none focus:ring-2 focus:ring-primary"})]}),(0,a.jsxs)("div",{className:"flex items-center justify-between text-lg",children:[(0,a.jsx)("span",{className:"text-text-secondary",children:e("sports.potentialWinnings")}),(0,a.jsxs)("span",{className:"font-bold text-primary",children:["₺",O]})]}),(0,a.jsx)("button",{onClick:F,disabled:0===x.length||!v||0>=parseFloat(v)||k,className:"w-full rounded-lg py-3 text-sm font-bold ".concat(x.length>0&&v&&parseFloat(v)>0?"bg-primary text-background-dark cursor-pointer hover:opacity-90":"bg-primary/30 text-primary/60 cursor-not-allowed"),children:k?"Placing Bet...":e("sports.placeBet")})]})]})})]})}),x.length>0&&(0,a.jsx)("div",{className:"sticky bottom-0 left-0 right-0 lg:hidden p-4 bg-gradient-to-t from-background-dark to-transparent",children:(0,a.jsxs)("button",{onClick:F,disabled:!v||0>=parseFloat(v)||k,className:"w-full flex justify-between items-center rounded-lg bg-primary py-3 px-4 text-background-dark font-bold shadow-lg shadow-primary/20 disabled:opacity-50",children:[(0,a.jsxs)("span",{children:[e("sports.betSlip")," (",x.length,") - ",k?"Placing...":"₺".concat(O)]}),(0,a.jsx)("span",{className:"material-symbols-outlined",children:"expand_less"})]})})]})}}},function(e){e.O(0,[1176,4829,2385,6299,1761,473,2971,4938,1744],function(){return e(e.s=58876)}),_N_E=e.O()}]);