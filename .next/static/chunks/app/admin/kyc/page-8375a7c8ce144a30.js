(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[6124],{62988:function(e,t,s){Promise.resolve().then(s.bind(s,96872))},96872:function(e,t,s){"use strict";s.r(t);var r=s(57437),a=s(2265);s(61396);var n=s(24033),i=s(96666),l=s(28707),o=s(62385),c=s(66209),d=s(24215);t.default=function(){var e,t;(0,n.usePathname)();let[s,m]=(0,a.useState)([]),[u,x]=(0,a.useState)(!0),[h,f]=(0,a.useState)(""),[g,p]=(0,a.useState)(""),[b,v]=(0,a.useState)(null),[j,w]=(0,a.useState)(!1),[N,y]=(0,a.useState)(""),[k,S]=(0,a.useState)(""),[C,A]=(0,a.useState)("All"),[E,R]=(0,a.useState)(1),[_,I]=(0,a.useState)(1),[M,D]=(0,a.useState)(0);(0,a.useEffect)(()=>{F()},[E,k,C]);let F=async()=>{var e,t,s,r;try{x(!0),f("");let s=await o.uV.getAllKYC(),r=[];(null===(e=s.data)||void 0===e?void 0:e.success)&&(null===(t=s.data)||void 0===t?void 0:t.data)?r=Array.isArray(s.data.data)?s.data.data:[]:Array.isArray(s.data)&&(r=s.data);let a=r;k&&(a=a.filter(e=>{var t,s,r,a;return(null===(s=e.user)||void 0===s?void 0:null===(t=s.username)||void 0===t?void 0:t.toLowerCase().includes(k.toLowerCase()))||(null===(a=e.user)||void 0===a?void 0:null===(r=a.email)||void 0===r?void 0:r.toLowerCase().includes(k.toLowerCase()))})),"All"!==C&&(a=a.filter(e=>(e.status||"pending").toLowerCase()===C.toLowerCase()));let n=(E-1)*50,i=a.slice(n,n+50);m(i),D(a.length),I(Math.ceil(a.length/50))}catch(e){f((null===(r=e.response)||void 0===r?void 0:null===(s=r.data)||void 0===s?void 0:s.message)||"Failed to load KYC data"),m([]),d.cM.apiError("/admin/kyc",e)}finally{x(!1)}},U=async()=>{if(b&&N)try{f(""),await o.uV.updateKYCStatus(b._id,N),p("KYC status updated successfully"),w(!1),v(null),y(""),F(),setTimeout(()=>p(""),3e3)}catch(s){var e,t;f((null===(t=s.response)||void 0===t?void 0:null===(e=t.data)||void 0===e?void 0:e.message)||"Failed to update KYC status"),d.cM.apiError("/admin/kyc/".concat(b._id),s)}},L=e=>{v(e),y(e.status||"pending"),w(!0)},T=e=>{switch(null==e?void 0:e.toLowerCase()){case"verified":case"approved":return"bg-green-500/20 text-green-400";case"pending":return"bg-yellow-500/20 text-yellow-400";case"rejected":return"bg-red-500/20 text-red-400";default:return"bg-gray-500/20 text-gray-400"}},Y=e=>e?e.charAt(0).toUpperCase()+e.slice(1).toLowerCase():"Pending",K=Math.min(50*E,M);return(0,r.jsx)(i.Z,{children:(0,r.jsxs)("div",{className:"flex min-h-screen w-full bg-background-dark",children:[(0,r.jsx)(l.Z,{}),(0,r.jsx)("main",{className:"flex-1 p-6 lg:p-10 bg-background-light dark:bg-background-dark ml-0 lg:ml-64",children:(0,r.jsx)("div",{className:"flex-1 p-8",children:(0,r.jsxs)("div",{className:"w-full max-w-7xl mx-auto",children:[(0,r.jsx)("div",{className:"flex flex-wrap justify-between items-center gap-4 mb-6",children:(0,r.jsx)("p",{className:"text-white text-4xl font-black leading-tight tracking-[-0.033em]",children:"KYC Management"})}),h&&(0,r.jsx)("div",{className:"mb-4 rounded-lg bg-red-500/20 border border-red-500/50 p-4",children:(0,r.jsx)("p",{className:"text-sm text-red-400",children:h})}),g&&(0,r.jsx)("div",{className:"mb-4 rounded-lg bg-green-500/20 border border-green-500/50 p-4",children:(0,r.jsx)("p",{className:"text-sm text-green-400",children:g})}),(0,r.jsxs)("div",{className:"flex flex-col md:flex-row gap-4 mb-6",children:[(0,r.jsx)("div",{className:"flex-1",children:(0,r.jsx)("label",{className:"flex flex-col min-w-40 h-12 w-full",children:(0,r.jsxs)("div",{className:"flex w-full flex-1 items-stretch rounded-xl h-full",children:[(0,r.jsx)("div",{className:"text-[#9cb5ba] flex border-none bg-[#111718] items-center justify-center pl-4 rounded-l-xl border-r-0",children:(0,r.jsx)("span",{className:"material-symbols-outlined",children:"search"})}),(0,r.jsx)("input",{className:"form-input flex w-full min-w-0 flex-1 resize-none overflow-hidden rounded-r-xl text-white focus:outline-0 focus:ring-2 focus:ring-[#0dccf2]/50 border-none bg-[#111718] h-full placeholder:text-[#9cb5ba] px-4 text-base font-normal leading-normal",placeholder:"Search by Username, Email...",value:k,onChange:e=>{S(e.target.value),R(1)},onKeyDown:e=>{"Enter"===e.key&&F()},type:"text"})]})})}),(0,r.jsxs)("div",{className:"flex gap-3 items-center",children:[(0,r.jsxs)("select",{value:C,onChange:e=>{A(e.target.value),R(1)},className:"flex h-12 shrink-0 items-center justify-center gap-x-2 rounded-xl bg-[#111718] px-4 text-white text-sm font-medium hover:bg-[#1b2527] transition-colors focus:outline-none focus:ring-2 focus:ring-[#0dccf2]/50",children:[(0,r.jsx)("option",{value:"All",children:"All Status"}),(0,r.jsx)("option",{value:"pending",children:"Pending"}),(0,r.jsx)("option",{value:"verified",children:"Verified"}),(0,r.jsx)("option",{value:"approved",children:"Approved"}),(0,r.jsx)("option",{value:"rejected",children:"Rejected"})]}),(0,r.jsxs)("button",{onClick:()=>{S(""),A("All")},className:"flex h-12 shrink-0 items-center justify-center gap-x-2 rounded-xl bg-transparent px-4 text-[#9cb5ba] hover:bg-[#111718] hover:text-white transition-colors",children:[(0,r.jsx)("span",{className:"material-symbols-outlined",children:"close"}),(0,r.jsx)("p",{className:"text-sm font-medium leading-normal",children:"Clear Filters"})]})]})]}),(0,r.jsx)("div",{className:"w-full @container",children:(0,r.jsx)("div",{className:"flex overflow-hidden rounded-xl border border-[#3b5054] bg-[#111718]",children:(0,r.jsxs)("table",{className:"w-full",children:[(0,r.jsx)("thead",{children:(0,r.jsxs)("tr",{className:"bg-[#1b2527]",children:[(0,r.jsx)("th",{className:"px-6 py-4 text-left text-white text-xs font-medium uppercase tracking-wider",children:"User"}),(0,r.jsx)("th",{className:"px-6 py-4 text-left text-white text-xs font-medium uppercase tracking-wider",children:"Email"}),(0,r.jsx)("th",{className:"px-6 py-4 text-left text-white text-xs font-medium uppercase tracking-wider",children:"Submitted Date"}),(0,r.jsx)("th",{className:"px-6 py-4 text-left text-white text-xs font-medium uppercase tracking-wider",children:"Status"}),(0,r.jsx)("th",{className:"px-6 py-4 text-right text-white text-xs font-medium uppercase tracking-wider",children:"Actions"})]})}),(0,r.jsx)("tbody",{className:"divide-y divide-[#3b5054]",children:u?(0,r.jsx)("tr",{children:(0,r.jsx)("td",{colSpan:5,className:"px-6 py-8 text-center text-[#9cb5ba]",children:(0,r.jsx)("div",{className:"flex items-center justify-center",children:(0,r.jsx)("div",{className:"size-8 animate-spin rounded-full border-4 border-[#0dccf2] border-t-transparent"})})})}):0===s.length?(0,r.jsx)("tr",{children:(0,r.jsx)("td",{colSpan:5,className:"px-6 py-8 text-center text-[#9cb5ba]",children:"No KYC submissions found"})}):s.map(e=>{var t,s;return(0,r.jsxs)("tr",{className:"hover:bg-[#1b2527] transition-colors",children:[(0,r.jsx)("td",{className:"px-6 py-4 whitespace-nowrap text-white text-sm font-medium",children:(null===(t=e.user)||void 0===t?void 0:t.username)||"Unknown User"}),(0,r.jsx)("td",{className:"px-6 py-4 whitespace-nowrap text-[#9cb5ba] text-sm",children:(null===(s=e.user)||void 0===s?void 0:s.email)||"No email"}),(0,r.jsx)("td",{className:"px-6 py-4 whitespace-nowrap text-[#9cb5ba] text-sm",children:e.createdAt?(0,c.p6)(e.createdAt):"N/A"}),(0,r.jsx)("td",{className:"px-6 py-4 whitespace-nowrap",children:(0,r.jsx)("span",{className:"inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium ".concat(T(e.status)),children:Y(e.status)})}),(0,r.jsx)("td",{className:"px-6 py-4 whitespace-nowrap text-right text-sm font-medium",children:(0,r.jsx)("div",{className:"flex items-center justify-end gap-2",children:(0,r.jsx)("button",{onClick:()=>L(e),className:"text-[#0dccf2] hover:text-[#0dccf2]/80 transition-colors",title:"Update Status",children:(0,r.jsx)("span",{className:"material-symbols-outlined",children:"edit"})})})})]},e._id)})})]})})}),_>1&&(0,r.jsxs)("div",{className:"flex items-center justify-between mt-6",children:[(0,r.jsxs)("p",{className:"text-sm text-[#9cb5ba]",children:["Showing ",(0,r.jsx)("span",{className:"font-medium text-white",children:(E-1)*50+1})," to"," ",(0,r.jsx)("span",{className:"font-medium text-white",children:K})," of"," ",(0,r.jsx)("span",{className:"font-medium text-white",children:M})," results"]}),(0,r.jsxs)("div",{className:"flex items-center gap-2",children:[(0,r.jsx)("button",{onClick:()=>R(Math.max(1,E-1)),disabled:1===E,className:"flex items-center justify-center h-9 w-9 rounded-lg bg-[#111718] text-white hover:bg-[#0dccf2]/20 transition-colors disabled:opacity-50 disabled:cursor-not-allowed",children:(0,r.jsx)("span",{className:"material-symbols-outlined text-xl",children:"chevron_left"})}),[...Array(Math.min(5,_))].map((e,t)=>{let s=t+1;return(0,r.jsx)("button",{onClick:()=>R(s),className:"flex items-center justify-center h-9 w-9 rounded-lg text-sm font-medium transition-colors ".concat(E===s?"bg-[#0dccf2] text-[#111718]":"bg-[#111718] text-white hover:bg-[#0dccf2]/20"),children:s},s)}),_>5&&(0,r.jsx)("span",{className:"text-white",children:"..."}),_>5&&(0,r.jsx)("button",{onClick:()=>R(_),className:"flex items-center justify-center h-9 w-9 rounded-lg text-sm font-medium transition-colors ".concat(E===_?"bg-[#0dccf2] text-[#111718]":"bg-[#111718] text-white hover:bg-[#0dccf2]/20"),children:_}),(0,r.jsx)("button",{onClick:()=>R(Math.min(_,E+1)),disabled:E===_,className:"flex items-center justify-center h-9 w-9 rounded-lg bg-[#111718] text-white hover:bg-[#0dccf2]/20 transition-colors disabled:opacity-50 disabled:cursor-not-allowed",children:(0,r.jsx)("span",{className:"material-symbols-outlined text-xl",children:"chevron_right"})})]})]}),j&&b&&(0,r.jsx)("div",{className:"fixed inset-0 bg-black/50 flex items-center justify-center z-50",children:(0,r.jsxs)("div",{className:"bg-[#111718] rounded-xl p-6 max-w-md w-full mx-4 border border-white/10",children:[(0,r.jsx)("h3",{className:"text-white text-xl font-bold mb-4",children:"Update KYC Status"}),(0,r.jsxs)("div",{className:"mb-4",children:[(0,r.jsxs)("p",{className:"text-white/70 text-sm mb-2",children:["User: ",(null===(e=b.user)||void 0===e?void 0:e.username)||(null===(t=b.user)||void 0===t?void 0:t.email)||"Unknown"]}),(0,r.jsxs)("p",{className:"text-white/70 text-sm mb-4",children:["Current Status: ",(0,r.jsx)("span",{className:"text-white",children:Y(b.status)})]})]}),(0,r.jsxs)("div",{className:"mb-4",children:[(0,r.jsx)("label",{className:"block text-white/70 text-sm mb-2",children:"New Status"}),(0,r.jsxs)("select",{value:N,onChange:e=>y(e.target.value),className:"w-full h-12 rounded-lg bg-white/5 border border-white/10 text-white px-4 focus:outline-none focus:ring-2 focus:ring-[#0dccf2]/50",children:[(0,r.jsx)("option",{value:"pending",children:"Pending"}),(0,r.jsx)("option",{value:"verified",children:"Verified"}),(0,r.jsx)("option",{value:"approved",children:"Approved"}),(0,r.jsx)("option",{value:"rejected",children:"Rejected"})]})]}),(0,r.jsxs)("div",{className:"flex gap-3",children:[(0,r.jsx)("button",{onClick:U,className:"flex-1 px-4 py-2 bg-[#0dccf2] text-white rounded-lg hover:bg-[#0dccf2]/90 transition-colors",children:"Update Status"}),(0,r.jsx)("button",{onClick:()=>{w(!1),v(null),y("")},className:"flex-1 px-4 py-2 bg-gray-500 text-white rounded-lg hover:bg-gray-600 transition-colors",children:"Cancel"})]})]})})]})})})]})})}},96666:function(e,t,s){"use strict";s.d(t,{Z:function(){return l}});var r=s(57437),a=s(2265),n=s(24033),i=s(87300);function l(e){let{children:t}=e,s=(0,n.useRouter)(),l=(0,n.usePathname)(),[o,c]=(0,a.useState)(!1),[d,m]=(0,a.useState)(!0);return((0,a.useEffect)(()=>{(()=>{if(!(0,i.$8)()){let e=encodeURIComponent(l||"/admin");s.push("/auth/login?next=".concat(e));return}if(!(0,i.GJ)()){s.push("/dashboard");return}c(!0),m(!1)})()},[s,l]),d)?(0,r.jsx)("div",{className:"flex min-h-screen w-full items-center justify-center bg-background-dark",children:(0,r.jsxs)("div",{className:"flex flex-col items-center gap-4",children:[(0,r.jsx)("div",{className:"size-8 animate-spin rounded-full border-4 border-[#0dccf2] border-t-transparent"}),(0,r.jsx)("p",{className:"text-white/70 text-sm",children:"Verifying access..."})]})}):o?(0,r.jsx)(r.Fragment,{children:t}):null}},28707:function(e,t,s){"use strict";s.d(t,{Z:function(){return c}});var r=s(57437),a=s(2265),n=s(61396),i=s.n(n),l=s(24033),o=s(96299);function c(){let{t:e}=(0,o.$)(),t=(0,l.usePathname)(),[s,n]=(0,a.useState)(!1),c=[{id:"dashboard",label:e("admin.dashboard"),icon:"dashboard",href:"/admin"},{id:"users",label:e("admin.users"),icon:"group",href:"/admin/users"},{id:"kyc",label:e("admin.kyc"),icon:"badge",href:"/admin/kyc"},{id:"games",label:e("admin.games"),icon:"gamepad",href:"/admin/games"},{id:"betting",label:e("admin.betting"),icon:"sports_soccer",href:"/admin/betting"},{id:"promotions",label:e("admin.promotions"),icon:"campaign",href:"/admin/promotions"},{id:"deposits",label:e("admin.deposits"),icon:"arrow_downward",href:"/admin/deposits"},{id:"withdrawals",label:e("admin.withdrawals"),icon:"arrow_upward",href:"/admin/withdrawals"},{id:"tournaments",label:e("admin.tournaments"),icon:"emoji_events",href:"/admin/tournaments"},{id:"content",label:e("admin.content"),icon:"wysiwyg",href:"/admin/content"}];return(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)("button",{onClick:()=>n(!s),className:"lg:hidden fixed top-4 left-4 z-[60] p-2 bg-background-dark border border-surface rounded-lg text-white hover:bg-white/10 transition-colors","aria-label":"Toggle sidebar",children:(0,r.jsx)("span",{className:"material-symbols-outlined",children:s?"close":"menu"})}),s&&(0,r.jsx)("div",{className:"lg:hidden fixed inset-0 bg-black/50 z-[55]",onClick:()=>n(!1)}),(0,r.jsxs)("aside",{className:"fixed left-0 top-0 h-screen w-64 flex flex-col bg-background-dark border-r border-surface p-4 z-50 transition-transform duration-300 ".concat(s?"translate-x-0":"-translate-x-full lg:translate-x-0"),children:[(0,r.jsxs)("div",{className:"flex items-center gap-3 mb-8 px-2",children:[(0,r.jsx)("div",{className:"flex h-10 w-10 items-center justify-center rounded-lg bg-primary",children:(0,r.jsx)("span",{className:"material-symbols-outlined text-black",children:"casino"})}),(0,r.jsxs)("div",{className:"flex flex-col",children:[(0,r.jsx)("h1",{className:"text-base font-bold text-white",children:e("admin.title")}),(0,r.jsx)("p",{className:"text-sm text-gray-400",children:e("admin.management")})]})]}),(0,r.jsx)("nav",{className:"flex flex-col gap-2",children:c.map(e=>(0,r.jsxs)(i(),{href:e.href,onClick:()=>n(!1),className:"flex items-center gap-3 rounded-lg px-3 py-2 text-sm font-medium transition-colors ".concat(t===e.href||"dashboard"===e.id&&"/admin"===t?"bg-primary/20 text-primary":"text-gray-300 hover:bg-white/10"),children:[(0,r.jsx)("span",{className:"material-symbols-outlined",children:e.icon}),(0,r.jsx)("p",{children:e.label})]},e.id))}),(0,r.jsxs)("div",{className:"mt-auto",children:[(0,r.jsxs)(i(),{href:"/admin/settings",onClick:()=>n(!1),className:"flex items-center gap-3 rounded-lg px-3 py-2 text-gray-300 hover:bg-white/10 transition-colors",children:[(0,r.jsx)("span",{className:"material-symbols-outlined",children:"settings"}),(0,r.jsx)("p",{className:"text-sm font-medium",children:e("admin.settings")})]}),(0,r.jsxs)("button",{onClick:()=>{localStorage.removeItem("token"),localStorage.removeItem("user"),localStorage.removeItem("isAdmin"),localStorage.removeItem("adminEmail"),window.location.href="/auth/login"},className:"mt-2 flex w-full items-center gap-3 rounded-lg px-3 py-2 text-gray-300 hover:bg-red-500/20 hover:text-red-400 transition-colors",children:[(0,r.jsx)("span",{className:"material-symbols-outlined",children:"logout"}),(0,r.jsx)("p",{className:"text-sm font-medium",children:e("admin.logout")})]})]})]})]})}},87300:function(e,t,s){"use strict";s.d(t,{$8:function(){return n},GJ:function(){return i},My:function(){return l},kS:function(){return o},ts:function(){return r}});let r=()=>{try{let e=localStorage.getItem("user");return e?JSON.parse(e):null}catch(e){return null}},a=()=>localStorage.getItem("token"),n=()=>!!a(),i=()=>{let e=r();return!!e&&["admin","super_admin","operator"].includes(e.role)},l=e=>["admin","super_admin","operator"].includes(e)?"/admin":"/dashboard",o=()=>{localStorage.removeItem("token"),localStorage.removeItem("user"),localStorage.removeItem("isAdmin"),localStorage.removeItem("adminEmail"),window.location.href="/"}},66209:function(e,t,s){"use strict";s.d(t,{X6:function(){return l},dN:function(){return i},o0:function(){return a},p6:function(){return r}});let r=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(!e)return"N/A";try{let s=new Date(e);if(isNaN(s.getTime()))return"N/A";let r={day:"2-digit",month:"2-digit",year:"numeric",...t};return s.toLocaleDateString("tr-TR",r)}catch(e){return console.error("Error formatting date:",e),"N/A"}},a=e=>{if(!e)return"N/A";try{let t=new Date(e);if(isNaN(t.getTime()))return"N/A";return t.toLocaleDateString("tr-TR",{day:"2-digit",month:"2-digit",year:"numeric",hour:"2-digit",minute:"2-digit"})}catch(e){return console.error("Error formatting date time:",e),"N/A"}},n=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"TRY",s=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"tr-TR";if(null==e)return n(0,t,s);try{let r="string"==typeof e?parseFloat(e):e;if(isNaN(r))return n(0,t,s);return new Intl.NumberFormat(s,{style:"currency",currency:t,minimumFractionDigits:2,maximumFractionDigits:2}).format(r)}catch(s){return console.error("Error formatting currency:",s),"".concat(e," ").concat(t)}},i=e=>n(e,"TRY","tr-TR"),l=e=>{if(null==e)return"0%";try{let t="string"==typeof e?parseFloat(e):e;if(isNaN(t))return"0%";if(t>0)return"+".concat(t.toFixed(1),"%");if(t<0)return"".concat(t.toFixed(1),"%");return"0%"}catch(e){return console.error("Error formatting change:",e),"0%"}}},24215:function(e,t,s){"use strict";s.d(t,{cM:function(){return i}});let r={DEBUG:"debug",INFO:"info",WARN:"warn",ERROR:"error"};class a{formatMessage(e,t){let s=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null,r=new Date().toISOString(),a="[".concat(r,"] [").concat(e.toUpperCase(),"]");return s?{prefix:a,message:t,data:s}:{prefix:a,message:t}}debug(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;if(!this.isDevelopment)return;let s=this.formatMessage(r.DEBUG,e,t);t?console.log(s.prefix,s.message,s.data):console.log(s.prefix,s.message)}info(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,s=this.formatMessage(r.INFO,e,t);t?console.info(s.prefix,s.message,s.data):console.info(s.prefix,s.message)}warn(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,s=this.formatMessage(r.WARN,e,t);t?console.warn(s.prefix,s.message,s.data):console.warn(s.prefix,s.message)}error(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,s=this.formatMessage(r.ERROR,e,t);t?(console.error(s.prefix,s.message,t),this.isDevelopment):console.error(s.prefix,s.message)}apiError(e,t){var s,r,a,n;this.error("API Error [".concat(e,"]"),{endpoint:e,status:null==t?void 0:null===(s=t.response)||void 0===s?void 0:s.status,message:(null==t?void 0:null===(a=t.response)||void 0===a?void 0:null===(r=a.data)||void 0===r?void 0:r.message)||(null==t?void 0:t.message),data:null==t?void 0:null===(n=t.response)||void 0===n?void 0:n.data})}constructor(){this.isDevelopment=!1}}let n=new a,i={debug:(e,t)=>n.debug(e,t),info:(e,t)=>n.info(e,t),warn:(e,t)=>n.warn(e,t),error:(e,t)=>n.error(e,t),apiError:(e,t)=>n.apiError(e,t)}},24033:function(e,t,s){e.exports=s(15313)}},function(e){e.O(0,[1176,4829,2385,6299,2971,4938,1744],function(){return e(e.s=62988)}),_N_E=e.O()}]);