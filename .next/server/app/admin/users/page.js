(()=>{var e={};e.id=9674,e.ids=[9674],e.modules={47849:e=>{"use strict";e.exports=require("next/dist/client/components/action-async-storage.external")},55403:e=>{"use strict";e.exports=require("next/dist/client/components/request-async-storage.external")},94749:e=>{"use strict";e.exports=require("next/dist/client/components/static-generation-async-storage.external")},20399:e=>{"use strict";e.exports=require("next/dist/compiled/next-server/app-page.runtime.prod.js")},25528:e=>{"use strict";e.exports=require("next/dist\\client\\components\\action-async-storage.external.js")},91877:e=>{"use strict";e.exports=require("next/dist\\client\\components\\request-async-storage.external.js")},25319:e=>{"use strict";e.exports=require("next/dist\\client\\components\\static-generation-async-storage.external.js")},39491:e=>{"use strict";e.exports=require("assert")},6113:e=>{"use strict";e.exports=require("crypto")},82361:e=>{"use strict";e.exports=require("events")},57147:e=>{"use strict";e.exports=require("fs")},13685:e=>{"use strict";e.exports=require("http")},85158:e=>{"use strict";e.exports=require("http2")},95687:e=>{"use strict";e.exports=require("https")},22037:e=>{"use strict";e.exports=require("os")},71017:e=>{"use strict";e.exports=require("path")},12781:e=>{"use strict";e.exports=require("stream")},76224:e=>{"use strict";e.exports=require("tty")},57310:e=>{"use strict";e.exports=require("url")},73837:e=>{"use strict";e.exports=require("util")},59796:e=>{"use strict";e.exports=require("zlib")},82287:(e,t,r)=>{"use strict";r.r(t),r.d(t,{GlobalError:()=>i.a,__next_app__:()=>m,originalPathname:()=>u,pages:()=>c,routeModule:()=>x,tree:()=>d});var s=r(50482),a=r(69108),n=r(62563),i=r.n(n),l=r(68300),o={};for(let e in l)0>["default","tree","pages","GlobalError","originalPathname","__next_app__","routeModule"].indexOf(e)&&(o[e]=()=>l[e]);r.d(t,o);let d=["",{children:["admin",{children:["users",{children:["__PAGE__",{},{page:[()=>Promise.resolve().then(r.bind(r,70597)),"W:\\garbet\\Frontend\\app\\admin\\users\\page.js"]}]},{}]},{}]},{layout:[()=>Promise.resolve().then(r.bind(r,69847)),"W:\\garbet\\Frontend\\app\\layout.js"],error:[()=>Promise.resolve().then(r.bind(r,60826)),"W:\\garbet\\Frontend\\app\\error.js"],"not-found":[()=>Promise.resolve().then(r.bind(r,46178)),"W:\\garbet\\Frontend\\app\\not-found.js"]}],c=["W:\\garbet\\Frontend\\app\\admin\\users\\page.js"],u="/admin/users/page",m={require:r,loadChunk:()=>Promise.resolve()},x=new s.AppPageRouteModule({definition:{kind:a.x.APP_PAGE,page:"/admin/users/page",pathname:"/admin/users",bundlePath:"",filename:"",appPaths:[]},userland:{loaderTree:d}})},2281:(e,t,r)=>{Promise.resolve().then(r.bind(r,68996))},68996:(e,t,r)=>{"use strict";r.r(t),r.d(t,{default:()=>x});var s=r(95344),a=r(3729);r(20783);var n=r(22254),i=r(21475),l=r(24774),o=r(94913),d=r(36846);r(60367);var c=r(19747),u=r(90797);function m(){let{t:e}=(0,c.$)();(0,n.usePathname)();let[t,r]=(0,a.useState)(1),[i,m]=(0,a.useState)(""),[x,p]=(0,a.useState)("All"),[h,g]=(0,a.useState)(""),[f,b]=(0,a.useState)([]),[j,y]=(0,a.useState)(!1),[N,w]=(0,a.useState)(""),[v,S]=(0,a.useState)(""),[k,_]=(0,a.useState)(1),[q,E]=(0,a.useState)(0),[P,A]=(0,a.useState)(null),[C,F]=(0,a.useState)(!1),[R,D]=(0,a.useState)(""),[$,M]=(0,a.useState)([]),[I,U]=(0,a.useState)(!1),[T,G]=(0,a.useState)(""),[O,W]=(0,a.useState)(!1),[B,L]=(0,a.useState)(""),[z,Z]=(0,a.useState)("");(0,a.useEffect)(()=>{J()},[t,i,x,h]);let J=async()=>{y(!0),w("");try{let e={page:t,limit:50,status:"All"!==x?x.toLowerCase():void 0,search:i||void 0,startDate:B||void 0,endDate:z||void 0},r=await l.Sb.getUsers(e),s=r.data.users||r.data.data||[];b(s),_(r.data.totalPages||1),E(r.data.total||s.length)}catch(e){console.error("API Error Details:",e.response),w(e.response?.data?.message||"Failed to fetch users from server."),b([])}finally{y(!1)}},V=e=>(0,o.dN)(e||0),X=e=>{switch(e){case"active":return"bg-green-500/20 text-green-400";case"blocked":case"suspended":return"bg-red-500/20 text-red-400";case"pending":return"bg-yellow-500/20 text-yellow-400";default:return"bg-gray-500/20 text-gray-400"}},Y=e=>{switch(e){case"active":return"Active";case"blocked":return"Blocked";case"suspended":return"Suspended";case"pending":return"Pending";default:return e}},H=e=>{A(e),D(e.status),F(!0)},K=e=>{M(t=>t.includes(e)?t.filter(t=>t!==e):[...t,e])},Q=async()=>{try{let e={};i&&(e.search=i),x&&"All"!==x&&(e.status=x),B&&(e.startDate=B),z&&(e.endDate=z);let t=await l.Sb.exportUsers(e),r=new Blob([t.data],{type:"text/csv;charset=utf-8;"}),s=document.createElement("a"),a=URL.createObjectURL(r);s.setAttribute("href",a),s.setAttribute("download",`users-export-${new Date().toISOString().split("T")[0]}.csv`),s.style.visibility="hidden",document.body.appendChild(s),s.click(),document.body.removeChild(s),S("Users exported successfully")}catch(e){w(e.response?.data?.message||"Failed to export users"),d.cM.apiError("/admin/users/export",e)}};return(0,s.jsxs)("div",{className:"flex min-h-screen w-full bg-background-dark",children:[s.jsx(u.Z,{}),s.jsx("main",{className:"flex-1 p-8 ml-64",children:(0,s.jsxs)("div",{className:"w-full max-w-7xl mx-auto",children:[(0,s.jsxs)("div",{className:"flex flex-wrap justify-between items-center gap-4 mb-6",children:[s.jsx("p",{className:"text-white text-4xl font-black leading-tight tracking-[-0.033em]",children:"User Management"}),(0,s.jsxs)("div",{className:"flex items-center gap-2",children:[$.length>0&&(0,s.jsxs)(s.Fragment,{children:[(0,s.jsxs)("button",{onClick:()=>U(!0),className:"h-10 px-4 rounded-lg bg-yellow-500 text-white font-bold",children:["Bulk Update (",$.length,")"]}),s.jsx("button",{onClick:()=>M([]),className:"h-10 px-4 rounded-lg bg-gray-500 text-white font-bold",children:"Clear"})]}),s.jsx("button",{onClick:Q,className:"h-10 px-4 rounded-lg bg-green-500 text-white font-bold",children:"Export CSV"})]})]}),N&&s.jsx("div",{className:"mb-4 rounded-lg bg-red-500/20 border border-red-500/50 p-4",children:s.jsx("p",{className:"text-sm text-red-400",children:N})}),v&&s.jsx("div",{className:"mb-4 rounded-lg bg-green-500/20 border border-green-500/50 p-4",children:s.jsx("p",{className:"text-sm text-green-400",children:v})}),s.jsx("div",{className:"overflow-x-auto rounded-xl border border-white/10 bg-[#111718]",children:(0,s.jsxs)("table",{className:"w-full text-sm text-white",children:[s.jsx("thead",{className:"bg-[#1b2527]",children:(0,s.jsxs)("tr",{children:[s.jsx("th",{className:"px-6 py-4",children:s.jsx("input",{type:"checkbox",checked:$.length===f.length&&f.length>0,onChange:()=>{$.length===f.length?M([]):M(f.map(e=>e._id))}})}),s.jsx("th",{className:"px-6 py-4 text-left",children:"Username"}),s.jsx("th",{className:"px-6 py-4 text-left",children:"Email"}),s.jsx("th",{className:"px-6 py-4 text-left",children:"Status"}),s.jsx("th",{className:"px-6 py-4 text-left",children:"Balance"}),s.jsx("th",{className:"px-6 py-4 text-right",children:"Actions"})]})}),s.jsx("tbody",{children:j?s.jsx("tr",{children:s.jsx("td",{colSpan:6,className:"px-6 py-8 text-center text-white/60",children:"Loading..."})}):0===f.length?s.jsx("tr",{children:s.jsx("td",{colSpan:6,className:"px-6 py-8 text-center text-white/60",children:"No users found"})}):f.map(e=>(0,s.jsxs)("tr",{className:"border-t border-white/10",children:[s.jsx("td",{className:"px-6 py-4",children:s.jsx("input",{type:"checkbox",checked:$.includes(e._id),onChange:()=>K(e._id)})}),s.jsx("td",{className:"px-6 py-4",children:e.username}),s.jsx("td",{className:"px-6 py-4 text-white/70",children:e.email}),s.jsx("td",{className:"px-6 py-4",children:s.jsx("span",{className:X(e.status),children:Y(e.status)})}),s.jsx("td",{className:"px-6 py-4 text-white/70",children:V(e.balance)}),s.jsx("td",{className:"px-6 py-4 text-right",children:s.jsx("button",{onClick:()=>H(e),className:"text-[#0dccf2]",children:"Edit"})})]},e._id))})]})})]})})]})}function x(){return s.jsx(i.Z,{children:s.jsx(m,{})})}},21475:(e,t,r)=>{"use strict";r.d(t,{Z:()=>l});var s=r(95344),a=r(3729),n=r(22254),i=r(2324);function l({children:e}){let t=(0,n.useRouter)(),r=(0,n.usePathname)(),[l,o]=(0,a.useState)(!1),[d,c]=(0,a.useState)(!0);return((0,a.useEffect)(()=>{(()=>{if(!(0,i.$8)()){let e=encodeURIComponent(r||"/admin");t.push(`/auth/login?next=${e}`);return}if(!(0,i.GJ)()){t.push("/dashboard");return}o(!0),c(!1)})()},[t,r]),d)?s.jsx("div",{className:"flex min-h-screen w-full items-center justify-center bg-background-dark",children:(0,s.jsxs)("div",{className:"flex flex-col items-center gap-4",children:[s.jsx("div",{className:"size-8 animate-spin rounded-full border-4 border-[#0dccf2] border-t-transparent"}),s.jsx("p",{className:"text-white/70 text-sm",children:"Verifying access..."})]})}):l?s.jsx(s.Fragment,{children:e}):null}},90797:(e,t,r)=>{"use strict";r.d(t,{Z:()=>d});var s=r(95344),a=r(3729),n=r(20783),i=r.n(n),l=r(22254),o=r(19747);function d(){let{t:e}=(0,o.$)(),t=(0,l.usePathname)(),[r,n]=(0,a.useState)(!1),d=[{id:"dashboard",label:e("admin.dashboard"),icon:"dashboard",href:"/admin"},{id:"users",label:e("admin.users"),icon:"group",href:"/admin/users"},{id:"kyc",label:e("admin.kyc"),icon:"badge",href:"/admin/kyc"},{id:"games",label:e("admin.games"),icon:"gamepad",href:"/admin/games"},{id:"betting",label:e("admin.betting"),icon:"sports_soccer",href:"/admin/betting"},{id:"promotions",label:e("admin.promotions"),icon:"campaign",href:"/admin/promotions"},{id:"deposits",label:e("admin.deposits"),icon:"arrow_downward",href:"/admin/deposits"},{id:"withdrawals",label:e("admin.withdrawals"),icon:"arrow_upward",href:"/admin/withdrawals"},{id:"tournaments",label:e("admin.tournaments"),icon:"emoji_events",href:"/admin/tournaments"},{id:"content",label:e("admin.content"),icon:"wysiwyg",href:"/admin/content"}];return(0,s.jsxs)(s.Fragment,{children:[s.jsx("button",{onClick:()=>n(!r),className:"lg:hidden fixed top-4 left-4 z-[60] p-2 bg-background-dark border border-surface rounded-lg text-white hover:bg-white/10 transition-colors","aria-label":"Toggle sidebar",children:s.jsx("span",{className:"material-symbols-outlined",children:r?"close":"menu"})}),r&&s.jsx("div",{className:"lg:hidden fixed inset-0 bg-black/50 z-[55]",onClick:()=>n(!1)}),(0,s.jsxs)("aside",{className:`fixed left-0 top-0 h-screen w-64 flex flex-col bg-background-dark border-r border-surface p-4 z-50 transition-transform duration-300 ${r?"translate-x-0":"-translate-x-full lg:translate-x-0"}`,children:[(0,s.jsxs)("div",{className:"flex items-center gap-3 mb-8 px-2",children:[s.jsx("div",{className:"flex h-10 w-10 items-center justify-center rounded-lg bg-primary",children:s.jsx("span",{className:"material-symbols-outlined text-black",children:"casino"})}),(0,s.jsxs)("div",{className:"flex flex-col",children:[s.jsx("h1",{className:"text-base font-bold text-white",children:e("admin.title")}),s.jsx("p",{className:"text-sm text-gray-400",children:e("admin.management")})]})]}),s.jsx("nav",{className:"flex flex-col gap-2",children:d.map(e=>(0,s.jsxs)(i(),{href:e.href,onClick:()=>n(!1),className:`flex items-center gap-3 rounded-lg px-3 py-2 text-sm font-medium transition-colors ${t===e.href||"dashboard"===e.id&&"/admin"===t?"bg-primary/20 text-primary":"text-gray-300 hover:bg-white/10"}`,children:[s.jsx("span",{className:"material-symbols-outlined",children:e.icon}),s.jsx("p",{children:e.label})]},e.id))}),(0,s.jsxs)("div",{className:"mt-auto",children:[(0,s.jsxs)(i(),{href:"/admin/settings",onClick:()=>n(!1),className:"flex items-center gap-3 rounded-lg px-3 py-2 text-gray-300 hover:bg-white/10 transition-colors",children:[s.jsx("span",{className:"material-symbols-outlined",children:"settings"}),s.jsx("p",{className:"text-sm font-medium",children:e("admin.settings")})]}),(0,s.jsxs)("button",{onClick:()=>{localStorage.removeItem("token"),localStorage.removeItem("user"),localStorage.removeItem("isAdmin"),localStorage.removeItem("adminEmail"),window.location.href="/auth/login"},className:"mt-2 flex w-full items-center gap-3 rounded-lg px-3 py-2 text-gray-300 hover:bg-red-500/20 hover:text-red-400 transition-colors",children:[s.jsx("span",{className:"material-symbols-outlined",children:"logout"}),s.jsx("p",{className:"text-sm font-medium",children:e("admin.logout")})]})]})]})]})}},22254:(e,t,r)=>{e.exports=r(14767)},2324:(e,t,r)=>{"use strict";r.d(t,{$8:()=>n,GJ:()=>i,My:()=>l,kS:()=>o,ts:()=>s});let s=()=>null,a=()=>null,n=()=>!!a(),i=()=>{let e=s();return!!e&&["admin","super_admin","operator"].includes(e.role)},l=e=>["admin","super_admin","operator"].includes(e)?"/admin":"/dashboard",o=()=>{}},94913:(e,t,r)=>{"use strict";r.d(t,{X6:()=>l,dN:()=>i,o0:()=>a,p6:()=>s});let s=(e,t={})=>{if(!e)return"N/A";try{let r=new Date(e);if(isNaN(r.getTime()))return"N/A";let s={day:"2-digit",month:"2-digit",year:"numeric",...t};return r.toLocaleDateString("tr-TR",s)}catch(e){return console.error("Error formatting date:",e),"N/A"}},a=e=>{if(!e)return"N/A";try{let t=new Date(e);if(isNaN(t.getTime()))return"N/A";return t.toLocaleDateString("tr-TR",{day:"2-digit",month:"2-digit",year:"numeric",hour:"2-digit",minute:"2-digit"})}catch(e){return console.error("Error formatting date time:",e),"N/A"}},n=(e,t="TRY",r="tr-TR")=>{if(null==e)return n(0,t,r);try{let s="string"==typeof e?parseFloat(e):e;if(isNaN(s))return n(0,t,r);return new Intl.NumberFormat(r,{style:"currency",currency:t,minimumFractionDigits:2,maximumFractionDigits:2}).format(s)}catch(r){return console.error("Error formatting currency:",r),`${e} ${t}`}},i=e=>n(e,"TRY","tr-TR"),l=e=>{if(null==e)return"0%";try{let t="string"==typeof e?parseFloat(e):e;if(isNaN(t))return"0%";if(t>0)return`+${t.toFixed(1)}%`;if(t<0)return`${t.toFixed(1)}%`;return"0%"}catch(e){return console.error("Error formatting change:",e),"0%"}}},36846:(e,t,r)=>{"use strict";r.d(t,{cM:()=>i});let s={DEBUG:"debug",INFO:"info",WARN:"warn",ERROR:"error"};class a{constructor(){this.isDevelopment=!1}formatMessage(e,t,r=null){let s=new Date().toISOString(),a=`[${s}] [${e.toUpperCase()}]`;return r?{prefix:a,message:t,data:r}:{prefix:a,message:t}}debug(e,t=null){if(!this.isDevelopment)return;let r=this.formatMessage(s.DEBUG,e,t);t?console.log(r.prefix,r.message,r.data):console.log(r.prefix,r.message)}info(e,t=null){let r=this.formatMessage(s.INFO,e,t);t?console.info(r.prefix,r.message,r.data):console.info(r.prefix,r.message)}warn(e,t=null){let r=this.formatMessage(s.WARN,e,t);t?console.warn(r.prefix,r.message,r.data):console.warn(r.prefix,r.message)}error(e,t=null){let r=this.formatMessage(s.ERROR,e,t);t?(console.error(r.prefix,r.message,t),this.isDevelopment):console.error(r.prefix,r.message)}apiError(e,t){this.error(`API Error [${e}]`,{endpoint:e,status:t?.response?.status,message:t?.response?.data?.message||t?.message,data:t?.response?.data})}}let n=new a,i={debug:(e,t)=>n.debug(e,t),info:(e,t)=>n.info(e,t),warn:(e,t)=>n.warn(e,t),error:(e,t)=>n.error(e,t),apiError:(e,t)=>n.apiError(e,t)}},70597:(e,t,r)=>{"use strict";r.r(t),r.d(t,{$$typeof:()=>n,__esModule:()=>a,default:()=>i});let s=(0,r(86843).createProxy)(String.raw`W:\garbet\Frontend\app\admin\users\page.js`),{__esModule:a,$$typeof:n}=s,i=s.default}};var t=require("../../../webpack-runtime.js");t.C(e);var r=e=>t(t.s=e),s=t.X(0,[1263,9069,367],()=>r(82287));module.exports=s})();