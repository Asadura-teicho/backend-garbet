(()=>{var e={};e.id=6716,e.ids=[6716],e.modules={47849:e=>{"use strict";e.exports=require("next/dist/client/components/action-async-storage.external")},55403:e=>{"use strict";e.exports=require("next/dist/client/components/request-async-storage.external")},94749:e=>{"use strict";e.exports=require("next/dist/client/components/static-generation-async-storage.external")},20399:e=>{"use strict";e.exports=require("next/dist/compiled/next-server/app-page.runtime.prod.js")},25528:e=>{"use strict";e.exports=require("next/dist\\client\\components\\action-async-storage.external.js")},91877:e=>{"use strict";e.exports=require("next/dist\\client\\components\\request-async-storage.external.js")},25319:e=>{"use strict";e.exports=require("next/dist\\client\\components\\static-generation-async-storage.external.js")},39491:e=>{"use strict";e.exports=require("assert")},6113:e=>{"use strict";e.exports=require("crypto")},82361:e=>{"use strict";e.exports=require("events")},57147:e=>{"use strict";e.exports=require("fs")},13685:e=>{"use strict";e.exports=require("http")},85158:e=>{"use strict";e.exports=require("http2")},95687:e=>{"use strict";e.exports=require("https")},22037:e=>{"use strict";e.exports=require("os")},71017:e=>{"use strict";e.exports=require("path")},12781:e=>{"use strict";e.exports=require("stream")},76224:e=>{"use strict";e.exports=require("tty")},57310:e=>{"use strict";e.exports=require("url")},73837:e=>{"use strict";e.exports=require("util")},59796:e=>{"use strict";e.exports=require("zlib")},71333:(e,t,r)=>{"use strict";r.r(t),r.d(t,{GlobalError:()=>l.a,__next_app__:()=>m,originalPathname:()=>u,pages:()=>d,routeModule:()=>x,tree:()=>c});var s=r(50482),a=r(69108),i=r(62563),l=r.n(i),o=r(68300),n={};for(let e in o)0>["default","tree","pages","GlobalError","originalPathname","__next_app__","routeModule"].indexOf(e)&&(n[e]=()=>o[e]);r.d(t,n);let c=["",{children:["auth",{children:["login",{children:["__PAGE__",{},{page:[()=>Promise.resolve().then(r.bind(r,14881)),"W:\\garbet\\Frontend\\app\\auth\\login\\page.js"]}]},{}]},{}]},{layout:[()=>Promise.resolve().then(r.bind(r,69847)),"W:\\garbet\\Frontend\\app\\layout.js"],error:[()=>Promise.resolve().then(r.bind(r,60826)),"W:\\garbet\\Frontend\\app\\error.js"],"not-found":[()=>Promise.resolve().then(r.bind(r,46178)),"W:\\garbet\\Frontend\\app\\not-found.js"]}],d=["W:\\garbet\\Frontend\\app\\auth\\login\\page.js"],u="/auth/login/page",m={require:r,loadChunk:()=>Promise.resolve()},x=new s.AppPageRouteModule({definition:{kind:a.x.APP_PAGE,page:"/auth/login/page",pathname:"/auth/login",bundlePath:"",filename:"",appPaths:[]},userland:{loaderTree:c}})},19120:(e,t,r)=>{Promise.resolve().then(r.bind(r,91880))},91880:(e,t,r)=>{"use strict";r.r(t),r.d(t,{default:()=>m});var s=r(95344),a=r(3729),i=r(22254),l=r(20783),o=r.n(l),n=r(19747),c=r(24774),d=r(17397);let u=["admin","super_admin","operator"];function m(){let{t:e}=(0,n.$)();(0,i.useRouter)();let t=(0,i.useSearchParams)(),[r,l]=(0,a.useState)(!1),[m,x]=(0,a.useState)(""),[p,g]=(0,a.useState)(""),[h,f]=(0,a.useState)(""),[b,v]=(0,a.useState)(!1);(0,a.useEffect)(()=>{(0,d.eZ)(e)},[e]);let y=async r=>{r.preventDefault(),f(""),v(!0);try{let e;let{token:r,user:s,redirectPath:a}=(await c.kv.login(m,p)).data||{};if(!s||!r)throw Error("Login succeeded but no user or token payload was returned");localStorage.setItem("token",r),localStorage.setItem("user",JSON.stringify(s));let i=u.includes(s.role);localStorage.setItem("isAdmin",i?"true":"false"),i&&s.email&&localStorage.setItem("adminEmail",s.email);let l=t?.get("next"),o=l&&l.startsWith("/")?l:null;e=o?o.startsWith("/admin")&&!i?"/dashboard":o:a||(i?"/admin":"/dashboard"),window.location.href=e}catch(t){f((0,d.zG)(t,e("errors.loginFailed")).message)}finally{v(!1)}};return(0,s.jsxs)("div",{className:"relative flex min-h-screen w-full flex-col items-center justify-center bg-[#121212] bg-[url('https://images.unsplash.com/photo-1542744095-291d1f67b221?q=80&w=2070&auto=format&fit=crop')] bg-cover bg-center bg-no-repeat p-4 md:p-6 lg:p-8",children:[s.jsx("div",{className:"absolute inset-0 bg-black/60 backdrop-blur-sm"}),(0,s.jsxs)("div",{className:"relative z-10 flex w-full max-w-md flex-col items-center",children:[s.jsx("header",{className:"mb-8 text-center",children:s.jsx("svg",{className:"mx-auto h-12 w-auto text-primary",fill:"currentColor",viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg",children:s.jsx("path",{d:"M12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zm0 18c-4.41 0-8-3.59-8-8s3.59-8 8-8 8 3.59 8 8-3.59 8-8 8zm-1-13h2v6h-2zm0 8h2v2h-2z"})})}),s.jsx("main",{className:"w-full rounded-xl border border-white/10 bg-[#1E1E1E]/85 p-6 shadow-2xl shadow-black/30 md:p-8",children:(0,s.jsxs)("div",{className:"flex flex-col gap-6",children:[(0,s.jsxs)("div",{className:"text-center",children:[s.jsx("h1",{className:"text-2xl font-bold leading-tight tracking-tight text-white md:text-3xl",children:e("login.title")}),s.jsx("p",{className:"mt-1 text-sm text-[#E0E0E0]/60",children:e("login.subtitle")})]}),h&&(0,s.jsxs)("div",{className:"mb-4 rounded-lg bg-red-500/20 border border-red-500/50 p-3",children:[s.jsx("p",{className:"text-sm text-red-400 font-medium",children:h}),!1]}),(0,s.jsxs)("form",{className:"flex flex-col gap-6",onSubmit:y,children:[(0,s.jsxs)("div",{className:"flex flex-col",children:[s.jsx("label",{className:"mb-2 text-sm font-medium leading-normal text-white",htmlFor:"email",children:e("login.email")}),s.jsx("input",{className:"h-12 w-full rounded-lg border border-[#3a3a3a] bg-[#2a2a2a] px-4 text-sm font-normal leading-normal text-white placeholder:text-gray-500 transition-all focus:border-primary focus:bg-[#2f2f2f] focus:outline-none focus:ring-2 focus:ring-primary/20 disabled:opacity-50",id:"email",placeholder:e("login.emailPlaceholder"),type:"email",value:m,onChange:e=>x(e.target.value),required:!0,disabled:b,"aria-required":"true"})]}),(0,s.jsxs)("div",{className:"flex flex-col",children:[s.jsx("label",{className:"mb-2 text-sm font-medium leading-normal text-white",htmlFor:"password",children:e("login.password")}),(0,s.jsxs)("div",{className:"relative flex w-full items-center",children:[s.jsx("input",{className:"h-12 w-full rounded-lg border border-[#3a3a3a] bg-[#2a2a2a] px-4 pr-12 text-sm font-normal leading-normal text-white placeholder:text-gray-500 transition-all focus:border-primary focus:bg-[#2f2f2f] focus:outline-none focus:ring-2 focus:ring-primary/20 disabled:opacity-50",id:"password",placeholder:e("login.passwordPlaceholder"),type:r?"text":"password",value:p,onChange:e=>g(e.target.value),required:!0,disabled:b,"aria-required":"true"}),s.jsx("button",{"aria-label":r?"Hide password":"Show password",className:"absolute right-3 flex items-center justify-center text-gray-400 transition-colors hover:text-white focus:outline-none focus:ring-2 focus:ring-primary/20 rounded",type:"button",onClick:()=>l(!r),tabIndex:0,children:s.jsx("span",{className:"material-symbols-outlined text-xl",children:r?"visibility_off":"visibility"})})]})]}),s.jsx("div",{className:"text-right",children:s.jsx(o(),{className:"text-sm font-medium text-[#4D96FF] hover:text-primary hover:underline transition-colors",href:"/auth/forgot-password",children:e("login.forgotPassword")})}),s.jsx("button",{className:"mt-2 flex h-12 w-full items-center justify-center rounded-lg bg-primary text-center text-sm font-bold text-black transition-all hover:brightness-110 active:scale-[0.98] focus:outline-none focus:ring-2 focus:ring-primary focus:ring-offset-2 focus:ring-offset-[#1E1E1E] disabled:opacity-50 disabled:cursor-not-allowed",type:"submit",disabled:b,children:b?"Logging in...":e("common.login")})]}),s.jsx("div",{className:"mt-6 text-center",children:(0,s.jsxs)("p",{className:"text-sm text-gray-400",children:[e("login.dontHaveAccount")," ",s.jsx(o(),{className:"font-medium text-[#4D96FF] hover:text-primary hover:underline transition-colors",href:"/auth/register",children:e("login.createAccount")})]})})]})})]}),s.jsx("footer",{className:"absolute bottom-4 left-4 right-4 z-10 text-center",children:s.jsx("p",{className:"text-xs text-white/50",children:"\xa9 2024 Your Casino. All rights reserved. Please play responsibly."})})]})}},22254:(e,t,r)=>{e.exports=r(14767)},14881:(e,t,r)=>{"use strict";r.r(t),r.d(t,{$$typeof:()=>i,__esModule:()=>a,default:()=>l});let s=(0,r(86843).createProxy)(String.raw`W:\garbet\Frontend\app\auth\login\page.js`),{__esModule:a,$$typeof:i}=s,l=s.default}};var t=require("../../../webpack-runtime.js");t.C(e);var r=e=>t(t.s=e),s=t.X(0,[1263,9069],()=>r(71333));module.exports=s})();